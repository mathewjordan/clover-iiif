{
  "version": 3,
  "sources": ["../node_modules/typesafe-actions/src/utils/validation.ts", "../node_modules/typesafe-actions/src/action.ts", "../node_modules/typesafe-actions/src/create-custom-action.ts", "../node_modules/typesafe-actions/src/create-action.ts", "../node_modules/typesafe-actions/src/get-type.ts", "../node_modules/typesafe-actions/src/deprecated/create-custom-action.ts", "../node_modules/typesafe-actions/src/deprecated/index.ts", "../node_modules/typesafe-actions/src/deprecated/create-action.ts", "../node_modules/typesafe-actions/src/deprecated/create-standard-action.ts", "../node_modules/typesafe-actions/src/create-async-action.ts", "../node_modules/typesafe-actions/src/create-reducer.ts", "../node_modules/typesafe-actions/src/is-action-of.ts", "../node_modules/typesafe-actions/src/is-of-type.ts", "../src/index.tsx", "../src/context/viewer-context.tsx", "../node_modules/@iiif/parser/dist/esm/index.mjs", "../node_modules/@iiif/vault/dist/esm/index.mjs", "../node_modules/@babel/runtime/helpers/esm/defineProperty.js", "../node_modules/@babel/runtime/helpers/esm/objectSpread2.js", "../node_modules/redux/es/redux.js", "../src/components/Viewer/Viewer.tsx", "../src/hooks/use-iiif/getAccompanyingCanvasImage.ts", "../src/hooks/use-iiif/getCanvasByCriteria.ts", "../src/hooks/use-iiif/getLabel.ts", "../src/hooks/use-iiif/getPaintingResource.ts", "../src/hooks/use-iiif/getSupplementingResources.ts", "../src/hooks/use-iiif/getThumbnail.ts", "../src/stitches.tsx", "../src/components/Viewer/Viewer.styled.tsx", "../src/hooks/useMediaQuery.ts", "../src/hooks/useBodyLocked.ts", "../src/components/Viewer/Header.tsx", "../src/components/Viewer/Header.styled.ts", "../src/components/Collection/Collection.styled.ts", "../src/components/Viewer/IIIFBadge.tsx", "../src/components/CopyText.tsx", "../src/hooks/useCopyToClipboard.ts", "../src/components/Collection/Collection.tsx", "../src/components/Collection/Icon.tsx", "../src/components/Viewer/Toggle.tsx", "../src/components/Viewer/Toggle.styled.ts", "../src/components/Viewer/Content.tsx", "../src/components/Media/Media.tsx", "../src/components/Media/Media.styled.tsx", "../src/components/Media/Thumbnail.tsx", "../src/services/utils.ts", "../src/components/Media/Thumbnail.styled.tsx", "../src/hooks/use-iiif/getResourceType.ts", "../src/components/Media/Controls.tsx", "../src/components/Media/Controls.styled.tsx", "../src/hooks/useKeyPress.ts", "../src/components/Navigator/Navigator.tsx", "../src/components/Navigator/Navigator.styled.tsx", "../src/components/Navigator/Resource.tsx", "../src/components/Navigator/Cue.styled.tsx", "../src/hooks/use-webvtt.ts", "../src/components/Navigator/Menu.tsx", "../src/components/Navigator/Cue.tsx", "../src/context/current-time-context.tsx", "../src/components/Navigator/Menu.styled.tsx", "../src/components/Navigator/About/About.styled.ts", "../src/components/Properties/Homepage.tsx", "../src/components/Properties/Id.tsx", "../src/components/Properties/Metadata.tsx", "../src/components/Properties/RequiredStatement.tsx", "../src/components/Properties/Rights.tsx", "../src/components/Properties/SeeAlso.tsx", "../src/components/Properties/Summary.tsx", "../src/components/Properties/Thumbnail.tsx", "../src/components/Navigator/About/About.tsx", "../src/components/Player/Player.tsx", "../src/components/Player/Player.styled.tsx", "../src/components/Player/AudioVisualizer.tsx", "../src/components/Player/AudioVisualizer.styled.tsx", "../src/components/Player/Track.tsx", "../src/components/ImageViewer/ImageViewer.tsx", "../src/components/ImageViewer/OSD.tsx", "../src/components/ImageViewer/ImageViewer.styled.tsx", "../src/components/ImageViewer/Controls.tsx", "../src/components/ImageViewer/Button.tsx", "../src/components/ImageViewer/Button.styled.tsx", "../src/components/ImageViewer/Controls.styled.tsx", "../src/services/iiif.ts", "../src/components/Viewer/ErrorFallback.tsx", "../src/components/Viewer/ErrorFallback.styled.tsx"],
  "sourcesContent": ["import {\n  ActionCreator,\n  ActionCreatorTypeMetadata,\n  TypeConstant,\n} from '../type-helpers';\n\nexport function checkIsEmpty(arg: unknown) {\n  return arg == null;\n}\n\nexport function throwIsEmpty(argPosition: number): never {\n  throw new Error(`Argument ${argPosition} is empty.`);\n}\n\nexport function checkValidActionCreator(\n  arg: unknown\n): arg is ActionCreator<TypeConstant> {\n  return typeof arg === 'function' && 'getType' in arg;\n}\n\nexport function checkInvalidActionCreator(arg: unknown) {\n  return !checkValidActionCreator(arg);\n}\n\nexport function throwInvalidActionCreator(argPosition: number): never {\n  throw new Error(\n    `Argument ${argPosition} is invalid, it should be an action-creator instance from \"typesafe-actions\"`\n  );\n}\n\nexport function checkInvalidActionCreatorInArray(\n  arg: ActionCreator<TypeConstant> & ActionCreatorTypeMetadata<TypeConstant>,\n  idx: number\n): void | never {\n  if (arg == null) {\n    throw new Error(\n      `Argument contains array with empty element at index ${idx}`\n    );\n  } else if (arg.getType == null) {\n    throw new Error(\n      // tslint:disable-next-line:max-line-length\n      `Argument contains array with invalid element at index ${idx}, it should be an action-creator instance from \"typesafe-actions\"`\n    );\n  }\n}\n\nexport function checkValidActionType(arg: unknown): arg is string | symbol {\n  return typeof arg === 'string' || typeof arg === 'symbol';\n}\n\nexport function checkInvalidActionType(arg: unknown) {\n  return !checkValidActionType(arg);\n}\n\nexport function throwInvalidActionType(argPosition: number): never {\n  throw new Error(\n    `Argument ${argPosition} is invalid, it should be an action type of type: string | symbol`\n  );\n}\n\nexport function checkInvalidActionTypeInArray(\n  arg: TypeConstant,\n  idx: number\n): void | never {\n  if (arg == null) {\n    throw new Error(\n      `Argument contains array with empty element at index ${idx}`\n    );\n  } else if (typeof arg !== 'string' && typeof arg !== 'symbol') {\n    throw new Error(\n      `Argument contains array with invalid element at index ${idx}, it should be of type: string | symbol`\n    );\n  }\n}\n\nexport function throwInvalidActionTypeOrActionCreator(\n  argPosition: number\n): never {\n  throw new Error(\n    `Argument ${argPosition} is invalid, it should be an action-creator instance from \"typesafe-actions\" or action type of type: string | symbol`\n  );\n}\n", "import { TypeConstant } from './type-helpers';\nimport {\n  checkIsEmpty,\n  throwIsEmpty,\n  checkInvalidActionType,\n  throwInvalidActionCreator,\n} from './utils/validation';\n\nexport function action<T extends TypeConstant, E>(\n  type: T,\n  payload: undefined,\n  meta: undefined,\n  error: E\n): { type: T; error: E };\n\nexport function action<T extends TypeConstant, M, E>(\n  type: T,\n  payload: undefined,\n  meta: M,\n  error: E\n): { type: T; meta: M; error: E };\n\nexport function action<T extends TypeConstant, P, E>(\n  type: T,\n  payload: P,\n  meta: undefined,\n  error: E\n): { type: T; payload: P; error: E };\n\nexport function action<T extends TypeConstant, P, M, E>(\n  type: T,\n  payload: P,\n  meta: M,\n  error: E\n): { type: T; payload: P; meta: M; error: E };\n\nexport function action<T extends TypeConstant, M>(\n  type: T,\n  payload: undefined,\n  meta: M\n): { type: T; meta: M };\n\nexport function action<T extends TypeConstant, P, M>(\n  type: T,\n  payload: P,\n  meta: M\n): { type: T; payload: P; meta: M };\n\nexport function action<T extends TypeConstant, P>(\n  type: T,\n  payload: P\n): { type: T; payload: P };\n\nexport function action<T extends TypeConstant>(type: T): { type: T };\n\n/**\n * @description flux standard action factory\n * @example\n * ```\n * const add = (amount: number, meta?: Meta, error?: boolean) => action('INCREMENT', amount, meta, error);\n * ```\n */\nexport function action<\n  T extends TypeConstant,\n  P = undefined,\n  M = undefined,\n  E = undefined\n>(type: T, payload?: P, meta?: M, error?: E) {\n  if (checkIsEmpty(type)) {\n    throwIsEmpty(1);\n  }\n\n  if (checkInvalidActionType(type)) {\n    throwInvalidActionCreator(1);\n  }\n\n  return { type, payload, meta, error } as any;\n}\n", "import {\n  TypeConstant,\n  ResolveType,\n  ActionCreatorTypeMetadata,\n} from './type-helpers';\nimport {\n  checkIsEmpty,\n  throwIsEmpty,\n  checkInvalidActionType,\n  throwInvalidActionType,\n} from './utils/validation';\n\n/**\n * @description create custom action-creator using constructor function with injected type argument\n */\nexport function createCustomAction<\n  TType extends TypeConstant,\n  TArgs extends any[] = [],\n  TReturn extends any = {}\n>(\n  type: TType,\n  createHandler?: (...args: TArgs) => TReturn\n): ((...args: TArgs) => ResolveType<{ type: TType } & TReturn>) &\n  ActionCreatorTypeMetadata<TType> {\n  if (checkIsEmpty(type)) {\n    throwIsEmpty(1);\n  }\n\n  if (checkInvalidActionType(type)) {\n    throwInvalidActionType(1);\n  }\n\n  const actionCreator = (...args: TArgs) => {\n    const customProps =\n      createHandler != null ? createHandler(...args) : undefined;\n    return { type, ...customProps } as ResolveType<{ type: TType } & TReturn>;\n  };\n\n  const typeMeta = {\n    getType: () => type,\n    // redux-actions compatibility\n    toString: () => type,\n  } as ActionCreatorTypeMetadata<TType>;\n\n  return Object.assign(actionCreator, typeMeta);\n}\n", "import {\n  TypeConstant,\n  ActionCreatorBuilder,\n  ActionCreatorTypeMetadata,\n  ActionBuilder,\n} from './type-helpers';\nimport { createCustomAction } from './create-custom-action';\nimport {\n  checkIsEmpty,\n  throwIsEmpty,\n  checkInvalidActionType,\n  throwInvalidActionType,\n} from './utils/validation';\n\nexport function createAction<TType extends TypeConstant>(\n  type: TType\n): <TPayload = undefined, TMeta = undefined>() => ActionCreatorBuilder<\n  TType,\n  TPayload,\n  TMeta\n>;\n\nexport function createAction<\n  TType extends TypeConstant,\n  TCreatorPayload extends any = undefined,\n  TCreatorMeta extends any = undefined,\n  TArgs extends any[] = any[]\n>(\n  type: TType,\n  payloadCreator: undefined | ((...args: TArgs) => TCreatorPayload),\n  metaCreator?: (...args: TArgs) => TCreatorMeta\n): <\n  TPayload extends TCreatorPayload = TCreatorPayload,\n  TMeta extends TCreatorMeta = TCreatorMeta\n>() => (...args: TArgs) => ActionBuilder<TType, TPayload, TMeta>;\n\n/**\n * @description create an action-creator\n */\nexport function createAction<\n  TType extends TypeConstant,\n  TCreatorPayload extends any = undefined,\n  TCreatorMeta extends any = undefined,\n  TArgs extends any[] = any[]\n>(\n  type: TType,\n  payloadCreator?: undefined | ((...args: TArgs) => TCreatorPayload),\n  metaCreator?: (...args: TArgs) => TCreatorMeta\n):\n  | (<\n      TPayload extends TCreatorPayload = TCreatorPayload,\n      TMeta extends TCreatorMeta = TCreatorMeta\n    >() => (...args: TArgs) => ActionBuilder<TType, TPayload, TMeta>)\n  | (<TPayload = undefined, TMeta = undefined>() => ActionCreatorBuilder<\n      TType,\n      TPayload,\n      TMeta\n    >) {\n  if (checkIsEmpty(type)) {\n    throwIsEmpty(1);\n  }\n\n  if (checkInvalidActionType(type)) {\n    throwInvalidActionType(1);\n  }\n\n  return <TPayload, TMeta = undefined>() => {\n    return createCustomAction(type, (...args: TArgs) => {\n      let payload = args[0];\n      let meta = args[1];\n\n      if (payloadCreator != null || metaCreator != null) {\n        payload = payloadCreator != null ? payloadCreator(...args) : undefined;\n        meta = metaCreator != null ? metaCreator(...args) : undefined;\n      }\n\n      return {\n        ...(payload !== undefined && { payload }),\n        ...(meta !== undefined && { meta }),\n      };\n    }) as ActionCreatorBuilder<TType, TPayload, TMeta>;\n  };\n}\n", "import {\n  TypeConstant,\n  ActionCreator,\n  ActionCreatorTypeMetadata,\n} from './type-helpers';\nimport {\n  checkIsEmpty,\n  throwIsEmpty,\n  checkInvalidActionCreator,\n  throwInvalidActionCreator,\n} from './utils/validation';\n\n/**\n * @description get the \"type literal\" of a given action-creator\n */\nexport function getType<TType extends TypeConstant>(\n  actionCreator: ActionCreator<TType> & ActionCreatorTypeMetadata<TType>\n): TType {\n  if (checkIsEmpty(actionCreator)) {\n    throwIsEmpty(1);\n  }\n\n  if (checkInvalidActionCreator(actionCreator)) {\n    throwInvalidActionCreator(1);\n  }\n\n  return actionCreator.getType!();\n}\n", "import { ActionCreator, TypeConstant } from '../type-helpers';\nimport {\n  checkIsEmpty,\n  throwIsEmpty,\n  checkInvalidActionType,\n  throwInvalidActionType,\n} from '../utils/validation';\n\n/**\n * @description create custom action-creator using constructor function with injected type argument\n */\nexport function createCustomAction<\n  T extends TypeConstant,\n  AC extends ActionCreator<T> = () => { type: T }\n>(type: T, createHandler?: (type: T) => AC): AC {\n  if (checkIsEmpty(type)) {\n    throwIsEmpty(1);\n  }\n\n  if (checkInvalidActionType(type)) {\n    throwInvalidActionType(1);\n  }\n\n  const actionCreator: AC =\n    createHandler != null ? createHandler(type) : ((() => ({ type })) as AC);\n\n  return Object.assign(actionCreator, {\n    getType: () => type,\n    // redux-actions compatibility\n    toString: () => type,\n  });\n}\n", "import { createAction } from './create-action';\nimport { createCustomAction } from './create-custom-action';\nimport { createStandardAction } from './create-standard-action';\n\nexport default { createAction, createCustomAction, createStandardAction };\n", "import { TypeConstant, ActionCreator } from '../type-helpers';\nimport { action } from '../action';\n\nexport type PayloadMetaAction<\n  T extends TypeConstant,\n  P,\n  M\n> = P extends undefined\n  ? M extends undefined\n    ? { type: T }\n    : { type: T; meta: M }\n  : M extends undefined\n  ? { type: T; payload: P }\n  : { type: T; payload: P; meta: M };\n\n/**\n * @description typesafe action-creator factory\n */\nexport function createAction<\n  T extends TypeConstant,\n  AC extends ActionCreator<T> = () => { type: T }\n>(\n  type: T,\n  createHandler?: (\n    actionCallback: <P = undefined, M = undefined>(\n      payload?: P,\n      meta?: M\n    ) => PayloadMetaAction<T, P, M>\n  ) => AC\n): AC {\n  // validation is already done in action function\n\n  const actionCreator: AC =\n    createHandler == null\n      ? ((() => action(type)) as AC)\n      : createHandler(action.bind(null, type) as Parameters<\n          typeof createHandler\n        >[0]);\n\n  return Object.assign(actionCreator, {\n    getType: () => type,\n    // redux-actions compatibility\n    toString: () => type,\n  });\n}\n", "import { TypeConstant, ActionCreatorBuilder } from '../type-helpers';\nimport {\n  checkIsEmpty,\n  throwIsEmpty,\n  checkInvalidActionType,\n  throwInvalidActionType,\n} from '../utils/validation';\nimport { createCustomAction } from './create-custom-action';\n\n/** @private */\nexport type ActionBuilderMap<\n  TType extends TypeConstant,\n  TActionProps extends any,\n  TPayloadArg extends any = undefined,\n  TMetaArg extends any = undefined\n> = [TMetaArg] extends [undefined]\n  ? [TPayloadArg] extends [undefined]\n    ? () => { type: TType } & TActionProps\n    : (payload: TPayloadArg) => { type: TType } & TActionProps\n  : (payload: TPayloadArg, meta: TMetaArg) => { type: TType } & TActionProps;\n\nexport interface ActionBuilder<T extends TypeConstant> {\n  <P = undefined, M = undefined>(): ActionCreatorBuilder<T, P, M>;\n  map<R, P = undefined, M = undefined>(\n    fn: (payload: P, meta: M) => R\n  ): ActionBuilderMap<T, R, P, M>;\n}\n\n/**\n * @description create an action-creator of a given function that contains hidden \"type\" metadata\n */\nexport function createStandardAction<T extends TypeConstant>(\n  type: T\n): ActionBuilder<T> {\n  if (checkIsEmpty(type)) {\n    throwIsEmpty(1);\n  }\n\n  if (checkInvalidActionType(type)) {\n    throwInvalidActionType(1);\n  }\n\n  function constructor<P, M = undefined>(): ActionCreatorBuilder<T, P, M> {\n    return createCustomAction(type, _type => (payload: P, meta: M) => ({\n      type: _type,\n      payload,\n      meta,\n    })) as ActionCreatorBuilder<T, P, M>;\n  }\n\n  function map<R, P, M>(\n    fn: (payload: P, meta: M) => R\n  ): ActionBuilderMap<T, R, P, M> {\n    return createCustomAction(type, _type => (payload: P, meta: M) =>\n      Object.assign(fn(payload, meta), { type: _type })\n    ) as ActionBuilderMap<T, R, P, M>;\n  }\n\n  return Object.assign(constructor, { map });\n}\n", "import {\n  TypeConstant,\n  ActionCreatorBuilder,\n  ActionBuilder,\n} from './type-helpers';\nimport { createAction } from './create-action';\n\nexport function throwInvalidAsyncActionArgument(argPosition: number): never {\n  throw new Error(\n    `Argument ${argPosition} is invalid, it should be an action type of \"string | symbol\" or a tuple of \"[string | symbol, Function, Function?]\"`\n  );\n}\n\ntype AsyncActionHandler<\n  TType extends TypeConstant,\n  TArgs extends any[],\n  TPayloadMeta\n> = [TArgs] extends [never]\n  ? ActionCreatorBuilder<\n      TType,\n      unknown extends TPayloadMeta\n        ? any\n        : [TPayloadMeta] extends [[infer T, any]]\n        ? T\n        : TPayloadMeta,\n      unknown extends TPayloadMeta\n        ? undefined\n        : [TPayloadMeta] extends [[any, infer T]]\n        ? T\n        : undefined\n    >\n  : (\n      ...args: TArgs\n    ) => ActionBuilder<\n      TType,\n      [TPayloadMeta] extends [[infer T, any]] ? T : TPayloadMeta,\n      [TPayloadMeta] extends [[any, infer T]] ? T : undefined\n    >;\n\ninterface AsyncAction<\n  TType1 extends TypeConstant,\n  TPayload1 extends any,\n  TMeta1 extends any,\n  TArgs1 extends any[],\n  TType2 extends TypeConstant,\n  TPayload2 extends any,\n  TMeta2 extends any,\n  TArgs2 extends any[],\n  TType3 extends TypeConstant,\n  TPayload3 extends any,\n  TMeta3 extends any,\n  TArgs3 extends any[],\n  TType4 extends TypeConstant,\n  TPayload4 extends any,\n  TMeta4 extends any,\n  TArgs4 extends any[]\n> {\n  // tslint:disable-next-line: callable-types\n  <\n    TPayloadMeta1 extends\n      | TPayload1\n      | [TPayload1, TMeta1] = TMeta1 extends undefined\n      ? TPayload1\n      : [TPayload1, TMeta1],\n    TPayloadMeta2 extends\n      | TPayload2\n      | [TPayload2, TMeta2] = TMeta2 extends undefined\n      ? TPayload2\n      : [TPayload2, TMeta2],\n    TPayloadMeta3 extends\n      | TPayload3\n      | [TPayload3, TMeta3] = TMeta3 extends undefined\n      ? TPayload3\n      : [TPayload3, TMeta3],\n    TPayloadMeta4 extends\n      | TPayload4\n      | [TPayload4, TMeta4] = TMeta3 extends undefined\n      ? TPayload4\n      : [TPayload4, TMeta4]\n  >(): [TType4] extends [never]\n    ? {\n        request: AsyncActionHandler<TType1, TArgs1, TPayloadMeta1>;\n        success: AsyncActionHandler<TType2, TArgs2, TPayloadMeta2>;\n        failure: AsyncActionHandler<TType3, TArgs3, TPayloadMeta3>;\n      }\n    : {\n        request: AsyncActionHandler<TType1, TArgs1, TPayloadMeta1>;\n        success: AsyncActionHandler<TType2, TArgs2, TPayloadMeta2>;\n        failure: AsyncActionHandler<TType3, TArgs3, TPayloadMeta3>;\n        cancel: AsyncActionHandler<TType4, TArgs4, TPayloadMeta4>;\n      };\n}\n\nexport function createAsyncAction<\n  TType1 extends TypeConstant,\n  TType2 extends TypeConstant,\n  TType3 extends TypeConstant,\n  TType4 extends TypeConstant = never\n>(\n  requestArg: TType1,\n  successArg: TType2,\n  failureArg: TType3,\n  cancelArg?: TType4\n): AsyncAction<\n  TType1,\n  unknown,\n  unknown,\n  never,\n  TType2,\n  unknown,\n  unknown,\n  never,\n  TType3,\n  unknown,\n  unknown,\n  never,\n  TType4,\n  unknown,\n  unknown,\n  never\n>;\n\nexport function createAsyncAction<\n  TType1 extends TypeConstant,\n  TType2 extends TypeConstant,\n  TType3 extends TypeConstant,\n  TType4 extends TypeConstant = never,\n  TPayloadCreator1 extends\n    | ((...args: TArgs1) => TPayload1)\n    | undefined = undefined,\n  TPayloadCreator2 extends\n    | ((...args: TArgs2) => TPayload2)\n    | undefined = undefined,\n  TPayloadCreator3 extends\n    | ((...args: TArgs3) => TPayload3)\n    | undefined = undefined,\n  TPayloadCreator4 extends\n    | ((...args: TArgs4) => TPayload4)\n    | undefined = undefined,\n  TMetaCreator1 extends ((...args: TArgs1) => TMeta1) | undefined = undefined,\n  TMetaCreator2 extends ((...args: TArgs2) => TMeta2) | undefined = undefined,\n  TMetaCreator3 extends ((...args: TArgs3) => TMeta3) | undefined = undefined,\n  TMetaCreator4 extends ((...args: TArgs4) => TMeta4) | undefined = undefined,\n  TPayload1 extends any = TPayloadCreator1 extends ((...args: any[]) => infer T)\n    ? T\n    : undefined,\n  TMeta1 extends any = TMetaCreator1 extends ((...args: any[]) => infer T)\n    ? T\n    : undefined,\n  TPayload2 extends any = TPayloadCreator2 extends ((...args: any[]) => infer T)\n    ? T\n    : undefined,\n  TMeta2 extends any = TMetaCreator2 extends ((...args: any[]) => infer T)\n    ? T\n    : undefined,\n  TPayload3 extends any = TPayloadCreator3 extends ((...args: any[]) => infer T)\n    ? T\n    : undefined,\n  TMeta3 extends any = TMetaCreator3 extends ((...args: any[]) => infer T)\n    ? T\n    : undefined,\n  TPayload4 extends any = TPayloadCreator4 extends ((...args: any[]) => infer T)\n    ? T\n    : undefined,\n  TMeta4 extends any = TMetaCreator4 extends ((...args: any[]) => infer T)\n    ? T\n    : undefined,\n  TArgs1 extends any[] = TPayloadCreator1 extends ((...args: infer T) => any)\n    ? T\n    : TMetaCreator1 extends ((...args: infer T) => any)\n    ? T\n    : never,\n  TArgs2 extends any[] = TPayloadCreator2 extends ((...args: infer T) => any)\n    ? T\n    : TMetaCreator2 extends ((...args: infer T) => any)\n    ? T\n    : never,\n  TArgs3 extends any[] = TPayloadCreator3 extends ((...args: infer T) => any)\n    ? T\n    : TMetaCreator3 extends ((...args: infer T) => any)\n    ? T\n    : never,\n  TArgs4 extends any[] = TPayloadCreator4 extends ((...args: infer T) => any)\n    ? T\n    : TMetaCreator4 extends ((...args: infer T) => any)\n    ? T\n    : never\n>(\n  requestArg:\n    | TType1\n    | [TType1, TPayloadCreator1]\n    | [TType1, TPayloadCreator1, TMetaCreator1],\n  successArg:\n    | TType2\n    | [TType2, TPayloadCreator2]\n    | [TType2, TPayloadCreator2, TMetaCreator2],\n  failureArg:\n    | TType3\n    | [TType3, TPayloadCreator3]\n    | [TType3, TPayloadCreator3, TMetaCreator3],\n  cancelArg?:\n    | TType4\n    | [TType4, TPayloadCreator4]\n    | [TType4, TPayloadCreator4, TMetaCreator4]\n): AsyncAction<\n  TType1,\n  TPayload1,\n  TMeta1,\n  TArgs1,\n  TType2,\n  TPayload2,\n  TMeta2,\n  TArgs2,\n  TType3,\n  TPayload3,\n  TMeta3,\n  TArgs3,\n  TType4,\n  TPayload4,\n  TMeta4,\n  TArgs4\n>;\n\n/**\n * @description create an async action-creator object that contains `request`, `success` and `failure` actions as props\n */\nexport function createAsyncAction<\n  TType1 extends TypeConstant,\n  TType2 extends TypeConstant,\n  TType3 extends TypeConstant,\n  TType4 extends TypeConstant = never,\n  TPayloadCreator1 extends\n    | ((...args: TArgs1) => TPayload1)\n    | undefined = undefined,\n  TPayloadCreator2 extends\n    | ((...args: TArgs2) => TPayload2)\n    | undefined = undefined,\n  TPayloadCreator3 extends\n    | ((...args: TArgs3) => TPayload3)\n    | undefined = undefined,\n  TPayloadCreator4 extends\n    | ((...args: TArgs4) => TPayload4)\n    | undefined = undefined,\n  TMetaCreator1 extends ((...args: TArgs1) => TMeta1) | undefined = undefined,\n  TMetaCreator2 extends ((...args: TArgs2) => TMeta2) | undefined = undefined,\n  TMetaCreator3 extends ((...args: TArgs3) => TMeta3) | undefined = undefined,\n  TMetaCreator4 extends ((...args: TArgs4) => TMeta4) | undefined = undefined,\n  TPayload1 extends any = TPayloadCreator1 extends ((...args: any[]) => infer T)\n    ? T\n    : undefined,\n  TMeta1 extends any = TMetaCreator1 extends ((...args: any[]) => infer T)\n    ? T\n    : undefined,\n  TPayload2 extends any = TPayloadCreator2 extends ((...args: any[]) => infer T)\n    ? T\n    : undefined,\n  TMeta2 extends any = TMetaCreator2 extends ((...args: any[]) => infer T)\n    ? T\n    : undefined,\n  TPayload3 extends any = TPayloadCreator3 extends ((...args: any[]) => infer T)\n    ? T\n    : undefined,\n  TMeta3 extends any = TMetaCreator3 extends ((...args: any[]) => infer T)\n    ? T\n    : undefined,\n  TPayload4 extends any = TPayloadCreator4 extends ((...args: any[]) => infer T)\n    ? T\n    : undefined,\n  TMeta4 extends any = TMetaCreator4 extends ((...args: any[]) => infer T)\n    ? T\n    : undefined,\n  TArgs1 extends any[] = TPayloadCreator1 extends ((...args: infer T) => any)\n    ? T\n    : TMetaCreator1 extends ((...args: infer T) => any)\n    ? T\n    : never,\n  TArgs2 extends any[] = TPayloadCreator2 extends ((...args: infer T) => any)\n    ? T\n    : TMetaCreator2 extends ((...args: infer T) => any)\n    ? T\n    : never,\n  TArgs3 extends any[] = TPayloadCreator3 extends ((...args: infer T) => any)\n    ? T\n    : TMetaCreator3 extends ((...args: infer T) => any)\n    ? T\n    : never,\n  TArgs4 extends any[] = TPayloadCreator4 extends ((...args: infer T) => any)\n    ? T\n    : TMetaCreator4 extends ((...args: infer T) => any)\n    ? T\n    : never\n>(\n  requestArg:\n    | TType1\n    | [TType1, TPayloadCreator1]\n    | [TType1, TPayloadCreator1, TMetaCreator1],\n  successArg:\n    | TType2\n    | [TType2, TPayloadCreator2]\n    | [TType2, TPayloadCreator2, TMetaCreator2],\n  failureArg:\n    | TType3\n    | [TType3, TPayloadCreator3]\n    | [TType3, TPayloadCreator3, TMetaCreator3],\n  cancelArg?:\n    | TType4\n    | [TType4, TPayloadCreator4]\n    | [TType4, TPayloadCreator4, TMetaCreator4]\n): AsyncAction<\n  TType1,\n  TPayload1,\n  TMeta1,\n  TArgs1,\n  TType2,\n  TPayload2,\n  TMeta2,\n  TArgs2,\n  TType3,\n  TPayload3,\n  TMeta3,\n  TArgs3,\n  TType4,\n  TPayload4,\n  TMeta4,\n  TArgs4\n> {\n  const constructor = (<\n    TP1 = undefined,\n    TM1 = undefined,\n    TP2 = undefined,\n    TM2 = undefined,\n    TP3 = undefined,\n    TM3 = undefined,\n    TP4 = undefined,\n    TM4 = undefined\n  >() => {\n    const results = [requestArg, successArg, failureArg, cancelArg].map(\n      (arg, index) => {\n        if (Array.isArray(arg)) {\n          return createAction(arg[0], arg[1] as any, arg[2] as any)();\n        } else if (typeof arg === 'string' || typeof arg === 'symbol') {\n          return createAction(arg as string)();\n        } else if (index < 3) {\n          throwInvalidAsyncActionArgument(index);\n        }\n      }\n    );\n\n    const [request, success, failure, cancel] = results;\n\n    return {\n      request,\n      success,\n      failure,\n      cancel,\n    };\n  }) as AsyncAction<\n    TType1,\n    TPayload1,\n    TMeta1,\n    TArgs1,\n    TType2,\n    TPayload2,\n    TMeta2,\n    TArgs2,\n    TType3,\n    TPayload3,\n    TMeta3,\n    TArgs3,\n    TType4,\n    TPayload4,\n    TMeta4,\n    TArgs4\n  >;\n\n  return constructor;\n}\n", "import { getType } from './get-type';\nimport {\n  checkValidActionCreator,\n  checkValidActionType,\n  throwInvalidActionTypeOrActionCreator,\n} from './utils/validation';\nimport { Reducer, Action, Types } from './type-helpers';\n\ntype HandleActionChainApi<\n  TState,\n  TInputAction extends Action,\n  TRootAction extends Action\n> = <\n  TActionCreator extends (...args: any[]) => TInputAction,\n  THandledAction extends ReturnType<TActionCreator>,\n  TOutputAction extends Exclude<TInputAction, THandledAction>\n>(\n  singleOrMultipleCreatorsAndTypes: TActionCreator | TActionCreator[],\n  reducer: (state: TState, action: THandledAction) => TState\n) => [TOutputAction] extends [Action]\n  ? Reducer<TState, TRootAction> & {\n      handlers: Record<\n        Exclude<TRootAction, TOutputAction>['type'],\n        (state: TState, action: TRootAction) => TState\n      >;\n      handleAction: HandleActionChainApi<TState, TOutputAction, TRootAction>;\n    }\n  : Reducer<TState, TRootAction> & {\n      handlers: Record<\n        TRootAction['type'],\n        (state: TState, action: TRootAction) => TState\n      >;\n    };\n\ntype HandleTypeChainApi<\n  TState,\n  TInputAction extends Action,\n  TRootAction extends Action\n> = <\n  TType extends TInputAction['type'],\n  THandledAction extends Extract<TInputAction, Action<TType>>,\n  TOutputAction extends Exclude<TInputAction, THandledAction>\n>(\n  singleOrMultipleCreatorsAndTypes: TType | TType[],\n  reducer: (state: TState, action: THandledAction) => TState\n) => [TOutputAction] extends [Action]\n  ? Reducer<TState, TRootAction> & {\n      handlers: Record<\n        Exclude<TRootAction, TOutputAction>['type'],\n        (state: TState, action: TRootAction) => TState\n      >;\n      handleType: HandleTypeChainApi<TState, TOutputAction, TRootAction>;\n    }\n  : Reducer<TState, TRootAction> & {\n      handlers: Record<\n        TRootAction['type'],\n        (state: TState, action: TRootAction) => TState\n      >;\n    };\n\ntype GetAction<\n  TAction extends Action,\n  TType extends TAction['type']\n> = TAction extends Action<TType> ? TAction : never;\n\ntype InitialHandler<TState, TRootAction extends Action> = {\n  [P in TRootAction['type']]?: (\n    state: TState,\n    action: GetAction<TRootAction, P>\n  ) => TState;\n};\n\ntype RootAction = Types extends { RootAction: infer T } ? T : any;\n\nexport function createReducer<TState, TRootAction extends Action = RootAction>(\n  initialState: TState,\n  initialHandlers: InitialHandler<TState, TRootAction> = {}\n) {\n  const handlers: any = {\n    ...initialHandlers,\n  };\n\n  const rootReducer: Reducer<TState, TRootAction> = (\n    state = initialState,\n    action: TRootAction\n  ) => {\n    if (handlers.hasOwnProperty(action.type)) {\n      const reducer = handlers[action.type];\n      if (typeof reducer !== 'function') {\n        throw Error(\n          `Reducer under \"${action.type}\" key is not a valid reducer`\n        );\n      }\n      return reducer(state, action);\n    } else {\n      return state;\n    }\n  };\n\n  const reducerHandler = ((\n    singleOrMultipleCreatorsAndTypes: any,\n    reducer: any\n  ) => {\n    const creatorsAndTypes = Array.isArray(singleOrMultipleCreatorsAndTypes)\n      ? singleOrMultipleCreatorsAndTypes\n      : [singleOrMultipleCreatorsAndTypes];\n\n    const newHandlers: typeof handlers = {};\n\n    creatorsAndTypes\n      .map(\n        (\n          acOrType: TRootAction['type'] | ((...args: any[]) => TRootAction),\n          index\n        ) =>\n          checkValidActionCreator(acOrType)\n            ? getType(acOrType)\n            : checkValidActionType(acOrType)\n            ? acOrType\n            : throwInvalidActionTypeOrActionCreator(index + 1)\n      )\n      .forEach(type => (newHandlers[type] = reducer));\n\n    return createReducer<TState, TRootAction>(initialState, {\n      ...handlers,\n      ...newHandlers,\n    });\n  }) as\n    | HandleActionChainApi<TState, TRootAction, TRootAction>\n    | HandleTypeChainApi<TState, TRootAction, TRootAction>;\n\n  const chainApi = Object.assign(rootReducer, {\n    handlers: { ...handlers },\n    handleAction: reducerHandler,\n    handleType: reducerHandler,\n  }) as Reducer<TState, TRootAction> &\n    Readonly<{\n      handlers: InitialHandler<TState, RootAction>;\n      handleAction: [unknown] extends [TRootAction]\n        ? any\n        : HandleActionChainApi<TState, TRootAction, TRootAction>;\n      handleType: [unknown] extends [TRootAction]\n        ? any\n        : HandleTypeChainApi<TState, TRootAction, TRootAction>;\n    }>;\n\n  return chainApi;\n}\n", "import { ActionCreatorTypeMetadata } from './type-helpers';\nimport {\n  checkInvalidActionCreatorInArray,\n  checkIsEmpty,\n  throwIsEmpty,\n} from './utils/validation';\n\nexport type ActionCreator<T extends { type: string }> = ((\n  ...args: any[]\n) => T) &\n  ActionCreatorTypeMetadata<T['type']>;\n\n/**\n * @description (curried assert function) check if an action is the instance of given action-creator(s)\n * @description it works with discriminated union types\n */\nexport function isActionOf<AC extends ActionCreator<{ type: string }>>(\n  actionCreator: AC | AC[],\n  action: { type: string }\n): action is ReturnType<AC>;\n\n/**\n * @description (curried assert function) check if an action is the instance of given action-creator(s)\n * @description it works with discriminated union types\n */\nexport function isActionOf<AC extends ActionCreator<{ type: string }>>(\n  actionCreator: AC | AC[]\n): (action: { type: string }) => action is ReturnType<AC>;\n\n/**\n * implementation\n */\nexport function isActionOf<AC extends ActionCreator<{ type: string }>>(\n  actionCreatorOrCreators: AC | AC[],\n  action?: { type: string }\n) {\n  if (checkIsEmpty(actionCreatorOrCreators)) {\n    throwIsEmpty(1);\n  }\n\n  const actionCreators = Array.isArray(actionCreatorOrCreators)\n    ? actionCreatorOrCreators\n    : [actionCreatorOrCreators];\n\n  actionCreators.forEach(checkInvalidActionCreatorInArray);\n\n  const assertFn = (_action: { type: string }) =>\n    actionCreators.some(\n      actionCreator => _action.type === actionCreator.getType!()\n    );\n\n  // 1 arg case => return curried version\n  if (action === undefined) {\n    return assertFn;\n  }\n  // 2 args case => invoke assertFn and return the result\n  return assertFn(action);\n}\n", "import {\n  checkInvalidActionTypeInArray,\n  checkIsEmpty,\n  throwIsEmpty,\n} from './utils/validation';\n/**\n * @description (curried assert function) check if action type is equal given type-constant\n * @description it works with discriminated union types\n */\nexport function isOfType<T extends string, A extends { type: string }>(\n  type: T | T[],\n  action: A\n): action is A extends { type: T } ? A : never;\n\n/**\n * @description (curried assert function) check if action type is equal given type-constant\n * @description it works with discriminated union types\n */\nexport function isOfType<T extends string>(\n  type: T | T[]\n): <A extends { type: string }>(\n  action: A\n) => action is A extends { type: T } ? A : never;\n\n/**\n * implementation\n */\nexport function isOfType<T extends string, A extends { type: T }>(\n  actionTypeOrTypes: T | T[],\n  action?: A\n) {\n  if (checkIsEmpty(actionTypeOrTypes)) {\n    throwIsEmpty(1);\n  }\n\n  const actionTypes = Array.isArray(actionTypeOrTypes)\n    ? actionTypeOrTypes\n    : [actionTypeOrTypes];\n\n  actionTypes.forEach(checkInvalidActionTypeInArray);\n\n  const assertFn = (_action: A) => actionTypes.includes(_action.type);\n\n  // 1 arg case => return curried version\n  if (action === undefined) {\n    return assertFn;\n  }\n  // 2 args case => invoke assertFn and return the result\n  return assertFn(action);\n}\n", "import React, { useEffect, useState } from \"react\";\nimport { CollectionNormalized, ManifestNormalized } from \"@iiif/presentation-3\";\nimport {\n  ConfigOptions,\n  ViewerProvider,\n  useViewerState,\n  useViewerDispatch,\n} from \"@/context/viewer-context\";\nimport Viewer from \"@/components/Viewer/Viewer\";\nimport { createTheme } from \"@stitches/react\";\n\ninterface Props {\n  canvasIdCallback?: (arg0: string) => void;\n  customTheme?: any;\n  id: string;\n  manifestId?: string;\n  options?: ConfigOptions;\n}\n\nconst App: React.FC<Props> = ({\n  canvasIdCallback = () => {},\n  customTheme,\n  id,\n  manifestId,\n  options,\n}) => {\n  return (\n    <ViewerProvider>\n      <RenderViewer\n        id={id}\n        manifestId={manifestId}\n        canvasIdCallback={canvasIdCallback}\n        customTheme={customTheme}\n        options={options}\n      />\n    </ViewerProvider>\n  );\n};\n\nconst RenderViewer: React.FC<Props> = ({\n  canvasIdCallback,\n  customTheme,\n  id,\n  manifestId,\n  options,\n}) => {\n  const dispatch: any = useViewerDispatch();\n\n  /**\n   * Retrieve state set by the wrapping <ViewerProvider/> and make\n   * the normalized manifest available from @iiif/vault.\n   */\n  const store = useViewerState();\n  const { activeCanvas, activeManifest, isLoaded, vault } = store;\n  const [iiifResource, setIiifResource] = useState<\n    CollectionNormalized | ManifestNormalized\n  >();\n  const [manifest, setManifest] = useState<ManifestNormalized>();\n\n  /**\n   * Overrides the baseline stitches theme when set.\n   */\n  let theme = {};\n  if (customTheme) theme = createTheme(\"custom\", customTheme);\n\n  /**\n   * On change, pass the activeCanvas up to the wrapping `<App/>`\n   * component to be handed off to a consuming application.\n   */\n  useEffect(() => {\n    if (canvasIdCallback) canvasIdCallback(activeCanvas);\n  }, [activeCanvas]);\n\n  useEffect(() => {\n    if (activeManifest)\n      vault\n        .loadManifest(activeManifest)\n        .then((data: any) => {\n          setManifest(data);\n          dispatch({\n            type: \"updateActiveCanvas\",\n            canvasId: data.items[0] && data.items[0].id,\n          });\n        })\n        .catch((error: any) => {\n          console.error(`Manifest failed to load: ${error}`);\n        })\n        .finally(() => {\n          dispatch({\n            type: \"updateIsLoaded\",\n            isLoaded: true,\n          });\n        });\n  }, [activeManifest]);\n\n  useEffect(() => {\n    let resource = id;\n\n    /**\n     * set resource as manifestIf if it exists\n     */\n    if (manifestId) resource = manifestId;\n\n    dispatch({\n      type: \"updateConfigOptions\",\n      configOptions: options,\n    });\n\n    vault\n      .load(resource)\n      .then((data: any) => {\n        setIiifResource(data);\n      })\n      .catch((error: any) => {\n        console.error(`The IIIF resource ${resource} failed to load: ${error}`);\n      });\n  }, [id, options]);\n\n  useEffect(() => {\n    let manifests: string[] = [];\n\n    if (iiifResource?.type === \"Collection\") {\n      dispatch({\n        type: \"updateCollection\",\n        collection: iiifResource,\n      });\n\n      manifests = iiifResource.items\n        .filter((item) => item.type === \"Manifest\")\n        .map((manifest) => manifest.id);\n\n      if (manifests.length > 0) {\n        dispatch({\n          type: \"updateActiveManifest\",\n          manifestId: manifests[0],\n        });\n      }\n    } else if (iiifResource?.type === \"Manifest\") {\n      dispatch({\n        type: \"updateActiveManifest\",\n        manifestId: iiifResource.id,\n      });\n    }\n  }, [iiifResource]);\n\n  /**\n   * Render loading component while manifest is fetched and\n   * loaded into React.Context as `vault`. Upon completion\n   * (error or not) isLoaded will be set to true.\n   */\n  if (!isLoaded) return <>Loading</>;\n\n  /**\n   * If an error occurs during manifest fetch process used by\n   * @iiif/vault, vault will not return a manifest\n   * that is fully normalized, and be missing the items property.\n   * This being undefined signals that something went wrong and we\n   * will render a user-friendly error as a functional component.\n   */\n\n  if (!manifest || !manifest[\"items\"]) {\n    console.log(`The IIIF manifest ${manifestId} failed to load.`);\n    return <></>;\n  }\n\n  /**\n   * If the manifest returned by @iiif/vault does not\n   * contain any canvases, then we'll show an error to the screen. This\n   * may be required if the viewer is rendered to preview manifests in\n   * repository administration views.\n   */\n  if (manifest[\"items\"].length === 0) {\n    console.log(`The IIIF manifest ${manifestId} does not contain canvases.`);\n    return <></>;\n  }\n\n  /**\n   * If manifest is normalized by @iiif/vault, we know\n   * that the manifest data is retrievable via vault.get() and we\n   * will will set the activeCanvas to the first index and render the\n   * <Viewer/> component.\n   */\n  return <Viewer manifest={manifest} theme={theme} key={manifest.id} />;\n};\n\nexport default App;\n", "import { Options } from \"openseadragon\";\nimport React from \"react\";\nimport { Vault } from \"@iiif/vault\";\nimport { CollectionNormalized } from \"@iiif/presentation-3\";\n\nexport type ConfigOptions = {\n  canvasBackgroundColor?: string;\n  canvasHeight?: string;\n  ignoreCaptionLabels?: string[];\n  openSeadragon?: Options;\n  renderAbout?: boolean;\n  showIIIFBadge?: boolean;\n  showInformationToggle?: boolean;\n  showTitle?: boolean;\n};\n\nconst defaultConfigOptions = {\n  canvasBackgroundColor: \"#e6e8eb\",\n  canvasHeight: \"61.8vh\",\n  ignoreCaptionLabels: [],\n  renderAbout: true,\n  showIIIFBadge: true,\n  showInformationToggle: true,\n  showTitle: true,\n};\n\ninterface ViewerContextStore {\n  activeCanvas: string;\n  activeManifest: string;\n  collection?: CollectionNormalized | {};\n  configOptions: ConfigOptions;\n  informationExpanded: boolean;\n  isLoaded: boolean;\n  vault: Vault;\n}\n\ninterface ViewerAction {\n  type: string;\n  canvasId: string;\n  collection: CollectionNormalized;\n  configOptions: ConfigOptions;\n  informationExpanded: boolean;\n  isLoaded: boolean;\n  manifestId: string;\n}\n\nconst defaultState: ViewerContextStore = {\n  activeCanvas: \"\",\n  activeManifest: \"\",\n  collection: {},\n  configOptions: defaultConfigOptions,\n  informationExpanded: true,\n  isLoaded: false,\n  vault: new Vault(),\n};\n\nconst ViewerStateContext =\n  React.createContext<ViewerContextStore>(defaultState);\nconst ViewerDispatchContext =\n  React.createContext<ViewerContextStore>(defaultState);\n\nfunction viewerReducer(state: ViewerContextStore, action: ViewerAction) {\n  switch (action.type) {\n    case \"updateActiveCanvas\": {\n      /**\n       * Set canvasId to empty string if it comes back undefined.\n       */\n      if (!action.canvasId) action.canvasId = \"\";\n      return {\n        ...state,\n        activeCanvas: action.canvasId,\n      };\n    }\n    case \"updateActiveManifest\": {\n      return {\n        ...state,\n        activeManifest: action.manifestId,\n      };\n    }\n    case \"updateCollection\": {\n      return {\n        ...state,\n        collection: action.collection,\n      };\n    }\n    case \"updateConfigOptions\": {\n      return {\n        ...state,\n        configOptions: {\n          ...defaultConfigOptions,\n          ...action.configOptions,\n        },\n      };\n    }\n    case \"updateInformationExpanded\": {\n      return {\n        ...state,\n        informationExpanded: action.informationExpanded,\n      };\n    }\n    case \"updateIsLoaded\": {\n      return {\n        ...state,\n        isLoaded: action.isLoaded,\n      };\n    }\n    default: {\n      throw new Error(`Unhandled action type: ${action.type}`);\n    }\n  }\n}\n\ninterface ViewerProviderProps {\n  initialState?: ViewerContextStore;\n  children: React.ReactNode;\n}\n\nconst ViewerProvider: React.FC<ViewerProviderProps> = ({\n  initialState = defaultState,\n  children,\n}) => {\n  const [state, dispatch] = React.useReducer<\n    React.Reducer<ViewerContextStore, ViewerAction>\n  >(viewerReducer, initialState);\n\n  return (\n    <ViewerStateContext.Provider value={state}>\n      <ViewerDispatchContext.Provider\n        value={dispatch as unknown as ViewerContextStore}\n      >\n        {children}\n      </ViewerDispatchContext.Provider>\n    </ViewerStateContext.Provider>\n  );\n};\n\nfunction useViewerState() {\n  const context = React.useContext(ViewerStateContext);\n  if (context === undefined) {\n    throw new Error(\"useViewerState must be used within a ViewerProvider\");\n  }\n  return context;\n}\n\nfunction useViewerDispatch() {\n  const context = React.useContext(ViewerDispatchContext);\n  if (context === undefined) {\n    throw new Error(\"useViewerDispatch must be used within a ViewerProvider\");\n  }\n  return context;\n}\n\nexport { ViewerProvider, useViewerState, useViewerDispatch };\n", "const r=[];Object.freeze(r);const be={id:\"https://iiif-parser/annotation\",type:\"Annotation\",behavior:r,label:null,thumbnail:r,summary:null,requiredStatement:null,metadata:r,seeAlso:r,homepage:r,logo:r,rendering:r,service:r,accessibility:r,audience:r,body:r,bodyValue:null,canonical:null,created:null,creator:r,generated:null,generator:r,modified:null,motivation:r,rights:r,stylesheet:null,target:r,timeMode:void 0,via:r,partOf:r},$={id:\"https://iiif-parser/annotation-page\",type:\"AnnotationPage\",behavior:r,motivation:null,label:null,thumbnail:r,summary:null,requiredStatement:null,metadata:r,rights:null,provider:r,items:r,seeAlso:r,homepage:r,logo:r,rendering:r,service:r},G={id:\"https://iiif-parser/empty-canvas\",type:\"Canvas\",label:null,behavior:r,motivation:null,thumbnail:r,posterCanvas:null,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:r,rights:null,navDate:null,provider:r,items:r,annotations:r,seeAlso:r,homepage:r,logo:r,partOf:r,rendering:r,service:r,duration:0,height:0,width:0},q={id:\"https://iiif-parser/empty-collection\",type:\"Collection\",label:null,viewingDirection:\"left-to-right\",behavior:r,motivation:null,thumbnail:r,posterCanvas:null,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:r,rights:null,navDate:null,provider:r,items:r,annotations:r,seeAlso:r,homepage:r,logo:r,partOf:r,rendering:r,service:r,services:r},V={id:\"https://iiif-parser/empty-manifest\",type:\"Manifest\",annotations:r,behavior:r,homepage:r,items:r,label:null,logo:r,metadata:r,motivation:null,navDate:null,provider:r,partOf:r,posterCanvas:null,accompanyingCanvas:null,placeholderCanvas:null,rendering:r,requiredStatement:null,rights:null,seeAlso:r,service:r,services:r,start:null,structures:r,summary:null,thumbnail:r,viewingDirection:\"left-to-right\"},U={id:\"https://iiif-parser/empty-canvas\",type:\"Range\",label:null,behavior:r,motivation:null,thumbnail:r,posterCanvas:null,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:r,rights:null,navDate:null,provider:r,items:r,annotations:r,seeAlso:r,homepage:r,logo:r,partOf:r,rendering:r,service:r,start:null,supplementary:null,viewingDirection:\"left-to-right\"},W={id:\"https://iiif-parser/empty-agent\",type:\"Agent\",label:{},logo:r,seeAlso:r,homepage:r};function S(t){return Array.isArray(t)?t:[t]}const x=[\"Collection\",\"Manifest\",\"Canvas\",\"AnnotationPage\",\"AnnotationCollection\",\"Annotation\",\"ContentResource\",\"Range\",\"Service\",\"Selector\",\"Agent\"];function z(t){if(typeof t==\"undefined\"||t===null)throw new Error(\"Null or undefined is not a valid entity.\");if(Array.isArray(t))throw new Error(\"Array is not a valid entity\");if(typeof t!=\"object\")throw new Error(`${typeof t} is not a valid entity`);if(typeof t.type==\"string\"){const e=x.indexOf(t.type);if(e!==-1)return x[e]}if(t.profile)return\"Service\";throw new Error(\"Resource type is not known\")}class T{traversals;options;constructor(e,i={}){this.traversals={collection:[],manifest:[],canvas:[],annotationCollection:[],annotationPage:[],annotation:[],contentResource:[],choice:[],range:[],service:[],agent:[],...e},this.options={allowUndefinedReturn:!1,...i}}static all(e){return new T({collection:[e],manifest:[e],canvas:[e],annotationCollection:[e],annotationPage:[e],annotation:[e],contentResource:[e],choice:[e],range:[e],service:[e]})}traverseDescriptive(e){return e.thumbnail&&(e.thumbnail=e.thumbnail.map(i=>this.traverseType(i,this.traversals.contentResource))),e.provider&&(e.provider=e.provider.map(i=>this.traverseAgent(i))),e}traverseLinking(e){return e.seeAlso&&(e.seeAlso=e.seeAlso.map(i=>this.traverseType(i,this.traversals.contentResource))),e.service&&(e.service=S(e.service).map(i=>this.traverseType(i,this.traversals.service))),e.services&&(e.services=e.services.map(i=>this.traverseType(i,this.traversals.service))),e.logo&&(e.logo=e.logo.map(i=>this.traverseType(i,this.traversals.contentResource))),e.homepage&&(e.homepage=e.homepage.map(i=>this.traverseType(i,this.traversals.contentResource))),e.partOf&&(e.partOf=e.partOf.map(i=>typeof i==\"string\"||!i.type?this.traverseType(i,this.traversals.contentResource):i.type===\"Canvas\"?this.traverseType(i,this.traversals.canvas):i.type===\"AnnotationCollection\"?this.traverseType(i,this.traversals.annotationCollection):this.traverseType(i,this.traversals.contentResource))),e.start&&(e.start=e.start?this.traverseType(e.start,this.traversals.canvas):null),e.rendering&&(e.rendering=e.rendering.map(i=>this.traverseType(i,this.traversals.contentResource))),e.supplementary&&(e.supplementary=e.supplementary.map(i=>this.traverseType(i,this.traversals.contentResource))),e}traverseCollectionItems(e){return e.items&&e.items.map(i=>i.type===\"Collection\"?this.traverseCollection(i):this.traverseManifest(i)),e}traverseCollection(e){return this.traverseType(this.traverseDescriptive(this.traverseInlineAnnotationPages(this.traverseLinking(this.traversePosterCanvas(this.traverseCollectionItems(e))))),this.traversals.collection)}traverseManifestItems(e){return e.items&&(e.items=e.items.map(i=>this.traverseCanvas(i))),e}traverseManifestStructures(e){return e.structures&&(e.structures=e.structures.map(i=>this.traverseRange(i))),e}traverseManifest(e){return this.traverseType(this.traverseInlineAnnotationPages(this.traverseManifestStructures(this.traversePosterCanvas(this.traverseDescriptive(this.traverseLinking(this.traverseManifestItems(e)))))),this.traversals.manifest)}traverseCanvasItems(e){return e.items=(e.items||[]).map(i=>this.traverseAnnotationPage(i)),e}traverseInlineAnnotationPages(e){return typeof e==\"string\"||!e||e.annotations&&(e.annotations=e.annotations.map(i=>this.traverseAnnotationPage(i))),e}traverseCanvas(e){return this.traverseType(this.traverseInlineAnnotationPages(this.traversePosterCanvas(this.traverseDescriptive(this.traverseLinking(this.traverseCanvasItems(e))))),this.traversals.canvas)}traverseAnnotationPageItems(e){return e.items&&(e.items=e.items.map(i=>this.traverseAnnotation(i))),e}traverseAnnotationPage(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseAnnotationPageItems(e))),this.traversals.annotationPage)}traverseAnnotationBody(e){return Array.isArray(e.body)?e.body=e.body.map(i=>this.traverseContentResource(i)):e.body&&(e.body=this.traverseContentResource(e.body)),e}traversePosterCanvas(e){return e.posterCanvas&&(e.posterCanvas=this.traverseCanvas(e.posterCanvas)),e.placeholderCanvas&&(e.placeholderCanvas=this.traverseCanvas(e.placeholderCanvas)),e.accompanyingCanvas&&(e.accompanyingCanvas=this.traverseCanvas(e.accompanyingCanvas)),e}traverseAnnotation(e){return this.traverseType(this.traverseLinking(this.traverseAnnotationBody(e)),this.traversals.annotation)}traverseContentResourceLinking(e){return typeof e==\"string\"||!e||e&&e.service&&(e.service=S(e.service||[]).map(i=>this.traverseType(i,this.traversals.service))),e}traverseContentResource(e){return e.type===\"Choice\"&&(e.items=e.items.map(i=>this.traverseContentResource(i))),this.traverseType(this.traverseInlineAnnotationPages(this.traverseContentResourceLinking(e)),this.traversals.contentResource)}traverseRangeRanges(e){return e.items&&(e.items=e.items.map(i=>typeof i==\"string\"?this.traverseCanvas({id:i,type:\"Canvas\"}):i.type===\"Manifest\"?this.traverseManifest(i):this.traverseRange(i))),e}traverseRange(e){return this.traverseType(this.traversePosterCanvas(this.traverseDescriptive(this.traverseLinking(this.traverseRangeRanges(e)))),this.traversals.range)}traverseAgent(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(e)),this.traversals.agent)}traverseType(e,i){return i.reduce((n,a)=>{const s=a(n);return typeof s==\"undefined\"&&!this.options.allowUndefinedReturn?n:s},e)}traverseService(e){return this.traverseType(e,this.traversals.service)}traverseUnknown(e){const i=z(e);switch(i){case\"Collection\":return this.traverseCollection(e);case\"Manifest\":return this.traverseManifest(e);case\"Canvas\":return this.traverseCanvas(e);case\"AnnotationPage\":return this.traverseAnnotationPage(e);case\"Annotation\":return this.traverseAnnotation(e);case\"ContentResource\":return this.traverseContentResource(e);case\"Range\":return this.traverseRange(e);case\"Service\":return this.traverseService(e);case\"Agent\":return this.traverseAgent(e);default:throw new Error(`Unknown or unsupported resource type of ${i}`)}}}const B=[\"sc:Collection\",\"sc:Manifest\",\"sc:Canvas\",\"sc:AnnotationList\",\"oa:Annotation\",\"sc:Range\",\"sc:Layer\",\"sc:Sequence\",\"oa:Choice\",\"Service\",\"ContentResource\"];function we(t){if(typeof t==\"undefined\"||t===null)throw new Error(\"Null or undefined is not a valid entity.\");if(Array.isArray(t))throw new Error(\"Array is not a valid entity\");if(typeof t!=\"object\")throw new Error(`${typeof t} is not a valid entity`);if(typeof t[\"@type\"]==\"string\"){const e=B.indexOf(t[\"@type\"]);if(e!==-1)return B[e]}if(t.profile)return\"Service\";if(t.format||t[\"@type\"])return\"ContentResource\";throw new Error(\"Resource type is not known\")}class O{traversals;options;constructor(e,i={}){this.traversals={collection:[],manifest:[],canvas:[],annotationList:[],sequence:[],annotation:[],contentResource:[],choice:[],range:[],service:[],layer:[],...e},this.options={convertPropsToArray:!0,mergeMemberProperties:!0,allowUndefinedReturn:!1,...i}}static all(e){return new O({collection:[e],manifest:[e],canvas:[e],annotationList:[e],sequence:[e],annotation:[e],contentResource:[e],choice:[e],range:[e],service:[e],layer:[e]})}traverseCollection(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCollectionItems(e))),this.traversals.collection)}traverseCollectionItems(e){if(this.options.mergeMemberProperties){const i=[...(e.manifests||[]).map(n=>typeof n==\"string\"?{\"@id\":n,\"@type\":\"sc:Manifest\"}:n),...(e.collections||[]).map(n=>typeof n==\"string\"?{\"@id\":n,\"@type\":\"sc:Collection\"}:n),...e.members||[]];delete e.collections,delete e.manifests,e.members=i}return e.manifests&&(e.manifests=e.manifests.map(i=>this.traverseManifest(typeof i==\"string\"?{\"@id\":i,\"@type\":\"sc:Manifest\"}:i))),e.collections&&(e.collections=e.collections.map(i=>this.traverseCollection(typeof i==\"string\"?{\"@id\":i,\"@type\":\"sc:Collection\"}:i))),e.members&&(e.members=e.members.map(i=>typeof i==\"string\"?i:this.traverseUnknown(i))),e}traverseManifest(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseManifestItems(e))),this.traversals.manifest)}traverseManifestItems(e){return e.sequences&&(e.sequences=e.sequences.map(i=>this.traverseSequence(i))),e.structures&&(e.structures=e.structures.map(i=>this.traverseRange(i))),e}traverseSequence(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseSequenceItems(e))),this.traversals.sequence)}traverseSequenceItems(e){return e.canvases&&(e.canvases=e.canvases.map(i=>this.traverseCanvas(i))),e}traverseCanvas(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCanvasItems(e))),this.traversals.canvas)}traverseCanvasItems(e){return e.images&&(e.images=e.images.map(i=>this.traverseAnnotation(i))),e.otherContent&&(e.otherContent=e.otherContent.map(i=>this.traverseAnnotationList(i))),e}traverseRange(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseRangeItems(e))),this.traversals.range)}traverseRangeItems(e){if(this.options.mergeMemberProperties){const i=[...(e.ranges||[]).map(n=>typeof n==\"string\"?{\"@id\":n,\"@type\":\"sc:Range\"}:n),...(e.canvases||[]).map(n=>typeof n==\"string\"?{\"@id\":n,\"@type\":\"sc:Canvas\"}:n),...e.members||[]];delete e.ranges,delete e.canvases,e.members=i.length?i.map(n=>this.traverseUnknown(n)):void 0}return e}traverseAnnotationList(e){const i=typeof e==\"string\"?{\"@id\":e,\"@type\":\"sc:AnnotationList\"}:e;return this.traverseType(this.traverseDescriptive(this.traverseAnnotationListItems(i)),this.traversals.annotationList)}traverseAnnotationListItems(e){return e.resources&&(e.resources=e.resources.map(i=>this.traverseAnnotation(i))),e}traverseAnnotation(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseAnnotationItems(e))),this.traversals.annotation)}traverseAnnotationItems(e){return e.resource&&(e.resource=this.traverseContentResource(e.resource)),e.on,e}traverseLayer(e){return this.traverseType(this.traverseLinking(this.traverseLayerItems(e)),this.traversals.layer)}traverseLayerItems(e){return e.otherContent&&(e.otherContent=e.otherContent.map(i=>this.traverseAnnotationList(i))),e}traverseChoice(e){return this.traverseType(this.traverseChoiceItems(e),this.traversals.choice)}traverseChoiceItems(e){return e.default&&e.default!==\"rdf:nil\"&&(e.default=this.traverseContentResource(e.default)),e.item&&e.item!==\"rdf:nil\"&&(e.item=e.item.map(i=>this.traverseContentResource(i))),e}traverseService(e){return this.traverseType(this.traverseLinking(e),this.traversals.service)}traverseContentResource(e){return e[\"@type\"]===\"oa:Choice\"?this.traverseChoice(e):this.traverseType(this.traverseDescriptive(this.traverseLinking(e)),this.traversals.contentResource)}traverseUnknown(e){if(!e[\"@type\"]||typeof e==\"string\")return e;switch(we(e)){case\"sc:Collection\":return this.traverseCollection(e);case\"sc:Manifest\":return this.traverseManifest(e);case\"sc:Canvas\":return this.traverseCanvas(e);case\"sc:Sequence\":return this.traverseSequence(e);case\"sc:Range\":return this.traverseRange(e);case\"oa:Annotation\":return this.traverseAnnotation(e);case\"sc:AnnotationList\":return this.traverseAnnotationList(e);case\"sc:Layer\":return this.traverseLayer(e);case\"Service\":return this.traverseService(e);case\"oa:Choice\":return this.traverseChoice(e);case\"ContentResource\":return this.traverseContentResource(e)}return e.profile?this.traverseService(e):e}traverseImageResource(e){const i=Array.isArray(e),n=Array.isArray(e)?e:[e],a=[];for(const s of n)typeof s==\"string\"?a.push(this.traverseContentResource({\"@id\":s,\"@type\":\"dctypes:Image\"})):a.push(this.traverseContentResource(s));return!i&&!this.options.convertPropsToArray?a[0]:a}traverseDescriptive(e){return e.thumbnail&&(e.thumbnail=this.traverseImageResource(e.thumbnail)),e.logo&&(e.logo=this.traverseImageResource(e.logo)),e}traverseOneOrMoreServices(e){const i=Array.isArray(e),n=Array.isArray(e)?e:[e],a=[];for(const s of n)a.push(this.traverseService(s));return!i&&!this.options.convertPropsToArray?a[0]:a}traverseLinking(e){return e.related&&(e.related=this.traverseOneOrManyType(e.related,this.traversals.contentResource)),e.rendering&&(e.rendering=this.traverseOneOrManyType(e.rendering,this.traversals.contentResource)),e.service&&(e.service=this.traverseOneOrMoreServices(e.service)),e.seeAlso&&(e.seeAlso=this.traverseOneOrManyType(e.seeAlso,this.traversals.contentResource)),e.within&&(typeof e.within==\"string\"||(e.within=this.traverseOneOrManyType(e.within,this.traversals.contentResource))),e.startCanvas&&(typeof e.startCanvas==\"string\"?e.startCanvas=this.traverseType({\"@id\":e.startCanvas,\"@type\":\"sc:Canvas\"},this.traversals.canvas):e.startCanvas&&this.traverseType(e.startCanvas,this.traversals.canvas)),e.contentLayer&&(typeof e.contentLayer==\"string\"?e.contentLayer=this.traverseLayer({\"@id\":e.contentLayer,\"@type\":\"sc:Layer\"}):e.contentLayer=this.traverseLayer(e.contentLayer)),e}traverseOneOrManyType(e,i){if(!Array.isArray(e))if(this.options.convertPropsToArray)e=[e];else return this.traverseType(e,i);return e.map(n=>this.traverseType(n,i))}traverseType(e,i){return i.reduce((n,a)=>{const s=a(n);return typeof s==\"undefined\"&&!this.options.allowUndefinedReturn?n:s},e)}}const Re=\"http://library.stanford.edu/iiif/image-api/compliance.html#level0\",H=\"http://library.stanford.edu/iiif/image-api/compliance.html#level1\",Y=\"http://library.stanford.edu/iiif/image-api/compliance.html#level2\",Ee=\"http://library.stanford.edu/iiif/image-api/conformance.html#level0\",K=\"http://library.stanford.edu/iiif/image-api/conformance.html#level1\",Q=\"http://library.stanford.edu/iiif/image-api/conformance.html#level2\",Le=\"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0\",X=\"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1\",Z=\"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2\",Te=\"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0\",J=\"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1\",ee=\"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2\",Me=\"http://iiif.io/api/image/1/level0.json\",Se=\"http://iiif.io/api/image/1/profiles/level0.json\",te=\"http://iiif.io/api/image/1/level1.json\",ie=\"http://iiif.io/api/image/1/profiles/level1.json\",ne=\"http://iiif.io/api/image/1/level2.json\",re=\"http://iiif.io/api/image/1/profiles/level2.json\",xe=\"http://iiif.io/api/image/2/level0.json\",Oe=\"http://iiif.io/api/image/2/profiles/level0.json\",ae=\"http://iiif.io/api/image/2/level1.json\",se=\"http://iiif.io/api/image/2/profiles/level1.json\",oe=\"http://iiif.io/api/image/2/level2.json\",le=\"http://iiif.io/api/image/2/profiles/level2.json\",Pe=\"level0\",ve=\"level1\",pe=\"level2\",Fe=\"http://iiif.io/api/image/2/level0\",fe=\"http://iiif.io/api/image/2/level1\",he=\"http://iiif.io/api/image/2/level2\",De=[fe,he,H,Y,K,Q,X,Z,J,ee,te,ie,ne,re,ae,se,oe,le,ve,pe],ke=[Fe,fe,he,Re,H,Y,Ee,K,Q,Le,X,Z,Te,J,ee,Me,Se,te,ie,ne,re,xe,Oe,ae,se,oe,le,Pe,ve,pe],P={attributionLabel:\"Attribution\",lang:\"none\",providerId:\"http://example.org/provider\",providerName:\"Unknown\"};function m(t,e=\"none\"){if(!t)return{};const i=Array.isArray(t)?t:[t],n={};for(const a of i){if(typeof a==\"string\"){n[e]=n[e]?n[e]:[],n[e].push(a||\"\");continue}if(!a[\"@language\"]){n[e]=n[e]?n[e]:[],n[e].push(a[\"@value\"]||\"\");continue}const s=a[\"@language\"];n[s]=n[s]?n[s]:[],n[s].push(a[\"@value\"]||\"\")}return n}function ce(t){if(Array.isArray(t))return ce(t.find(e=>typeof e==\"string\"));if(ke.indexOf(t)!==-1)return\"level2\";if(De.indexOf(t)!==-1)return\"level1\";if(typeof t==\"string\")return t}function Ne(t){const e=Array.isArray(t)?t:[t];for(const i of e)switch(i){case\"http://iiif.io/api/image/2/context.json\":case\"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2\":return\"ImageService2\";case\"http://iiif.io/api/image/1/context.json\":case\"http://library.stanford.edu/iiif/image-api/1.1/context.json\":return\"ImageService1\";case\"http://iiif.io/api/annex/openannotation/context.json\":return\"ImageApiSelector\"}}function je(t){switch(t){case\"http://iiif.io/api/image/2/level0.json\":case\"http://iiif.io/api/image/2/level1.json\":case\"http://iiif.io/api/image/2/level2.json\":return\"ImageService2\";case\"http://iiif.io/api/auth/1/kiosk\":case\"http://iiif.io/api/auth/1/login\":case\"http://iiif.io/api/auth/1/clickthrough\":case\"http://iiif.io/api/auth/1/external\":case\"http://iiif.io/api/auth/0/kiosk\":case\"http://iiif.io/api/auth/0/login\":case\"http://iiif.io/api/auth/0/clickthrough\":case\"http://iiif.io/api/auth/0/external\":return\"AuthCookieService1\";case\"http://iiif.io/api/auth/1/token\":case\"http://iiif.io/api/auth/0/token\":return\"AuthTokenService1\";case\"http://iiif.io/api/auth/1/logout\":case\"http://iiif.io/api/auth/0/logout\":return\"AuthLogoutService1\";case\"http://iiif.io/api/search/1/search\":case\"http://iiif.io/api/search/0/search\":return\"SearchService1\";case\"http://iiif.io/api/search/1/autocomplete\":case\"http://iiif.io/api/search/0/autocomplete\":return\"AutoCompleteService1\"}}function $e(t){for(const e of[\"sc\",\"oa\",\"dcterms\",\"dctypes\",\"iiif\"])if(t.startsWith(`${e}:`))return t.slice(e.length+1);return t}const Ge=[\"Collection\",\"Manifest\",\"Annotation\",\"AnnotationPage\",\"Range\",\"Service\"];function F(t){const e=t[\"@id\"]||t.id;let i=t[\"@type\"]||t.type;const n=t.profile||void 0,a=t[\"@context\"]||void 0;if(n){const s=je(n);if(s)return s}if(a){const s=Ne(a);if(s)return s}if(i){if(Array.isArray(i)){if(i.indexOf(\"oa:CssStylesheet\")!==-1)return\"CssStylesheet\";if(i.indexOf(\"cnt:ContentAsText\")!==-1)return\"TextualBody\";i=i[0]}for(const s of[\"sc\",\"oa\",\"dcterms\",\"dctypes\",\"iiif\"])if(i.startsWith(`${s}:`)){i=i.slice(s.length+1);break}switch(i){case\"Layer\":return\"AnnotationCollection\";case\"AnnotationList\":return\"AnnotationPage\";case\"cnt:ContentAsText\":return\"TextualBody\"}}if(i&&Ge.indexOf(i)!==-1)return i;if(t.format){if(t.format.startsWith(\"image/\"))return\"Image\";if(t.format.startsWith(\"text/\")||t.format===\"application/pdf\")return\"Text\";if(t.format.startsWith(\"application/\"))return\"Dataset\"}return e&&(e.endsWith(\".jpg\")||e.endsWith(\".png\")||e.endsWith(\".jpeg\"))?\"Image\":i||\"unknown\"}const qe=/http(s)?:\\/\\/(creativecommons.org|rightsstatements.org)[^\"'\\\\<\\n]+/gm;function Ve(t){const e=t.match(qe);return e?e[0]:t}function Ue(t,e=\"Rights/License\",i=\"none\"){let n=null;const a=[],s=Array.isArray(t)?t:[t];for(const l of s){const v=l?Ve(l):void 0;if(v&&(v.indexOf(\"creativecommons.org\")!==-1||v.indexOf(\"rightsstatements.org\")!==-1)){v.startsWith(\"https://\")?n=`http://${v.slice(8)}`:n=v;continue}v&&a.push({label:{[i]:[e]},value:{[i]:[v]}})}return[n,a]}const We=[\"http://iiif.io/api/presentation/2/context.json\",\"http://iiif.io/api/image/2/context.json\",\"http://iiif.io/api/image/1/context.json\",\"http://library.stanford.edu/iiif/image-api/1.1/context.json\",\"http://iiif.io/api/search/1/context.json\",\"http://iiif.io/api/search/0/context.json\",\"http://iiif.io/api/auth/1/context.json\",\"http://iiif.io/api/auth/0/context.json\",\"http://iiif.io/api/annex/openannotation/context.json\"];function ze(t){if(t){const e=Array.isArray(t)?t:[t],i=[];for(const n of e)n===\"http://iiif.io/api/presentation/2/context.json\"&&i.push(\"http://iiif.io/api/presentation/3/context.json\"),We.indexOf(n)===-1&&i.push(n);if(e.length)return i.length===1?i[0]:i}}function Be(t){return t?t.map(e=>({label:m(e.label),value:m(e.value)})):[]}function p(t){for(const e in t)(typeof t[e]==\"undefined\"||t[e]===null)&&delete t[e];return t}let ue=0;function de(t,e){const i=encodeURI(t.id||t[\"@id\"]||\"\").trim();return i&&e?`${i}/${e}`:i||(ue++,`http://example.org/${t[\"@type\"]}${e?`/${e}`:\"\"}/${ue}`)}function f(t){const e=[...t.behavior||[]];return t.viewingHint&&e.push(t.viewingHint),{\"@context\":t[\"@context\"]?ze(t[\"@context\"]):void 0,id:(t[\"@id\"]||de(t)).trim(),type:F(t),behavior:e.length?e:void 0,height:t.height?t.height:void 0,width:t.width?t.width:void 0,motivation:t.motivation?$e(t.motivation):void 0,viewingDirection:t.viewingDirection,profile:t.profile,format:t.format?t.format:void 0,duration:void 0,timeMode:void 0}}function h(t){const[e,i]=Ue(t.license),n=[...t.metadata?Be(t.metadata):[],...i];return{rights:e,metadata:n.length?n:void 0,label:t.label?m(t.label):void 0,requiredStatement:t.attribution?{label:m(P.attributionLabel),value:m(t.attribution)}:void 0,navDate:t.navDate,summary:t.description?m(t.description):void 0,thumbnail:t.thumbnail}}function He(t){if(!t.within)return;const e=Array.isArray(t.within)?t.within:[t.within],i=[];for(const n of e)if(typeof n==\"string\"){if(n)switch(t[\"@type\"]){case\"sc:Manifest\":i.push({id:n,type:\"Collection\"});break}}else n[\"@id\"]&&i.push({id:n[\"@id\"],type:F(n)});return i.length?i:void 0}function c(t){const e=t.related?Array.isArray(t.related)?t.related:[t.related]:[],i=t.contentLayer;return{provider:t.logo||e.length?[{id:P.providerId,type:\"Agent\",homepage:e.length?[e[0]]:void 0,logo:t.logo?Array.isArray(t.logo)?t.logo:[t.logo]:void 0,label:m(P.providerName)}]:void 0,partOf:He(t),rendering:t.rendering,seeAlso:t.seeAlso,start:t.startCanvas,service:t.service?S(t.service):void 0,supplementary:i?[i]:void 0}}function Ye(t){return p({...f(t),...h(t),...c(t),items:t.members})}function Ke(t){const e=[],i=[];for(const a of t.sequences||[])a.canvases.length&&e.push(...a.canvases),a.behavior&&i.push(...a.behavior);const n=f(t);return i.length&&(n.behavior?n.behavior.push(...i):n.behavior=i),p({...n,...h(t),...c(t),items:e,structures:t.structures})}function Qe(t){return p({...f(t),...h(t),...c(t),annotations:t.otherContent&&t.otherContent.length?t.otherContent:void 0,items:t.images&&t.images.length?[{id:de(t,\"annotation-page\"),type:\"AnnotationPage\",items:t.images}]:void 0})}function Xe(t){return p({...f(t),...h(t),...c(t),items:t.resources&&t.resources.length?t.resources:void 0})}function Ze(t){return!t.canvases||t.canvases.length===0?{canvases:[],behavior:[]}:{canvases:t.canvases,behavior:t.viewingHint?[t.viewingHint]:[]}}function Je(t){return p({...f(t),...h(t),...c(t),target:typeof t.on==\"string\"?encodeURI(t.on).trim():t.on,body:t.resource})}function et(t){const e=t;return p({...f(e),...h(e),...c(e)})}function tt(t){const e=[];return t.default&&t.default!==\"rdf:nil\"&&e.push(t.default),t.item&&t.item!==\"rdf:nil\"&&e.push(...t.item),{...f(t),...h(t),items:e}}function it(t){return p({...f(t),...h(t),...c(t),items:t.members})}function nt(t){const{\"@id\":e,\"@type\":i,\"@context\":n,profile:a,...s}=t,l={};return e&&(l[\"@id\"]=e),l[\"@type\"]=F(t),l[\"@type\"]===\"unknown\"&&(n&&n.length&&(l[\"@context\"]=n),l[\"@type\"]=\"Service\"),a&&(l.profile=ce(a)),p({...l,...s})}function rt(t){return p({...f(t),...h(t),...c(t)})}const at=new O({collection:[Ye],manifest:[Ke],canvas:[Qe],annotationList:[Xe],sequence:[Ze],annotation:[Je],contentResource:[et],choice:[tt],range:[it],service:[nt],layer:[rt]});function st(t){return t&&t[\"@context\"]&&(t[\"@context\"]===\"http://iiif.io/api/presentation/2/context.json\"||t[\"@context\"].indexOf(\"http://iiif.io/api/presentation/2/context.json\")!==-1||t[\"@context\"]===\"http://www.shared-canvas.org/ns/context.json\")||t[\"@context\"]===\"http://iiif.io/api/image/2/context.json\"?at.traverseUnknown(t):t}const ot={Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}};function me(){return{Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}}}function ge(t,e){if(typeof t==\"string\")return{id:t,type:e};if(!t.id)throw new Error(`Invalid resource does not have an ID (${e})`);return t}function lt(t){return(e,i)=>{const n=t[e]?t[e]:{};return a=>{const s=ge(a,i||e);return s&&s.id&&e?(n[s.id]=n[s.id]?vt(n[s.id],s):Object.assign({},s),{id:s.id,type:e===\"ContentResource\"?e:s.type}):s}}}function D(t,e){if(!e)return t;if(Array.isArray(t)){if(!Array.isArray(e))throw new Error(\"Cannot merge array with non-array\");const i=[...t];for(const n of e)if(n!=null)if(Array.isArray(n))i.push(n);else if(typeof n==\"object\"&&n.id&&n.type){const a=i.findIndex(s=>s.id===n.id&&s.type===n.type);a>=0&&(i[a]=D(i[a],n))}else t.indexOf(n)===-1&&i.push(n);return i}else if(typeof t==\"object\"){if(Array.isArray(e)||typeof e!=\"object\")throw new Error(\"Cannot merge object with non-object\");const i={...t};for(const[n,a]of Object.entries(e)){const s=i[n];s===r||!s?i[n]=a:i[n]=D(s,a)}return i}else if(t)return t;return e}function vt(t,e){if(typeof t==\"string\")return t;if(e.id!==t.id||e.type!==t.type)throw new Error(\"Can only merge entities with identical identifiers and type!\");return D({...t},e)}function pt(t){return(e,i)=>n=>{const{id:a,type:s}=ge(n,i||e);if(typeof a==\"undefined\")throw new Error(\"Found invalid entity without an ID.\");return e===\"ContentResource\"?t[a]=e:t[a]=s,n}}function ft(t){const e=JSON.stringify(t);let i=5381,n=e.length;for(;n;)i=i*33^e.charCodeAt(--n);const s=(i>>>0).toString(16);return s.length%2?\"0\"+s:s}function k(t){return e=>typeof e==\"string\"?{id:e,type:t}:e.id?e.type?e:{type:t,...e}:{id:`vault://${ft(e)}`,type:t,...e}}function b(t){return e=>({...t,...e})}function w(t){return Array.isArray(t)?t:[t]}function ht(t){return t.body&&(t.body=w(t.body)),t.seeAlso&&(t.seeAlso=w(t.seeAlso)),t.body&&(t.body=w(t.body)),t.audience&&(t.audience=w(t.audience)),t.accessibility&&(t.accessibility=w(t.accessibility)),t.motivation&&(t.motivation=w(t.motivation)),t}function ct(t){const e=st(t),i=me(),n={},a=lt(i),s=pt(n),v=new T({collection:[b(q),s(\"Collection\"),a(\"Collection\")],manifest:[b(V),s(\"Manifest\"),a(\"Manifest\")],canvas:[b(G),s(\"Canvas\"),a(\"Canvas\")],annotationPage:[k(\"AnnotationPage\"),b($),s(\"AnnotationPage\"),a(\"AnnotationPage\")],annotation:[k(\"Annotation\"),ht,s(\"Annotation\"),a(\"Annotation\")],contentResource:[k(\"ContentResource\"),s(\"ContentResource\"),a(\"ContentResource\")],range:[b(U),s(\"Range\",\"Canvas\"),a(\"Range\",\"Canvas\")],agent:[b(W),s(\"Agent\"),a(\"Agent\")]}).traverseUnknown(e);return{entities:i,resource:v,mapping:n}}const u=\"__$UNSET$__\",N=\"__$UNWRAP$__\";function ut(t,e){const i=t.requests[e],n=t.mapping[e];if(!(!n||i&&i.resourceUri&&!t.entities[n][i.resourceUri]))return t.entities[n][i?i.resourceUri:e]}function ye(t){const e={};for(const[i,n]of t){if(i===N&&n!==u)return n;n!==u&&typeof n!=\"undefined\"&&n!==null&&(e[i]=n)}return e}function dt(t,e,i){if(!e.type||!e.id)throw new Error(\"Unknown entity\");if(!i[e.type])throw new Error(`Serializer not found for ${e.type}`);function n(a){const s=i[a.type];if(!s)return u;const l=ut(t,a.id)||(a.id&&a.type?a:null);if(!l)return u;const v=s(l,t,{isTopLevel:e.id===a.id});let R=v.next();for(;!R.done;){const L=R.value;let M=u;if(L)if(Array.isArray(L)){const j=[];for(const _e of L)j.push(n(_e));M=j}else M=n(L);R=v.next(M)}return R.value===u?u:ye(R.value)}return n(e)}function g(t){if(!t)return;const e=Object.keys(t);if(e.length!==0){if(e.length===1){const i=e[0];if(!i)return\"\";const n=(t[i]||[]).join(\"\");return i===\"@none\"||i===\"none\"||i===\"en\"?n:{\"@language\":i,\"@value\":n}}return e.map(i=>({\"@language\":i,\"@value\":(t[i]||[]).join(\"\")}))}}function Ae(t){return Array.isArray(t)?t.map(e=>Ae(e)):typeof t==\"string\"?t:t.type&&t.type===\"Canvas\"?t.id:t}function d(t,e=!1){if(!!t)return t.length>1&&!e?t:t[0]||void 0}function mt(t){if(!!t){if(typeof t==\"string\")return{\"@id\":t};if(\"@id\"in t){const e={...t};return delete e[\"@type\"],e}return{\"@context\":\"http://iiif.io/api/image/2/context.json\",\"@id\":t.id,profile:`http://iiif.io/api/image/2/profiles/${t.profile}.json`}}}function y(t,e){return[[\"@id\",t.id],[\"@type\",e],[\"format\",t.format],[\"height\",t.height],[\"width\",t.width],[\"viewingDirection\",t.viewingDirection!==\"left-to-right\"?t.viewingDirection:void 0]]}function*A(t){const e=t.provider?yield t.provider[0]:void 0;return[[\"label\",g(t.label)],[\"metadata\",t.metadata&&t.metadata.length?t.metadata.map(i=>({label:g(i.label)||\"\",value:g(i.value)||\"\"})):void 0],[\"description\",g(t.summary)],[\"thumbnail\",d(yield t.thumbnail)],[\"navDate\",t.navDate],[\"logo\",e?d(e.logo):void 0],[\"homepage\",e?e.homepage:void 0],[\"attribution\",t.requiredStatement?g(t.requiredStatement.value):void 0]]}function*E(t){return[[\"seeAlso\",d(yield t.seeAlso)],[\"service\",d((t.service||[]).map(mt))],[\"rendering\",d(yield t.rendering)],[\"startCanvas\",t.start?t.start.id:void 0]]}const gt={Manifest:function*(t){return[...y(t,\"sc:Manifest\"),...yield*A(t),...yield*E(t),[\"sequences\",[{\"@id\":`${t.id}/sequence0`,\"@type\":\"sc:Sequence\",canvases:yield t.items}]],[\"structures\",yield t.structures]]},Canvas:function*(t){const i=(yield t.items)[0];return[...y(t,\"sc:Canvas\"),...yield*A(t),...yield*E(t),[\"images\",i?[i.resources]:void 0],[\"annotations\",t.annotations&&t.annotations.length?d(yield t.annotations):void 0]]},AnnotationPage:function*(t){return[...y(t,\"sc:AnnotationList\"),...yield*A(t),[\"resources\",t.items&&t.items.length?d(yield t.items):void 0]]},Annotation:function*(t){return[[\"@id\",t.id],[\"@type\",\"oa:Annotation\"],[\"motivation\",\"sc:painting\"],[\"on\",Ae(t.target)],[\"resource\",d(yield t.body,!0)]]},ContentResource:function*(t){switch(t.type){case\"Image\":return[...y(t,\"dctypes:Image\"),...yield*A(t),...yield*E(t)];case\"Text\":case\"Dataset\":default:return[...y(t,void 0),...yield*A(t)]}},AnnotationCollection:function*(t){return[[\"@id\",t.id],[\"@type\",\"sc:Layer\"],[\"label\",g(t.label)]]},Collection:function*(t){return[...y(t,\"sc:Collection\"),...yield*A(t),...yield*E(t),[\"members\",yield*t.items]]},Range:function*(t){const e=[],i=[];if(t.items)for(const n of t.items){const a=yield n;e.push({\"@id\":n.id,\"@type\":n.type,label:a?a.label:void 0,within:t.id}),n.type===\"Canvas\"&&i.push(n.id)}return[...y(t,\"sc:Range\"),...yield*A(t),...yield*E(t),[\"canvases\",i.length===e.length?i:void 0],[\"members\",i.length!==e.length?e:void 0]]}};function C(t){return[[\"id\",t.id?.startsWith(\"vault://\")?void 0:t.id],[\"type\",t.type],[\"format\",t.format],[\"profile\",t.profile],[\"height\",t.height],[\"width\",t.width],[\"duration\",t.duration||void 0],[\"viewingDirection\",t.viewingDirection!==\"left-to-right\"?t.viewingDirection:void 0],[\"behavior\",t.behavior&&t.behavior.length?t.behavior:void 0],[\"timeMode\",t.timeMode],[\"motivation\",Array.isArray(t.motivation)?t.motivation[0]:t.motivation]]}function o(t){if(!(!t||t.length===0))return t}function Ce(t){if(t&&t.type&&t.type===\"ImageService2\"){const{id:e,type:i,profile:n,...a}=t,s=typeof n==\"string\"?n:Array.isArray(n)?n.find(l=>typeof l==\"string\"):\"\";return{\"@id\":e,\"@type\":i,profile:s?s.startsWith(\"http\")?s:`http://iiif.io/api/image/2/${s}.json`:\"http://iiif.io/api/image/2/level0.json\",...a}}return t}function Ie(t){if(!(!t||t.length===0))return t.map(Ce)}function*I(t){return[[\"label\",t.label],[\"metadata\",o(t.metadata)],[\"summary\",t.summary],[\"requiredStatement\",t.requiredStatement],[\"rights\",t.rights],[\"navDate\",t.navDate],[\"language\",t.language],[\"thumbnail\",o(yield t.thumbnail)],[\"placeholderCanvas\",yield t.placeholderCanvas],[\"accompanyingCanvas\",yield t.accompanyingCanvas],[\"provider\",o(yield t.provider)]]}function*_(t){return[[\"seeAlso\",o(yield t.seeAlso)],[\"service\",Ie(t.service)],[\"services\",Ie(t.services)],[\"rendering\",o(yield t.rendering)],[\"supplementary\",o(yield t.supplementary)],[\"homepage\",o(yield t.homepage)],[\"logo\",o(yield t.logo)],[\"partOf\",o(yield t.partOf)],[\"start\",t.start]]}const yt={Manifest:function*(t,e,{isTopLevel:i}){return i?[[\"@context\",\"http://iiif.io/api/presentation/3/context.json\"],...C(t),...yield*I(t),...yield*_(t),[\"items\",yield t.items],[\"structures\",o(yield t.structures)],[\"annotations\",o(yield t.annotations)]]:[...C(t),...yield*I(t)]},Canvas:function*(t){return[...C(t),...yield*I(t),...yield*_(t),[\"items\",yield t.items],[\"annotations\",o(yield t.annotations)]]},Agent:function*(t){return[[\"id\",t.id],[\"type\",\"Agent\"],[\"label\",t.label],...yield*_(t)]},AnnotationPage:function*(t){return[...Object.entries(t).map(([i,n])=>[i,Array.isArray(n)?o(n):n]).filter(([i,n])=>i!==\"items\"),...yield*_(t),[\"items\",yield t.items]]},Service:function*(t){return[[N,Ce(t)]]},Annotation:function*(t){const e=Object.entries(t).map(([n,a])=>n===\"motivation\"?[n,Array.isArray(a)?a[0]:a]:[n,Array.isArray(a)?o(a):a]).filter(([n])=>n!==\"body\"),i=yield t.body;return[...e,[\"body\",i.length===1?i[0]:i]]},ContentResource:function*(t){return[...C(t),...yield*I(t),...yield*_(t),[\"annotations\",o(yield t.annotations)],[\"items\",o(yield t.items)]]},AnnotationCollection:function*(t){return[[\"id\",t.id],[\"type\",\"AnnotationCollection\"],[\"label\",t.label]]},Collection:function*(t,e,{isTopLevel:i}){return i?[[\"@context\",\"http://iiif.io/api/presentation/3/context.json\"],...C(t),...yield*I(t),...yield*_(t),[\"items\",o(yield t.items)]]:[...C(t),...yield*I(t)]},Range:function*(t){const e=[];for(const i of t.items)i.type===\"Range\"?e.push(yield i):e.push(i);return[...C(t),...yield*I(t),...yield*_(t),[\"items\",e],[\"annotations\",o(yield t.annotations)]]}};export{r as EMPTY,T as Traverse,u as UNSET,N as UNWRAP,ot as defaultEntities,W as emptyAgent,be as emptyAnnotation,$ as emptyAnnotationPage,G as emptyCanvas,q as emptyCollection,V as emptyManifest,U as emptyRange,me as getDefaultEntities,z as identifyResource,g as languageString2to3,ct as normalize,dt as serialize,gt as serializeConfigPresentation2,yt as serializeConfigPresentation3,ye as serializedFieldsToObject,x as types};\n", "import { normalize, serialize, serializeConfigPresentation2, serializeConfigPresentation3 } from '@iiif/parser';\nimport { createAction } from 'typesafe-actions';\nimport { combineReducers, createStore as createStore$1, applyMiddleware, compose } from 'redux';\n\nconst IMPORT_ENTITIES = \"@iiif/IMPORT_ENTITIES\";\nconst MODIFY_ENTITY_FIELD = \"@iiif/MODIFY_ENTITY_FIELD\";\nconst REORDER_ENTITY_FIELD = \"@iiif/REORDER_ENTITY_FIELD\";\nconst ADD_REFERENCE = \"@iiif/ADD_REFERENCE\";\nconst REMOVE_REFERENCE = \"@iiif/REMOVE_REFERENCE\";\nconst importEntities = createAction(IMPORT_ENTITIES)();\nconst modifyEntityField = createAction(MODIFY_ENTITY_FIELD)();\nconst reorderEntityField = createAction(REORDER_ENTITY_FIELD)();\nconst addReference = createAction(ADD_REFERENCE)();\nconst removeReference = createAction(REMOVE_REFERENCE)();\nconst entityActions = { importEntities, modifyEntityField, reorderEntityField, addReference, removeReference };\n\nconst ADD_MAPPING = \"@iiif/ADD_MAPPING\";\nconst ADD_MAPPINGS = \"@iiif/ADD_MAPPINGS\";\nconst addMapping = createAction(ADD_MAPPING)();\nconst addMappings = createAction(ADD_MAPPINGS)();\n\nconst SET_META_VALUE = \"@iiif/SET_META_VALUE\";\nconst SET_META_VALUE_DYNAMIC = \"@iiif/SET_META_VALUE_DYNAMIC\";\nconst UNSET_META_VALUE = \"@iiif/UNSET_META_VALUE\";\nconst setMetaValue = createAction(SET_META_VALUE)();\nconst setMetaValueDynamic = createAction(SET_META_VALUE_DYNAMIC)();\nconst unsetMetaValue = createAction(UNSET_META_VALUE)();\nconst metaActions = {\n  setMetaValue,\n  setMetaValueDynamic,\n  unsetMetaValue\n};\n\nconst RESOURCE_ERROR = \"RESOURCE_ERROR\";\nconst RESOURCE_LOADING = \"RESOURCE_LOADING\";\nconst RESOURCE_READY = \"RESOURCE_READY\";\nconst REQUEST_RESOURCE = \"@iiif/REQUEST_RESOURCE\";\nconst REQUEST_ERROR = \"@iiif/REQUEST_ERROR\";\nconst REQUEST_MISMATCH = \"@iiif/REQUEST_MISMATCH\";\nconst REQUEST_COMPLETE = \"@iiif/REQUEST_COMPLETE\";\nconst REQUEST_OFFLINE_RESOURCE = \"@iiif/REQUEST_OFFLINE_RESOURCE\";\nconst requestResource = createAction(REQUEST_RESOURCE)();\nconst requestError = createAction(REQUEST_ERROR)();\nconst requestMismatch = createAction(REQUEST_MISMATCH)();\nconst requestComplete = createAction(REQUEST_COMPLETE)();\ncreateAction(REQUEST_OFFLINE_RESOURCE)();\n\nconst BATCH_ACTIONS = \"@iiif/BATCH\";\nconst BATCH_IMPORT = \"@iiif/BATCH_IMPORT\";\nconst batchActions = createAction(BATCH_ACTIONS)();\ncreateAction(BATCH_IMPORT)();\n\nconst actionListFromResource = (id, response) => {\n  const { entities, resource, mapping } = normalize(response);\n  if (resource.id === void 0) {\n    return [requestError({ id, message: \"ID is not defined in resource.\" })];\n  }\n  const actions = [importEntities({ entities }), addMappings({ mapping })];\n  if (resource.id !== id) {\n    actions.push(addMapping({ id, type: resource.type }));\n    actions.push(requestMismatch({ requestId: id, actualId: resource.id }));\n  }\n  actions.push(requestComplete({ id }));\n  return actions;\n};\n\nconst safeIsNaN = Number.isNaN || function ponyfill(value) {\n  return typeof value === \"number\" && value !== value;\n};\nfunction isEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n  if (safeIsNaN(first) && safeIsNaN(second)) {\n    return true;\n  }\n  return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n  if (!Array.isArray(newInputs) || !Array.isArray(lastInputs)) {\n    return newInputs === lastInputs;\n  }\n  if (newInputs.length !== lastInputs.length) {\n    return false;\n  }\n  for (let i = 0; i < newInputs.length; i++) {\n    if (!isEqual(newInputs[i], lastInputs[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction resolveIfExists(state, url) {\n  const request = state.iiif.requests[url];\n  const resourceType = state.iiif.mapping[url];\n  if (!resourceType || !state.iiif.entities[resourceType][request.resourceUri]) {\n    return void 0;\n  }\n  return state.iiif.entities[resourceType][request.resourceUri];\n}\n\nfunction createFetchHelper(store, fetcher, { waitTimeout = 30 } = {}) {\n  return async (url, options) => {\n    const state = store.getState();\n    const request = state.iiif.requests[url];\n    if (request) {\n      switch (request.loadingState) {\n        case RESOURCE_ERROR:\n          break;\n        case RESOURCE_LOADING: {\n          let cleanupSubscription;\n          let didContinue = false;\n          try {\n            const resolvedEntity = await Promise.race([\n              new Promise((resolve, reject) => {\n                if (didContinue) {\n                  return;\n                }\n                cleanupSubscription = store.subscribe(() => {\n                  const latestState = store.getState();\n                  if (latestState.iiif.requests[url].loadingState === RESOURCE_ERROR) {\n                    reject();\n                    return;\n                  }\n                  if (latestState.iiif.requests[url].loadingState === RESOURCE_READY) {\n                    const maybeResolvedEntity = resolveIfExists(latestState, url);\n                    if (maybeResolvedEntity) {\n                      resolve(maybeResolvedEntity);\n                    } else {\n                      reject();\n                    }\n                  }\n                });\n              }),\n              new Promise((resolve, reject) => setTimeout(() => {\n                didContinue = true;\n                reject();\n              }, waitTimeout * 60))\n            ]);\n            if (cleanupSubscription) {\n              cleanupSubscription();\n            }\n            if (resolvedEntity) {\n              return resolvedEntity;\n            }\n          } catch (e) {\n            if (cleanupSubscription) {\n              cleanupSubscription();\n            }\n            break;\n          }\n          break;\n        }\n        case RESOURCE_READY: {\n          const resolvedEntity = resolveIfExists(state, url);\n          if (resolvedEntity) {\n            return resolvedEntity;\n          }\n          break;\n        }\n      }\n    }\n    store.dispatch(requestResource({ id: url }));\n    try {\n      const resource = await fetcher(url, options);\n      if (!resource.id && !resource[\"@id\"]) {\n        if (resource[\"@type\"]) {\n          resource[\"@id\"] = url;\n          resource.id = url;\n        } else {\n          resource.id = url;\n        }\n      }\n      const toDispatch = actionListFromResource(url, resource);\n      store.dispatch(batchActions({ actions: toDispatch }));\n      return resolveIfExists(store.getState(), url);\n    } catch (err) {\n      store.dispatch(requestError({ id: url, message: err.toString() }));\n      throw err;\n    }\n  };\n}\n\nfunction getDefaultEntities() {\n  return {\n    Collection: {},\n    Manifest: {},\n    Canvas: {},\n    AnnotationPage: {},\n    AnnotationCollection: {},\n    Annotation: {},\n    ContentResource: {},\n    Range: {},\n    Service: {},\n    Selector: {},\n    Agent: {}\n  };\n}\n\nconst mappingReducer = (state = {}, action) => {\n  switch (action.type) {\n    case ADD_MAPPING:\n      return {\n        ...state,\n        [action.payload.id]: action.payload.type\n      };\n    case ADD_MAPPINGS:\n      return {\n        ...state,\n        ...action.payload.mapping\n      };\n    default:\n      return state;\n  }\n};\n\nfunction isReferenceList(state, id, type, key) {\n  return !(!state[type] || !state[type][id] || !state[type][id][key] || !Array.isArray(state[type][id][key]));\n}\n\nconst entitiesReducer = (state = getDefaultEntities(), action) => {\n  switch (action.type) {\n    case MODIFY_ENTITY_FIELD: {\n      if (!state[action.payload.type] || !state[action.payload.type][action.payload.id]) {\n        return state;\n      }\n      const entity = state[action.payload.type][action.payload.id];\n      if (typeof entity === \"string\") {\n        return state;\n      }\n      return {\n        ...state,\n        [action.payload.type]: {\n          ...state[action.payload.type],\n          [action.payload.id]: {\n            ...entity,\n            [action.payload.key]: action.payload.value\n          }\n        }\n      };\n    }\n    case REORDER_ENTITY_FIELD: {\n      if (!isReferenceList(state, action.payload.id, action.payload.type, action.payload.key)) {\n        return state;\n      }\n      const entity = state[action.payload.type][action.payload.id];\n      if (typeof entity === \"string\") {\n        return state;\n      }\n      const result = Array.from(entity[action.payload.key]);\n      const [removed] = result.splice(action.payload.startIndex, 1);\n      result.splice(action.payload.endIndex, 0, removed);\n      return {\n        ...state,\n        [action.payload.type]: {\n          ...state[action.payload.type],\n          [action.payload.id]: {\n            ...entity,\n            [action.payload.key]: result\n          }\n        }\n      };\n    }\n    case IMPORT_ENTITIES: {\n      const keys = Object.keys(action.payload.entities);\n      const toReturn = { ...state };\n      for (const key of keys) {\n        toReturn[key] = {\n          ...state[key] || {},\n          ...action.payload.entities[key] || {}\n        };\n      }\n      return toReturn;\n    }\n    case ADD_REFERENCE: {\n      if (!isReferenceList(state, action.payload.id, action.payload.type, action.payload.key)) {\n        return state;\n      }\n      const entity = state[action.payload.type][action.payload.id];\n      const result = Array.from(entity[action.payload.key]);\n      result.splice(action.payload.index || result.length + 1, 0, action.payload.reference);\n      return {\n        ...state,\n        [action.payload.type]: {\n          ...state[action.payload.type],\n          [action.payload.id]: {\n            ...entity,\n            [action.payload.key]: result\n          }\n        }\n      };\n    }\n    case REMOVE_REFERENCE: {\n      if (!isReferenceList(state, action.payload.id, action.payload.type, action.payload.key)) {\n        return state;\n      }\n      const entity = state[action.payload.type][action.payload.id];\n      const result = Array.from(entity[action.payload.key]);\n      const indexToRemove = action.payload.index || result.findIndex((e) => e && e.id === action.payload.reference.id);\n      if (indexToRemove === -1) {\n        return state;\n      }\n      if (result[indexToRemove]?.id !== action.payload.reference.id) {\n        return state;\n      }\n      result.splice(indexToRemove, 1);\n      return {\n        ...state,\n        [action.payload.type]: {\n          ...state[action.payload.type],\n          [action.payload.id]: {\n            ...entity,\n            [action.payload.key]: result\n          }\n        }\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nconst requestReducer = (state = {}, action) => {\n  switch (action.type) {\n    case REQUEST_RESOURCE:\n    case REQUEST_OFFLINE_RESOURCE:\n      return {\n        ...state,\n        [action.payload.id]: {\n          requestUri: action.payload.id,\n          loadingState: RESOURCE_LOADING,\n          uriMismatch: false,\n          resourceUri: action.payload.id\n        }\n      };\n    case REQUEST_MISMATCH:\n      return {\n        ...state,\n        [action.payload.requestId]: {\n          ...state[action.payload.requestId] || {},\n          uriMismatch: true,\n          resourceUri: action.payload.actualId\n        },\n        [action.payload.actualId]: {\n          requestUri: action.payload.requestId,\n          loadingState: state[action.payload.requestId].loadingState,\n          uriMismatch: true,\n          resourceUri: action.payload.actualId\n        }\n      };\n    case REQUEST_ERROR:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id] || {},\n          loadingState: RESOURCE_ERROR,\n          error: action.payload.message\n        }\n      };\n    case REQUEST_COMPLETE:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id] || {},\n          loadingState: RESOURCE_READY,\n          error: void 0\n        }\n      };\n  }\n  return state;\n};\n\nconst metaReducer = (state = {}, action) => {\n  const { id, updateValue, value, meta, key } = action && action.payload || {};\n  switch (action.type) {\n    case SET_META_VALUE: {\n      return {\n        ...state,\n        [id]: {\n          ...state[id] || {},\n          [meta]: {\n            ...state[id] ? state[id][meta] || {} : {},\n            [key]: value\n          }\n        }\n      };\n    }\n    case SET_META_VALUE_DYNAMIC: {\n      return {\n        ...state,\n        [id]: {\n          ...state[id] || {},\n          [meta]: {\n            ...state[id] ? state[id][meta] || {} : {},\n            [key]: state[id] && state[id][meta] ? updateValue(state[id][meta][key]) : updateValue(void 0)\n          }\n        }\n      };\n    }\n    case UNSET_META_VALUE: {\n      if (state[id] && state[id][meta] && state[id][meta][key]) {\n        return {\n          ...state,\n          [id]: {\n            ...state[id] || {},\n            [meta]: {\n              ...state[id] ? state[id][meta] || {} : {},\n              [key]: void 0\n            }\n          }\n        };\n      }\n      return state;\n    }\n    default:\n      return state;\n  }\n};\n\nfunction createBatchReducer(rootReducer) {\n  return (state, action) => {\n    if (action && action.type === BATCH_ACTIONS) {\n      return action.payload.actions.reduce(rootReducer, state);\n    }\n    if (action && action.type === BATCH_IMPORT) {\n      return action.payload.state;\n    }\n    return rootReducer(state, action);\n  };\n}\n\nconst reducers = combineReducers({\n  mapping: mappingReducer,\n  entities: entitiesReducer,\n  requests: requestReducer,\n  meta: metaReducer\n});\nconst composeEnhancers = typeof window !== \"undefined\" ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose : compose;\nfunction createStore(options = {}) {\n  const {\n    enableDevtools = true,\n    iiifStoreName = \"iiif\",\n    defaultState = {},\n    extraMiddleware = [],\n    customReducers = {}\n  } = options;\n  const rootReducer = combineReducers({ [iiifStoreName]: reducers, ...customReducers });\n  const store = createStore$1(createBatchReducer(rootReducer), defaultState, enableDevtools ? composeEnhancers(applyMiddleware(...extraMiddleware)) : compose(applyMiddleware(...extraMiddleware)));\n  return store;\n}\n\nfunction mitt(n){return {all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e]);},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]));},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e);}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e);});}}}\n\nclass Vault {\n  options;\n  store;\n  emitter;\n  isBatching = false;\n  batchQueue = [];\n  remoteFetcher;\n  staticFetcher;\n  constructor(options, store) {\n    this.options = Object.assign({\n      reducers: {},\n      middleware: [],\n      defaultState: {},\n      customFetcher: this.defaultFetcher,\n      enableDevtools: true\n    }, options || {});\n    this.store = store || createStore({\n      customReducers: this.options.reducers,\n      extraMiddleware: [...this.options.middleware, this.middleware],\n      defaultState: this.options.defaultState,\n      enableDevtools: this.options.enableDevtools\n    });\n    this.emitter = mitt();\n    this.remoteFetcher = createFetchHelper(this.store, this.options.customFetcher);\n    this.staticFetcher = createFetchHelper(this.store, (id, json) => json);\n  }\n  defaultFetcher = (url) => {\n    return fetch(url).then((r) => r.json());\n  };\n  batch(cb) {\n    this.isBatching = true;\n    try {\n      cb(this);\n      this.store.dispatch(batchActions({ actions: this.batchQueue }));\n    } catch (e) {\n      this.batchQueue = [];\n      this.isBatching = false;\n      throw e;\n    }\n    this.batchQueue = [];\n    this.isBatching = false;\n  }\n  async asyncBatch(cb) {\n    this.isBatching = true;\n    try {\n      await cb(this);\n      this.store.dispatch(batchActions({ actions: this.batchQueue }));\n    } catch (e) {\n      this.batchQueue = [];\n      this.isBatching = false;\n      throw e;\n    }\n    this.batchQueue = [];\n    this.isBatching = false;\n  }\n  modifyEntityField(entity, key, value) {\n    this.dispatch(entityActions.modifyEntityField({\n      id: entity.id,\n      type: entity.type,\n      key,\n      value\n    }));\n  }\n  dispatch(action) {\n    if (!this.isBatching) {\n      this.store.dispatch(action);\n    } else {\n      this.batchQueue.push(action);\n    }\n  }\n  middleware = (store) => (next) => (action) => {\n    if (action.type === BATCH_ACTIONS) {\n      for (const realAction of action.payload.actions) {\n        this.emitter.emit(realAction.type, { realAction, state: store.getState() });\n      }\n      const state2 = next(action);\n      for (const realAction of action.payload.actions) {\n        this.emitter.emit(`after:${action.type}`, { action, state: state2 });\n      }\n      return state2;\n    }\n    this.emitter.emit(action.type, { action, state: store.getState() });\n    const state = next(action);\n    this.emitter.emit(`after:${action.type}`, { action, state });\n    return state;\n  };\n  serialize(entity, config) {\n    return serialize(this.getState().iiif, entity, config);\n  }\n  toPresentation2(entity) {\n    return this.serialize(entity, serializeConfigPresentation2);\n  }\n  toPresentation3(entity) {\n    return this.serialize(entity, serializeConfigPresentation3);\n  }\n  hydrate(reference, type) {\n    return this.get(reference, type, { skipSelfReturn: false });\n  }\n  get(reference, type, options = {}) {\n    if (typeof type !== \"string\") {\n      options = type || {};\n      type = void 0;\n    }\n    const { skipSelfReturn = true } = options || {};\n    if (Array.isArray(reference)) {\n      return reference.map((i) => this.get(i, options));\n    }\n    const state = this.getState();\n    if (typeof reference === \"string\") {\n      const _type2 = type ? type : state.iiif.mapping[reference];\n      if (!_type2) {\n        if (skipSelfReturn) {\n          return null;\n        }\n        return { id: reference, type: \"unknown\" };\n      }\n      reference = { id: reference, type: _type2 };\n    }\n    const _type = type ? type : reference.type;\n    const _id = reference.id;\n    const entities = state.iiif.entities[_type];\n    if (!entities) {\n      const request = state.iiif.requests[_id];\n      if (request && request.resourceUri !== _id) {\n        return this.get(request.resourceUri, options);\n      }\n      if (skipSelfReturn) {\n        return null;\n      }\n      return reference;\n    }\n    return entities[reference.id] || (skipSelfReturn ? null : reference);\n  }\n  select(selector) {\n    return selector(this.getState());\n  }\n  getStore() {\n    return this.store;\n  }\n  getState() {\n    return this.store.getState();\n  }\n  loadManifest(id, json) {\n    const _id = typeof id === \"string\" ? id : id.id;\n    return this.load(_id, json);\n  }\n  loadCollection(id, json) {\n    const _id = typeof id === \"string\" ? id : id.id;\n    return this.load(_id, json);\n  }\n  load(id, json) {\n    const _id = typeof id === \"string\" ? id : id.id;\n    if (json) {\n      return this.staticFetcher(_id, json);\n    }\n    return this.remoteFetcher(_id);\n  }\n  areInputsEqual(newInputs, lastInputs) {\n    return areInputsEqual(newInputs, lastInputs);\n  }\n  subscribe(selector, subscription, skipInitial) {\n    if (typeof skipInitial === \"undefined\" && (typeof subscription === \"undefined\" || subscription === false || subscription === true)) {\n      skipInitial = subscription;\n      subscription = selector;\n      selector = (a) => a;\n    }\n    let lastState = skipInitial ? null : selector(this.store.getState());\n    if (!skipInitial) {\n      subscription(lastState, this);\n    }\n    return this.store.subscribe(() => {\n      const state = this.store.getState();\n      const selectedState = selector(state);\n      if (lastState !== selectedState && !areInputsEqual(lastState, selectedState)) {\n        subscription(selectedState, this);\n      }\n      lastState = selectedState;\n    });\n  }\n  async ensureLoaded(_id) {\n    const id = typeof _id === \"string\" ? _id : _id.id;\n    if (!this.requestStatus(id)) {\n      await this.load(id);\n    }\n  }\n  requestStatus(id) {\n    return this.select((state) => {\n      return state.iiif.requests[id];\n    });\n  }\n  getResourceMeta(resource, metaKey) {\n    const resourceMeta = this.getState().iiif.meta[resource];\n    if (!resourceMeta) {\n      return void 0;\n    }\n    if (!metaKey) {\n      return resourceMeta;\n    }\n    return resourceMeta[metaKey];\n  }\n  setMetaValue([id, meta, key], newValueOrUpdate) {\n    this.dispatch(typeof newValueOrUpdate === \"function\" ? metaActions.setMetaValueDynamic({\n      id,\n      meta,\n      key,\n      updateValue: newValueOrUpdate\n    }) : metaActions.setMetaValue({\n      id,\n      meta,\n      key,\n      value: newValueOrUpdate\n    }));\n  }\n}\n\nfunction getGlobal() {\n  if (typeof self !== \"undefined\") {\n    return self;\n  }\n  if (typeof window !== \"undefined\") {\n    return window;\n  }\n  if (typeof global !== \"undefined\") {\n    return global;\n  }\n  return {};\n}\n\nfunction globalVault(options) {\n  const g = getGlobal();\n  try {\n    const gv = g[\"IIIF_VAULT\"];\n    if (gv) {\n      return gv;\n    }\n  } catch (e) {\n  }\n  const newVault = new Vault(options);\n  try {\n    g[\"IIIF_VAULT\"] = newVault;\n  } catch (e) {\n  }\n  return newVault;\n}\n\nexport { Vault, globalVault };\n", "export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}", "import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}", "import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing \u201Cwhat changed\u201D. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };\n", "import React, { useEffect, useState } from \"react\";\nimport {\n  ExternalResourceTypes,\n  InternationalString,\n  ManifestNormalized,\n} from \"@iiif/presentation-3\";\nimport {\n  getPaintingResource,\n  getSupplementingResources,\n} from \"@/hooks/use-iiif\";\nimport { useViewerState } from \"@/context/viewer-context\";\nimport { Wrapper } from \"@/components/Viewer/Viewer.styled\";\nimport { useMediaQuery } from \"@/hooks/useMediaQuery\";\nimport { useBodyLocked } from \"@/hooks/useBodyLocked\";\nimport { media } from \"@/stitches\";\nimport * as Collapsible from \"@radix-ui/react-collapsible\";\nimport ViewerHeader from \"@/components/Viewer/Header\";\nimport ViewerContent from \"@/components/Viewer/Content\";\nimport { LabeledResource } from \"@/hooks/use-iiif/getSupplementingResources\";\nimport { IIIFExternalWebResource } from \"@iiif/presentation-3\";\nimport ErrorFallback from \"@/components/Viewer/ErrorFallback\";\nimport { ErrorBoundary } from \"react-error-boundary\";\n\ninterface ViewerProps {\n  manifest: ManifestNormalized;\n  theme?: any;\n}\n\nconst Viewer: React.FC<ViewerProps> = ({ manifest, theme }) => {\n  /**\n   * Viewer State\n   */\n  const viewerState: any = useViewerState();\n  const { activeCanvas, informationExpanded, vault, configOptions } =\n    viewerState;\n\n  /**\n   * Local state\n   */\n  const [isMedia, setIsMedia] = useState(false);\n  const [isNavigator, setIsNavigator] = useState<boolean>(false);\n  const [isNavigatorOpen, setIsNavigatorOpen] = useState<boolean>(true);\n  const [painting, setPainting] = useState<IIIFExternalWebResource | undefined>(\n    undefined,\n  );\n  const [resources, setResources] = useState<LabeledResource[]>([]);\n\n  /**\n   * Hooks\n   */\n  const [isBodyLocked, setIsBodyLocked] = useBodyLocked(false);\n  const isSmallViewport = useMediaQuery(media.sm);\n\n  useEffect(() => {\n    if (!isSmallViewport) {\n      setIsNavigatorOpen(true);\n      return;\n    }\n    setIsNavigatorOpen(false);\n  }, [isSmallViewport]);\n\n  useEffect(() => {\n    if (!isSmallViewport) {\n      setIsBodyLocked(false);\n      return;\n    }\n    setIsBodyLocked(isNavigatorOpen);\n  }, [isNavigatorOpen]);\n\n  useEffect(() => {\n    const painting = getPaintingResource(vault, activeCanvas);\n    const resources = getSupplementingResources(\n      vault,\n      activeCanvas,\n      \"text/vtt\",\n    );\n    if (painting) {\n      setIsMedia(\n        [\"Sound\", \"Video\"].indexOf(painting.type as ExternalResourceTypes) > -1\n          ? true\n          : false,\n      );\n      setPainting({ ...painting });\n    }\n    setResources(resources);\n    setIsNavigator(resources.length !== 0);\n  }, [activeCanvas]);\n\n  return (\n    <ErrorBoundary FallbackComponent={ErrorFallback}>\n      <Wrapper\n        className={`${theme} clover-iiif`}\n        data-body-locked={isBodyLocked}\n        data-navigator={isNavigator}\n        data-navigator-open={isNavigatorOpen}\n      >\n        <Collapsible.Root\n          open={isNavigatorOpen}\n          onOpenChange={setIsNavigatorOpen}\n        >\n          <ViewerHeader\n            manifestLabel={manifest.label as InternationalString}\n            manifestId={manifest.id}\n          />\n          <ViewerContent\n            activeCanvas={activeCanvas}\n            painting={painting as IIIFExternalWebResource}\n            resources={resources}\n            items={manifest.items}\n            isAbout={configOptions.renderAbout}\n            isMedia={isMedia}\n            isInformation={informationExpanded}\n            isNavigator={isNavigator}\n            isNavigatorOpen={isNavigatorOpen}\n          />\n        </Collapsible.Root>\n      </Wrapper>\n    </ErrorBoundary>\n  );\n};\n\nexport default Viewer;\n", "import { IIIFExternalWebResource } from \"@iiif/presentation-3\";\n\n// TODO: Fix this type when fixing tests\nfunction getUrl(obj: any) {\n  // No IIIF image service, just return vague id value\n  if (!obj.service) {\n    return obj.id;\n  }\n  // Construct a IIIF Image service url path with params\n  return `${obj.service[0].id}/full/,${obj.height || 500}/0/default.jpg`;\n}\n\n// TODO: Fix this type when fixing all tests\nexport const getAccompanyingCanvasImage = (\n  accompanyingCanvas: any | undefined,\n): string | undefined => {\n  if (!accompanyingCanvas) return;\n  try {\n    /**\n     * Step 1: does a thumbnail item exist on canvas root?\n     */\n    const thumbnail: Array<IIIFExternalWebResource> | undefined =\n      accompanyingCanvas.thumbnail;\n    if (thumbnail && thumbnail.length > 0) {\n      return getUrl(thumbnail[0]);\n    }\n\n    /**\n     * Step 2: Dig into the Annotation Page > Body\n     */\n\n    return getUrl(accompanyingCanvas.items[0].items[0].body);\n  } catch (e) {\n    console.error(\"Error retrieving accompanying canvas image\", e);\n    return;\n  }\n};\n", "import {\n  Annotation,\n  AnnotationPageNormalized,\n  Canvas,\n  CanvasNormalized,\n  ContentResource,\n  ExternalResourceTypes,\n  IIIFExternalWebResource,\n} from \"@iiif/presentation-3\";\n\nexport interface CanvasEntity {\n  canvas: CanvasNormalized | undefined;\n  accompanyingCanvas: Canvas | undefined;\n  annotationPage: AnnotationPageNormalized | undefined;\n  annotations: Array<Annotation | undefined>;\n}\n\nexport const getCanvasByCriteria = (\n  vault: any,\n  item: Canvas,\n  motivation: string,\n  paintingType: Array<ExternalResourceTypes>,\n): CanvasEntity => {\n  const entity: CanvasEntity = {\n    canvas: undefined,\n    accompanyingCanvas: undefined,\n    annotationPage: undefined,\n    annotations: [],\n  };\n\n  const filterAnnotations = (annotation: Annotation) => {\n    if (annotation) {\n      // Handle invalid annotations\n      if (!annotation.body || !annotation.motivation) {\n        console.error(\n          `Invalid annotation after Hyperion parsing: missing either 'body' or 'motivation'`,\n          annotation,\n        );\n        return;\n      }\n\n      if (!annotation.body) return;\n\n      let annotationBody = annotation.body as\n        | ContentResource\n        | ContentResource[];\n\n      if (Array.isArray(annotationBody)) annotationBody = annotationBody[0];\n\n      const resource: IIIFExternalWebResource = vault.get(annotationBody.id);\n      if (!resource) return;\n      switch (motivation) {\n        case \"painting\":\n          if (\n            annotation.target === item.id &&\n            annotation.motivation &&\n            annotation.motivation[0] === \"painting\" &&\n            paintingType.includes(resource.type)\n          )\n            annotation.body = resource;\n          return annotation;\n        case \"supplementing\":\n          return;\n        default: {\n          throw new Error(`Invalid annotation motivation.`);\n        }\n      }\n    }\n  };\n\n  entity.canvas = vault.get(item);\n\n  if (entity.canvas) {\n    entity.annotationPage = vault.get(entity.canvas.items[0]);\n    entity.accompanyingCanvas = entity.canvas?.accompanyingCanvas\n      ? vault.get(entity.canvas?.accompanyingCanvas)\n      : undefined;\n  }\n\n  if (entity.annotationPage)\n    entity.annotations = vault\n      .get(entity.annotationPage.items)\n      .filter(filterAnnotations);\n\n  return entity;\n};\n", "import { InternationalString } from \"@iiif/presentation-3\";\n\n// Get string from a IIIF pres 3 label by language code\nexport const getLabel = (\n  label: InternationalString,\n  language: string = \"en\",\n) => {\n  /*\n   * If no label exists, return an empty string.\n   */\n  if (!label) return \"\";\n\n  /*\n   * If InternationalString code does not exist on label, then\n   * return what may be there, ex: label.none[0] OR label.fr[0]\n   */\n  if (!label[language]) {\n    const codes: Array<string> = Object.getOwnPropertyNames(label);\n    if (codes.length > 0) return label[codes[0]];\n  }\n\n  /*\n   * Return label value for InternationalString code `en`\n   */\n  return label[language];\n};\n", "import { IIIFExternalWebResource } from \"@iiif/presentation-3\";\nimport { getCanvasByCriteria } from \"@/hooks/use-iiif\";\n\nexport const getPaintingResource = (\n  vault: any,\n  id: string,\n): IIIFExternalWebResource | undefined => {\n  const canvasEntity = getCanvasByCriteria(\n    vault,\n    { id, type: \"Canvas\" },\n    \"painting\",\n    [\"Image\", \"Sound\", \"Video\"],\n  );\n\n  if (canvasEntity.annotations.length === 0) return;\n\n  if (canvasEntity.annotations[0] && canvasEntity.annotations[0].body)\n    return canvasEntity.annotations[0].body as IIIFExternalWebResource;\n\n  return;\n};\n", "import {\n  Annotation,\n  AnnotationPage,\n  CanvasNormalized,\n  ContentResource,\n  IIIFExternalWebResource,\n  InternationalString,\n} from \"@iiif/presentation-3\";\n\nexport interface LabeledResource {\n  id?: string;\n  type: \"Dataset\" | \"Image\" | \"Video\" | \"Sound\" | \"Text\";\n  format?: string;\n  label: InternationalString;\n  language?: string | string[];\n  processingLanguage?: string;\n  textDirection?: \"ltr\" | \"rtl\" | \"auto\";\n}\n\n// Get webVtt annotations from activeCanvas\nexport const getSupplementingResources = (\n  vault: any,\n  activeCanvas: string,\n  format: string,\n): Array<LabeledResource> => {\n  const canvas: CanvasNormalized = vault.get({\n    id: activeCanvas,\n    type: \"Canvas\",\n  });\n\n  if (!canvas?.annotations || !canvas.annotations[0]) return [];\n\n  const annotationPage: AnnotationPage = vault.get(canvas.annotations[0]);\n\n  const annotations: Annotation[] = vault.get(annotationPage.items);\n  if (!Array.isArray(annotations)) return [];\n\n  return annotations\n    .filter((annotation) => {\n      if (!annotation.body) return;\n      if (annotation.motivation?.includes(\"supplementing\")) {\n        let annotationBody = annotation.body as\n          | ContentResource\n          | ContentResource[];\n\n        if (Array.isArray(annotationBody)) annotationBody = annotationBody[0];\n\n        const resource: IIIFExternalWebResource = vault.get(annotationBody.id);\n        if (resource.format === format) {\n          annotation.body = resource;\n          return annotation;\n        }\n      }\n    })\n    .map((filtered: Annotation) => {\n      return filtered.body as LabeledResource;\n    });\n};\n", "import { IIIFExternalWebResource } from \"@iiif/presentation-3\";\nimport { CanvasEntity } from \"@/hooks/use-iiif/getCanvasByCriteria\";\n\nexport const getThumbnail = (\n  vault: any,\n  entity: CanvasEntity,\n  width: number,\n  height: number,\n) => {\n  /*\n   * 1. Initiate empty candidates array.\n   */\n  let candidates: Array<IIIFExternalWebResource> = [];\n\n  /*\n   * 2. Check if canvas has an explicitly assigned IIIF thumbnail.\n   */\n  if (entity.canvas)\n    if (entity.canvas.thumbnail.length > 0) {\n      const canvasThumbnail: IIIFExternalWebResource = vault.get(\n        entity.canvas.thumbnail[0],\n      );\n      candidates.push(canvasThumbnail);\n    }\n\n  if (entity.annotations[0]) {\n    /*\n     * 2. Check if painting annotation has an explicitly assigned IIIF thumbnail.\n     */\n    if (entity.annotations[0].thumbnail)\n      if (entity.annotations[0].thumbnail.length > 0) {\n        const annotationThumbnail: IIIFExternalWebResource = vault.get(\n          entity.annotations[0].thumbnail[0],\n        );\n        candidates.push(annotationThumbnail);\n      }\n\n    /*\n     * 3. Check if painting annotation is of type Image.\n     */\n    if (!entity.annotations[0].body) return;\n    const annotationBody = entity.annotations[0]\n      .body as IIIFExternalWebResource;\n\n    if (annotationBody.type === \"Image\") candidates.push(annotationBody);\n  }\n\n  /*\n   * 4. Validate candidates and make selection.\n   */\n  if (candidates.length === 0) return;\n\n  const selectedCandidate: IIIFExternalWebResource = {\n    id: candidates[0].id,\n    format: candidates[0].format,\n    type: candidates[0].type,\n    width: width,\n    height: height,\n  };\n\n  /*\n   * 5. Return (for time being crudely) constructed image object.\n   */\n  const thumbnailContent = selectedCandidate;\n  //console.log(\"thumbnailContent\", thumbnailContent);\n\n  return thumbnailContent;\n};\n", "import { createStitches } from \"@stitches/react\";\n\nexport const theme = {\n  colors: {\n    /*\n     * Black and dark grays in a light theme.\n     * Must contrast to 4.5 or greater with `secondary`.\n     */\n    primary: \"#1a1d1e\",\n    primaryMuted: \"#26292b\",\n    primaryAlt: \"#151718\",\n\n    /*\n     * Key brand color(s).\n     * Must contrast to 4.5 or greater with `secondary`.\n     */\n    accent: \"#006adc\",\n    accentMuted: \"#5eb0ef\",\n    accentAlt: \"#00254d\",\n\n    /*\n     * White and light grays in a light theme.\n     * Must contrast to 4.5 or greater with `primary` and  `accent`.\n     */\n    secondary: \"#FFFFFF\",\n    secondaryMuted: \"#e6e8eb\",\n    secondaryAlt: \"#c1c8cd\",\n  },\n  fonts: {\n    sans: \"'Inter', Arial, sans-serif\",\n    display: \"'Calistoga', 'Inter', Arial, sans-serif\",\n  },\n  transitions: {\n    all: \"all 500ms cubic-bezier(0.16, 1, 0.3, 1)\",\n  },\n};\n\nexport const media = {\n  xxs: \"(max-width: 349px)\",\n  xs: \"(max-width: 575px)\",\n  sm: \"(max-width: 767px)\",\n  md: \"(max-width: 991px)\",\n  xl: \"(max-width: 1199px)\",\n  lg: \"(min-width: 1200px)\",\n};\n\nexport const { styled, css, keyframes, createTheme } = createStitches({\n  theme,\n  media,\n});\n", "import { styled } from \"@/stitches\";\nimport * as Collapsible from \"@radix-ui/react-collapsible\";\n\nconst MediaWrapper = styled(\"div\", {\n  position: \"relative\",\n  zIndex: \"0\",\n});\n\nconst Content = styled(\"div\", {\n  display: \"flex\",\n  flexDirection: \"row\",\n  overflow: \"hidden\",\n\n  \"@sm\": {\n    flexDirection: \"column\",\n  },\n});\n\nconst Main = styled(\"div\", {\n  display: \"flex\",\n  flexDirection: \"column\",\n  flexGrow: \"1\",\n  flexShrink: \"1\",\n  width: \"61.8%\",\n\n  \"@sm\": {\n    width: \"100%\",\n  },\n});\n\nconst CollapsibleTrigger = styled(Collapsible.Trigger, {\n  display: \"none\",\n  background: \"transparent\",\n  border: \"none\",\n  margin: \"0\",\n  padding: \"0\",\n  transition: \"$all\",\n  opacity: \"1\",\n  marginTop: \"0\",\n\n  \"&[data-navigator='false']\": {\n    opacity: \"0\",\n    marginTop: \"-59px\",\n  },\n\n  \"@sm\": {\n    display: \"flex\",\n\n    \"> span\": {\n      display: \"flex\",\n      flexGrow: \"1\",\n      margin: \"1rem 1rem 0\",\n    },\n  },\n});\n\nconst CollapsibleContent = styled(Collapsible.Content, {\n  width: \"100%\",\n  display: \"flex\",\n});\n\nconst Aside = styled(\"aside\", {\n  display: \"flex\",\n  flexGrow: \"1\",\n  flexShrink: \"0\",\n  width: \"38.2%\",\n  maxHeight: \"100%\",\n\n  \"@sm\": {\n    width: \"100%\",\n  },\n});\n\nconst Wrapper = styled(\"div\", {\n  display: \"flex\",\n  flexDirection: \"column\",\n  fontFamily: \"$sans\",\n  backgroundColor: \"$secondary\",\n  fontSmooth: \"auto\",\n  webkitFontSmoothing: \"antialiased\",\n\n  \"> div\": {\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: \"1\",\n    justifyContent: \"flex-start\",\n\n    \"@sm\": {\n      [`& ${Content}`]: {\n        flexGrow: \"1\",\n      },\n\n      [`& ${Main}`]: {\n        flexGrow: \"0\",\n      },\n    },\n  },\n\n  \"@sm\": {\n    padding: \"0\",\n  },\n\n  \"&[data-navigator-open='true']\": {\n    \"@sm\": {\n      position: \"fixed\",\n      height: \"100%\",\n      width: \"100%\",\n      top: \"0\",\n      left: \"0\",\n      zIndex: \"2500000000\",\n\n      [`& ${MediaWrapper}`]: {\n        display: \"none\",\n      },\n\n      [`& ${CollapsibleContent}`]: {\n        height: \"100%\",\n      },\n    },\n  },\n});\n\nexport {\n  Wrapper,\n  Content,\n  Main,\n  MediaWrapper,\n  CollapsibleContent,\n  CollapsibleTrigger,\n  Aside,\n};\n", "import { useEffect, useState } from \"react\";\n\nexport const useMediaQuery = (mediaQuery: string) => {\n  const match = () => {\n    if (!window.matchMedia) {\n      return false;\n    }\n    return window.matchMedia(mediaQuery).matches;\n  };\n\n  const [isMatch, setIsMatch] = useState<boolean>(match);\n\n  useEffect(() => {\n    const handler = () => setIsMatch(match);\n    window.addEventListener(\"resize\", handler);\n    return () => window.removeEventListener(\"resize\", handler);\n  });\n\n  return isMatch;\n};\n", "import { useEffect, useLayoutEffect, useState } from \"react\";\n\ntype ReturnType = [boolean, (locked: boolean) => void];\n\nexport const useBodyLocked = (initialLocked = false): ReturnType => {\n  const [locked, setLocked] = useState(initialLocked);\n\n  useLayoutEffect(() => {\n    if (!locked) {\n      return;\n    }\n\n    const originalOverflow = document.documentElement.style.overflow;\n\n    document.documentElement.style.overflow = \"hidden\";\n\n    return () => {\n      document.documentElement.style.overflow = originalOverflow;\n    };\n  }, [locked]);\n\n  useEffect(() => {\n    if (locked !== initialLocked) {\n      setLocked(initialLocked);\n    }\n  }, [initialLocked]);\n\n  return [locked, setLocked];\n};\n", "import React from \"react\";\nimport * as Switch from \"@radix-ui/react-switch\";\n\nimport {\n  Header,\n  IIIFBadgeButton,\n  IIIFBadgeContent,\n  ManifestLabel,\n} from \"./Header.styled\";\nimport { InternationalString } from \"@iiif/presentation-3\";\nimport { Popover } from \"@nulib/design-system\";\nimport IIIFBadge from \"@/components/Viewer/IIIFBadge\";\nimport CopyText from \"@/components/CopyText\";\nimport { useViewerState } from \"@/context/viewer-context\";\nimport Collection from \"@/components/Collection/Collection\";\nimport { Label } from \"@samvera/nectar-iiif\";\nimport Toggle from \"./Toggle\";\n\ninterface Props {\n  manifestId: string;\n  manifestLabel: InternationalString;\n}\n\nconst ViewerHeader: React.FC<Props> = ({ manifestId, manifestLabel }) => {\n  const viewerState: any = useViewerState();\n  const { collection, configOptions } = viewerState;\n\n  const { showTitle, showIIIFBadge, showInformationToggle } = configOptions;\n\n  if (\n    !collection?.items &&\n    !showTitle &&\n    !showIIIFBadge &&\n    !showInformationToggle\n  )\n    return <></>;\n\n  return (\n    <Header className=\"clover-header\">\n      {collection?.items ? (\n        <Collection />\n      ) : (\n        <ManifestLabel>\n          <Label label={manifestLabel} />\n        </ManifestLabel>\n      )}\n      {showIIIFBadge && (\n        <Popover>\n          <IIIFBadgeButton>\n            <IIIFBadge />\n          </IIIFBadgeButton>\n          <IIIFBadgeContent>\n            {collection?.items && (\n              <button\n                onClick={(e) => {\n                  e.preventDefault();\n                  window.open(collection.id, \"_blank\");\n                }}\n              >\n                View Collection\n              </button>\n            )}\n            <button\n              onClick={(e) => {\n                e.preventDefault();\n                window.open(manifestId, \"_blank\");\n              }}\n            >\n              View Manifest\n            </button>{\" \"}\n            {collection?.items && (\n              <CopyText\n                textPrompt=\"Copy Collection URL\"\n                textToCopy={collection.id}\n              />\n            )}\n            <CopyText textPrompt=\"Copy Manifest URL\" textToCopy={manifestId} />\n          </IIIFBadgeContent>\n        </Popover>\n      )}\n      {showInformationToggle && <Toggle />}\n    </Header>\n  );\n};\n\nexport default ViewerHeader;\n", "import { styled } from \"@/stitches\";\nimport { Popover } from \"@nulib/design-system\";\nimport { CollectionStyled } from \"@/components/Collection/Collection.styled\";\n\nconst IIIFBadgeButton = styled(Popover.Trigger, {\n  width: \"30px\",\n  padding: \"5px\",\n  margin: \"0 0 0 2rem\",\n});\n\nconst IIIFBadgeContent = styled(Popover.Content, {\n  display: \"flex\",\n  flexDirection: \"column\",\n  fontSize: \"0.8333rem\",\n  border: \"none\",\n  boxShadow: \"2px 2px 5px #0003\",\n  zIndex: \"2\",\n\n  button: {\n    display: \"flex\",\n    textDecoration: \"none\",\n    fontFamily: \"$sans\",\n    marginBottom: \"0.5em\",\n    color: \"$accentAlt\",\n    cursor: \"pointer\",\n    background: \"$secondary\",\n    border: \"none\",\n\n    [\"&:last-child\"]: {\n      marginBottom: \"0\",\n    },\n  },\n});\n\nconst ManifestLabel = styled(\"span\", {\n  fontSize: \"1.25rem\",\n  fontWeight: \"700\",\n  fontFamily: \"$display\",\n  alignSelf: \"flex-start\",\n  flexGrow: \"1\",\n  flexShrink: \"0\",\n\n  \"@sm\": {\n    fontSize: \"1rem\",\n  },\n});\n\nconst Header = styled(\"header\", {\n  display: \"flex\",\n  backgroundColor: \"transparent !important\",\n  justifyContent: \"flex-end\",\n  padding: \"1rem\",\n\n  [`> ${CollectionStyled}`]: {\n    flexGrow: \"1\",\n    flexShrink: \"0\",\n  },\n\n  form: {\n    flexGrow: \"0\",\n    flexShrink: \"1\",\n  },\n});\n\nexport { Header, IIIFBadgeButton, IIIFBadgeContent, ManifestLabel };\n", "import * as Select from \"@radix-ui/react-select\";\nimport { styled } from \"@/stitches\";\n\nconst CollectionIcon = styled(\"svg\", {\n  height: \"19px\",\n  color: \"$accent\",\n  fill: \"$accent\",\n  stroke: \"$accent\",\n  display: \"flex\",\n  margin: \"0.25rem 0.85rem\",\n});\n\nconst CollectionButton = styled(Select.Trigger, {\n  fontSize: \"1.25rem\",\n  fontWeight: \"400\",\n  fontFamily: \"$display\",\n  alignSelf: \"flex-start\",\n  flexGrow: \"1\",\n  backgroundColor: \"$secondary\",\n  cursor: \"pointer\",\n  transition: \"$all\",\n  border: \"1px solid $secondaryMuted\",\n  boxShadow: \"2px 2px 5px #0001\",\n  borderRadius: \"3px\",\n  display: \"flex\",\n  alignItems: \"center\",\n  paddingLeft: \"0.5rem\",\n\n  \"@sm\": {\n    fontSize: \"1rem\",\n  },\n});\n\nconst CollectionContent = styled(Select.Content, {\n  borderRadius: \"3px\",\n  boxShadow: \"3px 3px 8px #0003\",\n  backgroundColor: \"$secondary\",\n  marginTop: \"2.25rem\",\n  marginLeft: \"6px\",\n  paddingBottom: \"0.25rem\",\n  maxHeight: \"calc(61.8vh - 2.5rem) !important\",\n  borderTopLeftRadius: \"0\",\n  border: \"1px solid $secondaryMuted\",\n  maxWidth: \"90vw\",\n});\n\nconst CollectionItem = styled(Select.Item, {\n  display: \"flex\",\n  alignItems: \"center\",\n  fontFamily: \"$sans\",\n  padding: \"0.25rem 0.5rem\",\n  color: \"$primary\",\n  fontWeight: \"400\",\n  fontSize: \"0.8333rem\",\n  cursor: \"pointer\",\n  backgroundColor: \"$secondary\",\n  width: \"calc(100% - 1rem)\",\n\n  \"> span\": {\n    whiteSpace: \"nowrap\",\n    textOverflow: \"ellipsis\",\n    overflow: \"hidden\",\n  },\n\n  '&[data-state=\"checked\"]': {\n    fontWeight: \"700\",\n    color: \"$primary !important\",\n  },\n\n  \"&:hover\": {\n    color: \"$accent\",\n  },\n\n  img: {\n    width: \"31px\",\n    height: \"31px\",\n    marginRight: \"0.5rem\",\n    borderRadius: \"3px\",\n  },\n});\n\nconst CollectionLabel = styled(Select.Label, {\n  color: \"$primaryMuted\",\n  fontFamily: \"$sans\",\n  fontSize: \"0.85rem\",\n  padding: \"0.5rem 1rem 0.5rem 0.5rem\",\n  display: \"flex\",\n  alignItems: \"center\",\n  marginBottom: \"0.25rem\",\n  borderRadius: \"3px\",\n  borderTopLeftRadius: \"0\",\n  borderBottomLeftRadius: \"0\",\n  borderBottomRightRadius: \"0\",\n  backgroundColor: \"$secondaryMuted\",\n});\n\nconst CollectionStyled = styled(\"div\", {\n  position: \"relative\",\n  zIndex: \"5\",\n});\n\nexport {\n  CollectionButton,\n  CollectionContent,\n  CollectionItem,\n  CollectionLabel,\n  CollectionIcon,\n  CollectionStyled,\n};\n", "import React from \"react\";\n\nconst IIIFBadge: React.FC = () => {\n  const red = \"#ed1d33\";\n  const blue = \"#2873ab\";\n\n  return (\n    <svg viewBox=\"0 0 493.35999 441.33334\" id=\"iiif-logo\" version=\"1.1\">\n      <title>IIIF Manifest Options</title>\n      <g transform=\"matrix(1.3333333,0,0,-1.3333333,0,441.33333)\">\n        <g transform=\"scale(0.1)\">\n          <path\n            style={{ fill: blue }}\n            d=\"M 65.2422,2178.75 775.242,1915 773.992,15 65.2422,276.25 v 1902.5\"\n          />\n          <path\n            style={{ fill: blue }}\n            d=\"m 804.145,2640.09 c 81.441,-240.91 -26.473,-436.2 -241.04,-436.2 -214.558,0 -454.511,195.29 -535.9527,436.2 -81.4335,240.89 26.4805,436.18 241.0387,436.18 214.567,0 454.512,-195.29 535.954,-436.18\"\n          />\n          <path\n            style={{ fill: red }}\n            d=\"M 1678.58,2178.75 968.578,1915 969.828,15 1678.58,276.25 v 1902.5\"\n          />\n          <path\n            style={{ fill: red }}\n            d=\"m 935.082,2640.09 c -81.437,-240.91 26.477,-436.2 241.038,-436.2 214.56,0 454.51,195.29 535.96,436.2 81.43,240.89 -26.48,436.18 -241.04,436.18 -214.57,0 -454.52,-195.29 -535.958,-436.18\"\n          />\n          <path\n            style={{ fill: blue }}\n            d=\"m 1860.24,2178.75 710,-263.75 -1.25,-1900 -708.75,261.25 v 1902.5\"\n          />\n          <path\n            style={{ fill: blue }}\n            d=\"m 2603.74,2640.09 c 81.45,-240.91 -26.47,-436.2 -241.03,-436.2 -214.58,0 -454.52,195.29 -535.96,436.2 -81.44,240.89 26.48,436.18 241.03,436.18 214.57,0 454.51,-195.29 535.96,-436.18\"\n          />\n          <path\n            style={{ fill: red }}\n            d=\"m 3700.24,3310 v -652.5 c 0,0 -230,90 -257.5,-142.5 -2.5,-247.5 0,-336.25 0,-336.25 l 257.5,83.75 V 1690 l -258.61,-92.5 V 262.5 L 2735.24,0 v 2360 c 0,0 -15,850 965,950\"\n          />\n        </g>\n      </g>\n    </svg>\n  );\n};\n\nexport default IIIFBadge;\n", "import React from \"react\";\nimport { styled } from \"@/stitches\";\nimport { useCopyToClipboard, CopyStatus } from \"@/hooks/useCopyToClipboard\";\n\nconst Status = styled(\"span\", {\n  display: \"flex\",\n  alignContent: \"center\",\n  alignItems: \"center\",\n  padding: \"0.125rem 0.25rem 0\",\n  marginTop: \"-0.125rem\",\n  marginLeft: \"0.5rem\",\n  backgroundColor: \"$accent\",\n  color: \"$secondary\",\n  borderRadius: \"3px\",\n  fontSize: \"0.6111rem\",\n  textTransform: \"uppercase\",\n  lineHeight: \"1em\",\n});\n\nconst CopyTextStatus: React.FC<{ status: CopyStatus }> = ({ status }) => {\n  if (!status) return null;\n\n  return <Status data-copy-status={status}>{status}</Status>;\n};\n\nexport const CopyText: React.FC<{ textPrompt: string; textToCopy: string }> = ({\n  textPrompt,\n  textToCopy,\n}) => {\n  const [copyStatus, copyText] = useCopyToClipboard(textToCopy);\n  return (\n    <button onClick={copyText}>\n      {textPrompt} <CopyTextStatus status={copyStatus} />\n    </button>\n  );\n};\n\nexport default CopyText;\n", "import { useCallback, useEffect, useState } from \"react\";\n\nexport type CopyStatus = undefined | \"copied\" | \"failed\";\n\nexport const useCopyToClipboard = (\n  text: string,\n  notifyTimeout = 2500,\n): [CopyStatus, () => void] => {\n  const [copyStatus, setCopyStatus] = useState<CopyStatus>();\n  const copy = useCallback(() => {\n    navigator.clipboard.writeText(text).then(\n      () => setCopyStatus(\"copied\"),\n      () => setCopyStatus(\"failed\"),\n    );\n  }, [text]);\n\n  useEffect(() => {\n    if (!copyStatus) {\n      return;\n    }\n\n    const timeoutId = setTimeout(() => setCopyStatus(undefined), notifyTimeout);\n\n    return () => clearTimeout(timeoutId);\n  }, [copyStatus]);\n\n  return [copyStatus, copy];\n};\n", "import * as Select from \"@radix-ui/react-select\";\nimport {\n  CollectionButton,\n  CollectionContent,\n  CollectionItem,\n  CollectionLabel,\n  CollectionStyled,\n} from \"@/components/Collection/Collection.styled\";\nimport { Label, Thumbnail } from \"@samvera/nectar-iiif\";\nimport { useViewerDispatch, useViewerState } from \"@/context/viewer-context\";\nimport React from \"react\";\nimport { CollectionItems } from \"@iiif/presentation-3\";\nimport Icon from \"@/components/Collection/Icon\";\n\nconst Collection: React.FC = () => {\n  const dispatch: any = useViewerDispatch();\n  const viewerState: any = useViewerState();\n\n  const { activeManifest, collection, configOptions, vault } = viewerState;\n  const maxHeight = configOptions?.canvasHeight;\n\n  const handleValueChange = (manifestId: string) => {\n    dispatch({\n      type: \"updateActiveManifest\",\n      manifestId: manifestId,\n    });\n  };\n\n  return (\n    <CollectionStyled>\n      <Select.Root value={activeManifest} onValueChange={handleValueChange}>\n        <CollectionButton>\n          <Select.Value />\n          <Select.Icon>\n            <Icon direction=\"down\" title=\"select from collection\" />\n          </Select.Icon>\n        </CollectionButton>\n        <CollectionContent css={{ maxHeight: `${maxHeight} !important` }}>\n          <Select.ScrollUpButton>\n            <Icon direction=\"up\" title=\"scroll up for more\" />\n          </Select.ScrollUpButton>\n          <Select.Viewport>\n            <Select.Group>\n              <CollectionLabel>\n                <Label label={collection.label} />\n              </CollectionLabel>\n              {collection.items.map((item: CollectionItems) => (\n                <CollectionItem value={item.id} key={item.id}>\n                  <Thumbnail thumbnail={vault.get(item.thumbnail)} />\n                  <Select.ItemText>\n                    <Label label={item.label} />\n                  </Select.ItemText>\n                  <Select.ItemIndicator />\n                </CollectionItem>\n              ))}\n            </Select.Group>\n          </Select.Viewport>\n          <Select.ScrollDownButton>\n            <Icon direction=\"down\" title=\"scroll down for more\" />\n          </Select.ScrollDownButton>\n        </CollectionContent>\n      </Select.Root>\n    </CollectionStyled>\n  );\n};\n\nexport default Collection;\n", "import React from \"react\";\nimport { CollectionIcon } from \"./Collection.styled\";\n\ninterface SelectIconProps {\n  direction: \"up\" | \"down\";\n  title: string;\n}\n\nconst SelectIcon: React.FC<SelectIconProps> = ({ direction, title }) => {\n  const CaretUp = () => {\n    return (\n      <path d=\"M414 321.94L274.22 158.82a24 24 0 00-36.44 0L98 321.94c-13.34 15.57-2.28 39.62 18.22 39.62h279.6c20.5 0 31.56-24.05 18.18-39.62z\" />\n    );\n  };\n\n  const CaretDown = () => {\n    return (\n      <path d=\"M98 190.06l139.78 163.12a24 24 0 0036.44 0L414 190.06c13.34-15.57 2.28-39.62-18.22-39.62h-279.6c-20.5 0-31.56 24.05-18.18 39.62z\" />\n    );\n  };\n\n  return (\n    <CollectionIcon\n      xmlns=\"http://www.w3.org/2000/svg\"\n      focusable=\"false\"\n      viewBox=\"0 0 512 512\"\n      role=\"img\"\n    >\n      <title>{title}</title>\n      {direction === \"up\" && <CaretUp />}\n      {direction === \"down\" && <CaretDown />}\n    </CollectionIcon>\n  );\n};\n\nexport default SelectIcon;\n", "import { useViewerDispatch } from \"@/context/viewer-context\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  Label,\n  StyledSwitch,\n  StyledThumb,\n  StyledToggle,\n  Wrapper,\n} from \"@/components/Viewer/Toggle.styled\";\n\nconst Toggle = () => {\n  const dispatch: any = useViewerDispatch();\n\n  const [checked, setChecked] = useState(true);\n\n  useEffect(() => {\n    dispatch({\n      type: \"updateInformationExpanded\",\n      informationExpanded: checked,\n    });\n  }, [checked]);\n\n  return (\n    <StyledToggle>\n      <Wrapper>\n        <Label\n          htmlFor=\"information-toggle\"\n          css={checked ? { opacity: \"1\" } : {}}\n        >\n          More Information\n        </Label>\n        <StyledSwitch\n          checked={checked}\n          onCheckedChange={() => setChecked(!checked)}\n          id=\"information-toggle\"\n        >\n          <StyledThumb />\n        </StyledSwitch>\n      </Wrapper>\n    </StyledToggle>\n  );\n};\n\nexport default Toggle;\n", "import { styled } from \"@/stitches\";\nimport * as Switch from \"@radix-ui/react-switch\";\n\nconst StyledSwitch = styled(Switch.Root, {\n  all: \"unset\",\n  height: \"2rem\",\n  width: \"3.236rem\",\n  backgroundColor: \"$secondaryAlt\",\n  borderRadius: \"9999px\",\n  position: \"relative\",\n  WebkitTapHighlightColor: \"transparent\",\n  cursor: \"pointer\",\n\n  \"&:focus\": {\n    boxShadow: `0 0 0 2px $secondaryAlt`,\n  },\n\n  '&[data-state=\"checked\"]': {\n    backgroundColor: \"$accent\",\n    boxShadow: `inset 2px 2px 5px #0003`,\n  },\n});\n\nconst StyledThumb = styled(Switch.Thumb, {\n  display: \"block\",\n  height: \"calc(2rem - 12px)\",\n  width: \"calc(2rem - 12px)\",\n  backgroundColor: \"$secondary\",\n  borderRadius: \"100%\",\n  boxShadow: `2px 2px 5px #0001`,\n  transition: \"$all\",\n  transform: \"translateX(6px)\",\n  willChange: \"transform\",\n\n  '&[data-state=\"checked\"]': {\n    transform: \"translateX(calc(1.236rem + 6px))\",\n  },\n});\n\nconst Wrapper = styled(\"div\", {\n  display: \"flex\",\n  alignItems: \"center\",\n  paddingLeft: \"1.618rem\",\n});\n\nconst Label = styled(\"label\", {\n  fontSize: \"0.8333rem\",\n  fontFamily: \"$sans\",\n  fontWeight: \"400\",\n  lineHeight: \"1em\",\n  userSelect: \"none\",\n  cursor: \"pointer\",\n  color: \"$primary\",\n  opacity: \"0.7\",\n  paddingRight: \"0.618rem\",\n});\n\nconst StyledToggle = styled(\"form\", {});\n\nexport { Label, StyledSwitch, StyledThumb, StyledToggle, Wrapper };\n", "import React from \"react\";\nimport Media from \"@/components/Media/Media\";\nimport Navigator from \"@/components/Navigator/Navigator\";\nimport Player from \"@/components/Player/Player\";\nimport ImageViewer from \"@/components/ImageViewer/ImageViewer\";\nimport { Button } from \"@nulib/design-system\";\nimport { Canvas, IIIFExternalWebResource } from \"@iiif/presentation-3\";\nimport {\n  Content,\n  Main,\n  CollapsibleTrigger,\n  CollapsibleContent,\n  MediaWrapper,\n  Aside,\n} from \"@/components/Viewer/Viewer.styled\";\nimport { LabeledResource } from \"@/hooks/use-iiif/getSupplementingResources\";\nimport { CurrentTimeProvider } from \"@/context/current-time-context\";\n\ninterface Props {\n  activeCanvas: string;\n  painting: IIIFExternalWebResource;\n  resources: LabeledResource[];\n  items: Canvas[];\n  isAbout: boolean;\n  isInformation: boolean;\n  isMedia: boolean;\n  isNavigator: boolean;\n  isNavigatorOpen: boolean;\n}\n\nconst ViewerContent: React.FC<Props> = ({\n  activeCanvas,\n  painting,\n  resources,\n  items,\n  isAbout,\n  isInformation,\n  isNavigator,\n  isNavigatorOpen,\n  isMedia,\n}) => {\n  return (\n    <Content className=\"clover-content\">\n      <CurrentTimeProvider>\n        <Main>\n          {isMedia ? (\n            <Player\n              painting={painting as IIIFExternalWebResource}\n              resources={resources}\n            />\n          ) : (\n            painting && <ImageViewer body={painting} key={activeCanvas} />\n          )}\n          <CollapsibleTrigger>\n            <Button as=\"span\">\n              {isNavigatorOpen ? \"View Items\" : \"More Information\"}\n            </Button>\n          </CollapsibleTrigger>\n          {items.length > 1 && (\n            <MediaWrapper className=\"clover-canvases\">\n              <Media items={items} activeItem={0} />\n            </MediaWrapper>\n          )}\n        </Main>\n        {isInformation && (isAbout || isNavigator) && (\n          <Aside>\n            <CollapsibleContent>\n              <Navigator activeCanvas={activeCanvas} resources={resources} />\n            </CollapsibleContent>\n          </Aside>\n        )}\n      </CurrentTimeProvider>\n    </Content>\n  );\n};\n\nexport default ViewerContent;\n", "import React, { useEffect, useState } from \"react\";\nimport { Group } from \"@/components/Media/Media.styled\";\nimport { CanvasEntity } from \"@/hooks/use-iiif/getCanvasByCriteria\";\nimport { getCanvasByCriteria, getLabel, getThumbnail } from \"@/hooks/use-iiif\";\nimport {\n  Canvas,\n  CanvasNormalized,\n  ExternalResourceTypes,\n} from \"@iiif/presentation-3\";\nimport { useViewerState, useViewerDispatch } from \"@/context/viewer-context\";\nimport Thumbnail from \"@/components/Media/Thumbnail\";\nimport { getResourceType } from \"@/hooks/use-iiif/getResourceType\";\nimport Controls from \"@/components/Media/Controls\";\n\ninterface MediaProps {\n  items: Canvas[];\n  activeItem: number;\n}\n\nconst Media: React.FC<MediaProps> = ({ items }) => {\n  const dispatch: any = useViewerDispatch();\n  const state: any = useViewerState();\n  const { activeCanvas, vault } = state;\n\n  const [filter, setFilter] = useState<String>(\"\");\n  const [mediaItems, setMediaItems] = useState<Array<CanvasEntity>>([]);\n  const [activeIndex, setActiveIndex] = useState<number>(0);\n\n  const scrollRef = React.useRef<HTMLDivElement>(null);\n\n  const motivation = \"painting\";\n  // TODO: Type this as an enum\n  const paintingType: ExternalResourceTypes[] = [\"Image\", \"Sound\", \"Video\"];\n\n  const handleChange = (canvasId: string) => {\n    if (activeCanvas !== canvasId)\n      dispatch({\n        type: \"updateActiveCanvas\",\n        canvasId: canvasId,\n      });\n  };\n\n  useEffect(() => {\n    if (!mediaItems.length) {\n      const entities: CanvasEntity[] = items\n        .map((item) =>\n          getCanvasByCriteria(vault, item, motivation, paintingType),\n        )\n        .filter((canvasEntity) => canvasEntity.annotations.length > 0);\n      setMediaItems(entities);\n    }\n  }, []);\n\n  useEffect(() => {\n    mediaItems.forEach((item, index) => {\n      if (item?.canvas)\n        if (item.canvas.id === activeCanvas) setActiveIndex(index);\n    });\n  }, [activeCanvas]);\n\n  useEffect(() => {\n    const element = document.querySelector<HTMLElement>(\n      `[data-canvas=\"${activeIndex}\"]`,\n    ) as Element;\n\n    if (element instanceof HTMLElement && scrollRef.current) {\n      const leftPos =\n        element.offsetLeft -\n        scrollRef.current.offsetWidth / 2 +\n        element.offsetWidth / 2;\n      scrollRef.current.scrollTo({ left: leftPos, behavior: \"smooth\" });\n    }\n  }, [activeIndex]);\n\n  const handleFilter = (value: String) => setFilter(value);\n\n  const handleCanvasToggle = (step: -1 | 1) => {\n    const canvasEntity = mediaItems[activeIndex + step];\n    if (canvasEntity?.canvas) handleChange(canvasEntity.canvas.id);\n  };\n\n  return (\n    <>\n      <Controls\n        handleFilter={handleFilter}\n        handleCanvasToggle={handleCanvasToggle}\n        activeIndex={activeIndex}\n        canvasLength={mediaItems.length}\n      />\n      <Group aria-label=\"select item\" data-testid=\"media\" ref={scrollRef}>\n        {mediaItems\n          .filter((item) => {\n            if (item.canvas?.label) {\n              const label = getLabel(item.canvas.label);\n              if (Array.isArray(label))\n                return label[0].toLowerCase().includes(filter.toLowerCase());\n            }\n          })\n          .map((item, index) => (\n            <Thumbnail\n              canvas={item.canvas as CanvasNormalized}\n              canvasIndex={index}\n              handleChange={handleChange}\n              isActive={activeCanvas === item?.canvas?.id ? true : false}\n              key={item?.canvas?.id}\n              thumbnail={getThumbnail(vault, item, 200, 200)}\n              type={getResourceType(item.annotations[0])}\n            />\n          ))}\n      </Group>\n    </>\n  );\n};\n\nexport default Media;\n", "import * as RadioGroup from \"@radix-ui/react-radio-group\";\nimport { styled } from \"@/stitches\";\n\nconst Group = styled(RadioGroup.Root, {\n  display: \"flex\",\n  flexDirection: \"row\",\n  flexGrow: \"1\",\n  padding: \"1.618rem\",\n  overflowX: \"scroll\",\n  position: \"relative\",\n  zIndex: \"0\",\n});\n\nexport { Group };\n", "import React from \"react\";\nimport { convertTime } from \"@/services/utils\";\nimport {\n  CanvasNormalized,\n  IIIFExternalWebResource,\n} from \"@iiif/presentation-3\";\nimport { Icon, Tag } from \"@nulib/design-system\";\nimport {\n  Duration,\n  Item,\n  Spacer,\n  Type,\n} from \"@/components/Media/Thumbnail.styled\";\nimport { Label } from \"@samvera/nectar-iiif\";\nimport { getLabel } from \"@/hooks/use-iiif\";\n\n/**\n * Determine appropriate icon by resource type\n */\ninterface IconPathProps {\n  type: string;\n}\n\nconst IconPath: React.FC<IconPathProps> = ({ type }) => {\n  switch (type) {\n    case \"Sound\":\n      return <Icon.Audio />;\n    case \"Image\":\n      return <Icon.Image />;\n    case \"Video\":\n      return <Icon.Video />;\n    default:\n      return <Icon.Image />;\n  }\n};\n\n/**\n * Render thumbnail for IIIF canvas item\n */\nexport interface ThumbnailProps {\n  canvas: CanvasNormalized;\n  canvasIndex: number;\n  isActive: boolean;\n  thumbnail?: IIIFExternalWebResource;\n  type: string;\n  handleChange: (arg0: string) => void;\n}\n\nconst Thumbnail: React.FC<ThumbnailProps> = ({\n  canvas,\n  canvasIndex,\n  isActive,\n  thumbnail,\n  type,\n  handleChange,\n}) => {\n  return (\n    <Item\n      aria-checked={isActive}\n      data-testid=\"media-thumbnail\"\n      data-canvas={canvasIndex}\n      onClick={() => handleChange(canvas.id)}\n      value={canvas.id}\n    >\n      <figure>\n        <div>\n          {thumbnail?.id && (\n            <img\n              src={thumbnail.id}\n              alt={canvas?.label ? (getLabel(canvas.label) as string) : \"\"}\n            />\n          )}\n\n          <Type>\n            <Tag isIcon data-testid=\"thumbnail-tag\">\n              <Spacer />\n              <Icon aria-label={type}>\n                <IconPath type={type} />\n              </Icon>\n              {[\"Video\", \"Sound\"].includes(type) && (\n                <Duration>{convertTime(canvas.duration as number)}</Duration>\n              )}\n            </Tag>\n          </Type>\n        </div>\n        {canvas?.label && (\n          <figcaption data-testid=\"fig-caption\">\n            <Label label={canvas.label} />\n          </figcaption>\n        )}\n      </figure>\n    </Item>\n  );\n};\n\nexport default Thumbnail;\n", "export const cleanTime = (standardNotation: string) => {\n  var array = standardNotation.toString().split(\":\");\n  var hours: number = Math.ceil(parseInt(array[0]));\n  var minutes: number = Math.ceil(parseInt(array[1]));\n  var seconds: string = zeroPad(Math.ceil(parseInt(array[2])), 2);\n\n  // Insure time with Hours is formatted as \"HH:MM:SS\"\n  let formattedMinutes =\n    hours !== 0 && minutes < 10 ? (minutes + \"\").padStart(2, \"0\") : minutes;\n\n  let time: string = `${formattedMinutes}:${seconds}`;\n\n  if (hours !== 0) {\n    time = `${hours}:${time}`;\n  }\n\n  return time;\n};\n\nexport const convertTime = (duration: number) => {\n  const standardNotation: string = new Date(duration * 1000)\n    .toISOString()\n    .substr(11, 8);\n  return cleanTime(standardNotation);\n};\n\nexport const convertTimeToSeconds = (standardNotation: string) => {\n  var hms: Array<string> = standardNotation.split(\":\");\n  var seconds: number = +hms[0] * 60 * 60 + +hms[1] * 60 + +hms[2];\n  return seconds;\n};\n\nconst zeroPad = (num: number, places: number) =>\n  String(num).padStart(places, \"0\");\n", "import * as RadioGroup from \"@radix-ui/react-radio-group\";\nimport { styled } from \"@/stitches\";\nimport { Tag } from \"@nulib/design-system\";\n\nconst Type = styled(\"span\", {\n  display: \"flex\",\n});\n\nconst Spacer = styled(\"span\", {\n  display: \"flex\",\n  width: \"1.2111rem\",\n  height: \"0.7222rem\",\n});\n\nconst Duration = styled(\"span\", {\n  display: \"inline-flex\",\n  marginLeft: \"5px\",\n  marginBottom: \"-1px\",\n});\n\nconst Item = styled(RadioGroup.Item, {\n  display: \"flex\",\n  flexShrink: \"0\",\n  margin: \"0 1.618rem 0 0\",\n  padding: \"0\",\n  cursor: \"pointer\",\n  background: \"none\",\n  border: \"none\",\n  fontFamily: \"inherit\",\n  lineHeight: \"1.25em\",\n  fontSize: \"1rem\",\n  textAlign: \"left\",\n\n  \"&:last-child\": {\n    marginRight: \"1rem\",\n  },\n\n  figure: {\n    margin: \"0\",\n    width: \"161.8px\",\n\n    \"> div\": {\n      position: \"relative\",\n      display: \"flex\",\n      backgroundColor: \"$secondaryAlt\",\n      width: \"inherit\",\n      height: \"100px\",\n      overflow: \"hidden\",\n      borderRadius: \"3px\",\n      transition: \"$all\",\n\n      img: {\n        width: \"100%\",\n        height: \"100%\",\n        objectFit: \"cover\",\n        filter: \"blur(0)\",\n        transform: \"scale3d(1, 1, 1)\",\n        transition: \"$all\",\n        color: \"transparent\",\n      },\n\n      [`& ${Type}`]: {\n        position: \"absolute\",\n        right: \"0\",\n        bottom: \"0\",\n\n        [`& ${Tag}`]: {\n          margin: \"0\",\n          paddingLeft: \"0\",\n          fontSize: \"0.7222rem\",\n          backgroundColor: \"#000d\",\n          color: \"$secondary\",\n          fill: \"$secondary\",\n          borderBottomLeftRadius: \"0\",\n          borderTopRightRadius: \"0\",\n        },\n      },\n    },\n\n    figcaption: {\n      marginTop: \"0.5rem\",\n      color: \"$primaryMuted\",\n      fontWeight: \"400\",\n      fontSize: \"0.8333rem\",\n      display: \"-webkit-box\",\n      overflow: \"hidden\",\n      MozBoxOrient: \"vertical\",\n      WebkitLineClamp: \"5\",\n\n      \"@sm\": {\n        fontSize: \"0.8333rem\",\n      },\n    },\n  },\n\n  \"&[aria-checked='true']\": {\n    figure: {\n      \"> div\": {\n        backgroundColor: \"$primaryAlt\",\n\n        \"&::before\": {\n          position: \"absolute\",\n          zIndex: \"1\",\n          color: \"$secondaryMuted\",\n          content: \"Active Item\",\n          textTransform: \"uppercase\",\n          fontWeight: \"700\",\n          fontSize: \"0.6111rem\",\n          letterSpacing: \"0.03rem\",\n          display: \"flex\",\n          width: \"100%\",\n          height: \"100%\",\n          flexDirection: \"column\",\n          justifyContent: \"center\",\n          textAlign: \"center\",\n          textShadow: \"5px 5px 5px #0003\",\n        },\n\n        img: {\n          opacity: \"0.3\",\n          transform: \"scale3d(1.1, 1.1, 1.1)\",\n          filter: \"blur(2px)\",\n        },\n\n        [`& ${Type}`]: {\n          [`& ${Tag}`]: {\n            backgroundColor: \"$accent\",\n          },\n        },\n      },\n    },\n\n    figcaption: {\n      fontWeight: \"700\",\n      color: \"$primary\",\n    },\n  },\n});\n\nexport { Duration, Item, Spacer, Type };\n", "export const getResourceType = (annotation: any): string => {\n  if (!annotation.body) return \"Image\";\n\n  return annotation.body.type;\n};\n", "import React, { useEffect, useState } from \"react\";\nimport {\n  Button,\n  Direction,\n  Form,\n  Input,\n  Wrapper,\n} from \"@/components/Media/Controls.styled\";\nimport useKeyPress from \"@/hooks/useKeyPress\";\n\ninterface Props {\n  handleCanvasToggle: (arg0: -1 | 1) => void;\n  handleFilter: (arg0: String) => void;\n  activeIndex: number;\n  canvasLength: number;\n}\nconst PreviousIcon: React.FC = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n      <title>Arrow Back</title>\n      <path\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeMiterlimit=\"10\"\n        strokeWidth=\"45\"\n        d=\"M244 400L100 256l144-144M120 256h292\"\n      />\n    </svg>\n  );\n};\n\nconst NextIcon: React.FC = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n      <title>Arrow Forward</title>\n      <path\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeMiterlimit=\"10\"\n        strokeWidth=\"45\"\n        d=\"M268 112l144 144-144 144M392 256H100\"\n      />\n    </svg>\n  );\n};\n\nconst CloseIcon: React.FC = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n      <title>Close</title>\n      <path d=\"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z\" />\n    </svg>\n  );\n};\n\nconst SearchIcon: React.FC = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n      <title>Search</title>\n      <path d=\"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z\" />\n    </svg>\n  );\n};\n\nconst Controls: React.FC<Props> = ({\n  handleCanvasToggle,\n  handleFilter,\n  activeIndex,\n  canvasLength,\n}) => {\n  const [toggleFilter, setToggleFilter] = useState<boolean>(false);\n  const [isNextDisabled, setIsNextDisabled] = useState<boolean>(false);\n  const [isPreviousDisabled, setIsPreviousDisabled] = useState<boolean>(false);\n\n  useEffect(() => {\n    activeIndex === 0\n      ? setIsPreviousDisabled(true)\n      : setIsPreviousDisabled(false);\n    activeIndex === canvasLength - 1\n      ? setIsNextDisabled(true)\n      : setIsNextDisabled(false);\n  }, [activeIndex]);\n\n  /**\n   * dismiss filtering if Escape key is pressed\n   */\n  useKeyPress(\"Escape\", () => {\n    setToggleFilter(false);\n    handleFilter(\"\");\n  });\n\n  /**\n   * reset filtering on manual toggle button press\n   */\n  const handleFilterToggle = () => {\n    setToggleFilter((prevToggleFilter) => !prevToggleFilter);\n    handleFilter(\"\");\n  };\n\n  /**\n   * handle value changes on Input\n   */\n  const handleFilterChange = (event: React.ChangeEvent<HTMLInputElement>) =>\n    handleFilter(event.target.value);\n\n  return (\n    <Wrapper isToggle={toggleFilter}>\n      <Form>\n        {toggleFilter && (\n          <Input autoFocus onChange={handleFilterChange} placeholder=\"Search\" />\n        )}\n        {!toggleFilter && (\n          <Direction>\n            <Button\n              onClick={() => handleCanvasToggle(-1)}\n              disabled={isPreviousDisabled}\n              type=\"button\"\n            >\n              <PreviousIcon />\n            </Button>\n            <span>\n              {activeIndex + 1} of {canvasLength}\n            </span>\n            <Button\n              onClick={() => handleCanvasToggle(1)}\n              disabled={isNextDisabled}\n              type=\"button\"\n            >\n              <NextIcon />\n            </Button>\n          </Direction>\n        )}\n        <Button onClick={handleFilterToggle} type=\"button\">\n          {toggleFilter ? <CloseIcon /> : <SearchIcon />}\n        </Button>\n      </Form>\n    </Wrapper>\n  );\n};\n\nexport default Controls;\n", "import { styled } from \"@/stitches\";\n\nconst Form = styled(\"div\", {\n  position: \"absolute\",\n  right: \"1rem\",\n  top: \"1rem\",\n  display: \"flex\",\n  justifyContent: \"flex-end\",\n  zIndex: \"1\",\n});\n\nconst Input = styled(\"input\", {\n  flexGrow: \"1\",\n  border: \"none\",\n  backgroundColor: \"$secondaryMuted\",\n  color: \"$primary\",\n  marginRight: \"1rem\",\n  height: \"2rem\",\n  padding: \"0 1rem\",\n  borderRadius: \"2rem\",\n  fontFamily: \"$sans\",\n  fontSize: \"1rem\",\n  lineHeight: \"1rem\",\n  boxShadow: \"inset 1px 1px 2px #0003\",\n\n  \"&::placeholder\": {\n    color: \"$primaryMuted\",\n  },\n});\n\nconst Button = styled(\"button\", {\n  display: \"flex\",\n  background: \"none\",\n  border: \"none\",\n  width: \"2rem !important\",\n  height: \"2rem !important\",\n  padding: \"0\",\n  margin: \"0\",\n  fontWeight: \"700\",\n  borderRadius: \"2rem\",\n  backgroundColor: \"$accent\",\n  color: \"$secondary\",\n  cursor: \"pointer\",\n  boxSizing: \"content-box !important\",\n  transition: \"$all\",\n\n  svg: {\n    height: \"60%\",\n    width: \"60%\",\n    padding: \"20%\",\n    fill: \"$secondary\",\n    stroke: \"$secondary\",\n    opacity: \"1\",\n    filter: \"drop-shadow(5px 5px 5px #000D)\",\n    boxSizing: \"inherit\",\n    transition: \"$all\",\n  },\n\n  \"&:disabled\": {\n    backgroundColor: \"transparent\",\n    boxShadow: \"none\",\n    svg: { opacity: \"0.25\" },\n  },\n});\n\nconst Direction = styled(\"div\", {\n  display: \"flex\",\n  marginRight: \"0.618rem\",\n  backgroundColor: \"$accentAlt\",\n  borderRadius: \"2rem\",\n  boxShadow: \"5px 5px 5px #0003\",\n  color: \"$secondary\",\n  alignItems: \"center\",\n\n  \"> span\": {\n    display: \"flex\",\n    margin: \"0 0.5rem\",\n    fontSize: \"0.7222rem\",\n  },\n});\n\nconst Wrapper = styled(\"div\", {\n  display: \"flex\",\n  position: \"relative\",\n  zIndex: \"1\",\n  width: \"100%\",\n  padding: \"0\",\n  transition: \"$all\",\n\n  variants: {\n    isToggle: {\n      true: {\n        paddingTop: \"2.618rem\",\n\n        [`& ${Form}`]: {\n          width: \"calc(100% - 2rem)\",\n\n          \"@sm\": {\n            width: \"calc(100% - 2rem)\",\n          },\n        },\n      },\n    },\n  },\n});\n\nexport { Button, Direction, Form, Input, Wrapper };\n", "import { useEffect } from \"react\";\n/**\n * useKeyPress\n * @param {string} key - the name of the key to respond to, compared against event.key\n * @param {function} action - the action to perform on key press\n */\nconst useKeyPress = (key: string, action: () => void) => {\n  useEffect(() => {\n    function onKeyup(e: KeyboardEvent) {\n      if (e.key === key) action();\n    }\n    window.addEventListener(\"keyup\", onKeyup);\n    return () => window.removeEventListener(\"keyup\", onKeyup);\n  }, []);\n};\n\nexport default useKeyPress;\n", "import React, { useEffect, useState } from \"react\";\nimport { InternationalString } from \"@iiif/presentation-3\";\nimport {\n  Content,\n  List,\n  Scroll,\n  Trigger,\n  Wrapper,\n} from \"@/components/Navigator/Navigator.styled\";\nimport { LabeledResource } from \"@/hooks/use-iiif/getSupplementingResources\";\nimport Resource from \"@/components/Navigator/Resource\";\nimport { Label } from \"@samvera/nectar-iiif\";\nimport Information from \"@/components/Navigator/About/About\";\nimport { useViewerState } from \"@/context/viewer-context\";\n\ninterface NavigatorProps {\n  activeCanvas: string;\n  resources?: Array<LabeledResource>;\n}\n\nexport const Navigator: React.FC<NavigatorProps> = ({\n  activeCanvas,\n  resources,\n}) => {\n  const viewerState: any = useViewerState();\n  const { configOptions } = viewerState;\n  const { renderAbout } = configOptions;\n\n  const [activeResource, setActiveResource] = useState<string>();\n\n  useEffect(() => {\n    if (renderAbout) {\n      setActiveResource(\"manifest-about\");\n    } else if (resources && resources?.length > 0 && !renderAbout) {\n      setActiveResource(resources[0].id);\n    }\n  }, [activeCanvas, resources]);\n\n  const handleValueChange = (value: string) => {\n    setActiveResource(value);\n  };\n\n  if (!resources) return <></>;\n\n  return (\n    <Wrapper\n      data-testid=\"navigator\"\n      defaultValue={activeResource}\n      onValueChange={handleValueChange}\n      orientation=\"horizontal\"\n      value={activeResource}\n    >\n      <List aria-label=\"select chapter\" data-testid=\"navigator-list\">\n        {renderAbout && <Trigger value=\"manifest-about\">About</Trigger>}\n        {resources &&\n          resources.map(({ id, label }) => (\n            <Trigger key={id} value={id as string}>\n              <Label label={label} />\n            </Trigger>\n          ))}\n      </List>\n      <Scroll>\n        {renderAbout && (\n          <Content value=\"manifest-about\">\n            <Information />\n          </Content>\n        )}\n        {resources &&\n          resources.map((resource) => {\n            return (\n              <Content key={resource.id} value={resource.id as string}>\n                <Resource resource={resource} />\n              </Content>\n            );\n          })}\n      </Scroll>\n    </Wrapper>\n  );\n};\n\nexport default Navigator;\n", "import * as Tabs from \"@radix-ui/react-tabs\";\nimport { styled } from \"@/stitches\";\n\nconst Wrapper = styled(Tabs.Root, {\n  display: \"flex\",\n  flexDirection: \"column\",\n  width: \"100%\",\n  height: \"100%\",\n  flexGrow: \"1\",\n  flexShrink: \"0\",\n  position: \"relative\",\n  zIndex: \"1\",\n  boxShadow: \"-5px -5px 5px #00000011\",\n\n  \"@sm\": {\n    marginTop: \"0.5rem\",\n    boxShadow: \"none\",\n  },\n\n  \"&:after\": {\n    position: \"absolute\",\n    bottom: 0,\n    content: \"\",\n    width: \"100%\",\n    height: \"1rem\",\n    backgroundImage: `linear-gradient(0deg, #FFFFFF 0%, #FFFFFF00 100%)`,\n    zIndex: 1,\n\n    \"@sm\": {\n      backgroundImage: \"none\",\n    },\n  },\n});\n\nconst List = styled(Tabs.List, {\n  display: \"flex\",\n  flexGrow: \"0\",\n  margin: \"0 1.618rem\",\n  borderBottom: \"4px solid $secondaryAlt\",\n  backgroundColor: \"$secondary\",\n\n  \"@sm\": {\n    margin: \"0 1rem\",\n  },\n});\n\nconst Trigger = styled(Tabs.Trigger, {\n  display: \"flex\",\n  position: \"relative\",\n  padding: \"0.5rem 1rem\",\n  background: \"none\",\n  backgroundColor: \"transparent\",\n  color: \"$primaryMuted\",\n  border: \"none\",\n  fontFamily: \"inherit\",\n  fontSize: \"1rem\",\n  marginRight: \"1rem\",\n  lineHeight: \"1rem\",\n  whiteSpace: \"nowrap\",\n  cursor: \"pointer\",\n  fontWeight: 700,\n  transition: \"$all\",\n\n  \"&::after\": {\n    width: \"0\",\n    height: \"4px\",\n    content: \"\",\n    backgroundColor: \"$primaryMuted\",\n    position: \"absolute\",\n    bottom: \"-4px\",\n    left: \"0\",\n    transition: \"$all\",\n  },\n\n  \"&:hover\": {\n    color: \"$primary\",\n  },\n\n  \"&[data-state='active']\": {\n    color: \"$accent\",\n\n    \"&::after\": {\n      width: \"100%\",\n      backgroundColor: \"$accent\",\n    },\n  },\n});\n\nconst Content = styled(Tabs.Content, {\n  display: \"flex\",\n  flexGrow: \"1\",\n  flexShrink: \"0\",\n  position: \"absolute\",\n  top: \"0\",\n  left: \"0\",\n  \"&[data-state='active']\": {\n    width: \"100%\",\n    height: \"calc(100% - 2rem)\",\n    padding: \"1rem 0\",\n  },\n});\n\nconst Scroll = styled(\"div\", {\n  position: \"relative\",\n  height: \"100%\",\n  width: \"100%\",\n  overflowY: \"scroll\",\n});\n\nexport { Content, List, Scroll, Trigger, Wrapper };\n", "import React, { useEffect } from \"react\";\nimport { getLabel } from \"@/hooks/use-iiif\";\nimport { InternationalString } from \"@iiif/presentation-3\";\nimport { Group } from \"@/components/Navigator/Cue.styled\";\nimport useWebVtt, {\n  NodeWebVttCue,\n  NodeWebVttCueNested,\n} from \"@/hooks/use-webvtt\";\nimport Menu from \"@/components/Navigator/Menu\";\n\n// @ts-ignore\nimport { parse } from \"node-webvtt\";\n\ninterface Resource {\n  resource: any;\n}\n\nconst Resource: React.FC<Resource> = ({ resource }) => {\n  const [cues, setCues] = React.useState<Array<NodeWebVttCueNested>>([]);\n  const { id, label } = resource;\n  const { createNestedCues, orderCuesByTime } = useWebVtt();\n\n  useEffect(() => {\n    fetch(id, {\n      headers: {\n        \"Content-Type\": \"text/plain\",\n        Accept: \"application/json\",\n      },\n    })\n      .then((response) => response.text())\n      .then((data) => {\n        const flatCues = parse(data).cues as unknown as Array<NodeWebVttCue>;\n        const orderedCues = orderCuesByTime(flatCues);\n        const nestedCues = createNestedCues(orderedCues);\n        setCues(nestedCues);\n      })\n      .catch((error) => console.error(id, error.toString()));\n  }, [id]);\n\n  return (\n    <Group\n      aria-label={`navigate ${getLabel(label as InternationalString, \"en\")}`}\n    >\n      <Menu items={cues} />\n    </Group>\n  );\n};\n\nexport default Resource;\n", "import * as RadioGroup from \"@radix-ui/react-radio-group\";\nimport { styled, keyframes } from \"@/stitches\";\n\nconst spin = keyframes({\n  from: { transform: \"rotate(360deg)\" },\n  to: { transform: \"rotate(0deg)\" },\n});\n\nexport const Group = styled(RadioGroup.Root, {\n  display: \"flex\",\n  flexDirection: \"column\",\n  width: \"100%\",\n});\n\nexport const Item = styled(RadioGroup.Item, {\n  position: \"relative\",\n  cursor: \"pointer\",\n  display: \"flex\",\n  width: \"100%\",\n  justifyContent: \"space-between\",\n  textAlign: \"left\",\n  margin: \"0\",\n  padding: \"0.5rem 1.618rem\",\n  fontFamily: \"inherit\",\n  lineHeight: \"1.25em\",\n  fontSize: \"1rem\",\n  color: \"$primaryMuted\",\n  border: \"none\",\n  background: \"none\",\n\n  \"@sm\": {\n    padding: \"0.5rem 1rem\",\n    fontSize: \"0.8333rem\",\n  },\n\n  \"&::before\": {\n    content: \"\",\n    width: \"12px\",\n    height: \"12px\",\n    borderRadius: \"12px\",\n    position: \"absolute\",\n    backgroundColor: \"$primaryMuted\",\n    opacity: \"0\",\n    left: \"8px\",\n    marginTop: \"3px\",\n    boxSizing: \"content-box\",\n\n    \"@sm\": {\n      content: \"unset\",\n    },\n  },\n\n  \"&::after\": {\n    content: \"\",\n    width: \"4px\",\n    height: \"6px\",\n    position: \"absolute\",\n    backgroundColor: \"$secondary\",\n    opacity: \"0\",\n    clipPath: \"polygon(100% 50%, 0 100%, 0 0)\",\n    left: \"13px\",\n    marginTop: \"6px\",\n    boxSizing: \"content-box\",\n\n    \"@sm\": {\n      content: \"unset\",\n    },\n  },\n\n  strong: {\n    marginLeft: \"1rem\",\n  },\n\n  \"&:hover\": {\n    color: \"$accent\",\n\n    \"&::before\": {\n      backgroundColor: \"$accent\",\n      opacity: \"1\",\n    },\n\n    \"&::after\": {\n      content: \"\",\n      width: \"4px\",\n      height: \"6px\",\n      position: \"absolute\",\n      backgroundColor: \"$secondary\",\n      clipPath: \"polygon(100% 50%, 0 100%, 0 0)\",\n      opacity: \"1\",\n    },\n  },\n\n  \"&[aria-checked='true']\": {\n    color: \"$primary\",\n    backgroundColor: \"$secondaryMuted\",\n    fontFamily: \"$sansBold\",\n\n    \"&::before\": {\n      content: \"\",\n      width: \"6px\",\n      height: \"6px\",\n      position: \"absolute\",\n      backgroundColor: \"transparent\",\n      border: \"3px solid $accentMuted\",\n      borderRadius: \"12px\",\n      left: \"8px\",\n      marginTop: \"4px\",\n      opacity: \"1\",\n      animation: \"1s linear infinite\",\n      animationName: spin,\n      boxSizing: \"content-box\",\n\n      \"@sm\": {\n        content: \"unset\",\n      },\n    },\n\n    \"&::after\": {\n      content: \"\",\n      width: \"6px\",\n      height: \"6px\",\n      position: \"absolute\",\n      backgroundColor: \"transparent\",\n      border: \"3px solid $accent\",\n      clipPath: \"polygon(100% 0, 100% 100%, 0 0)\",\n      borderRadius: \"12px\",\n      left: \"8px\",\n      marginTop: \"4px\",\n      opacity: \"1\",\n      animation: \"1.5s linear infinite\",\n      animationName: spin,\n      boxSizing: \"content-box\",\n\n      \"@sm\": {\n        content: \"unset\",\n      },\n    },\n  },\n});\n", "import { v4 as uuidv4 } from \"uuid\";\n\nexport interface NodeWebVttCue {\n  identifier?: string;\n  start: number;\n  end: number;\n  text: string;\n  styles?: string;\n}\nexport interface NodeWebVttCueNested extends NodeWebVttCue {\n  children?: Array<NodeWebVttCueNested>;\n}\n\nconst useWebVtt = () => {\n  function addIdentifiersToParsedCues(\n    cues: Array<NodeWebVttCue>,\n  ): Array<NodeWebVttCue> {\n    const newCues = cues.map((cue) => {\n      const identifier = cue.identifier || uuidv4();\n      return { ...cue, identifier };\n    });\n    return newCues;\n  }\n\n  function createNestedCues(flat: Array<NodeWebVttCue>): Array<NodeWebVttCue> {\n    // Add identifier values to any cues which don't have them\n    const idCues = addIdentifiersToParsedCues(flat);\n\n    function getNestedChildren(\n      arr: Array<NodeWebVttCueNested>,\n      parent: string | null | undefined,\n    ) {\n      const out: Array<NodeWebVttCueNested> = [];\n\n      arr.forEach((item) => {\n        // Grab parent cues if they exist\n        const currentItemParents = arr.filter((arrItem) => {\n          return (\n            item.start >= arrItem.start &&\n            item.end <= arrItem.end &&\n            item.identifier !== arrItem.identifier\n          );\n        });\n\n        // An item in the flat list could have multiple parents,\n        // so lets find the most specific parent.  Let's sort the parents\n        // by smallest window of time between \"start\" and \"end\"\n        // values.  Then we pick the first element, which could be \"undefined\"\n        // for root level cues.\n        const currentItemParent = currentItemParents.sort((a, b) => {\n          const aDuration = a.end - a.start;\n          const bDuration = b.end - b.start;\n          if (aDuration === bDuration) return 0;\n          return aDuration < bDuration ? -1 : 1;\n        })[0];\n\n        // Is the current item's parent same as target parent?\n        if (\n          (!currentItemParent && !parent) ||\n          currentItemParent?.identifier === parent\n        ) {\n          // Find children of the current item\n          const children = getNestedChildren(arr, item.identifier);\n\n          if (children.length) {\n            item.children = children;\n          }\n\n          out.push(item);\n        }\n      });\n\n      return out;\n    }\n\n    const nestedCues = getNestedChildren(idCues, null);\n    return nestedCues;\n  }\n\n  /**\n   * Is a cue a child of another cue\n   * @param cue Object\n   * @param cues Array\n   * @returns Boolean\n   */\n  function isChild(\n    cue: NodeWebVttCue,\n    cues: Array<NodeWebVttCue> = [],\n  ): boolean {\n    return cues.some(\n      (currentCue) =>\n        cue.start >= currentCue.start && cue.end <= currentCue.end,\n    );\n  }\n\n  /**\n   * Sort Cues by cue start time\n   * @param cues\n   * @returns Array\n   */\n  function orderCuesByTime(\n    cues: Array<NodeWebVttCue> = [],\n  ): Array<NodeWebVttCue> {\n    return cues.sort((cue1, cue2) => cue1.start - cue2.start);\n  }\n\n  return {\n    addIdentifiersToParsedCues,\n    createNestedCues,\n    isChild,\n    orderCuesByTime,\n  };\n};\n\nexport default useWebVtt;\n", "import React from \"react\";\nimport { NodeWebVttCueNested } from \"@/hooks/use-webvtt\";\nimport Cue from \"@/components/Navigator/Cue\";\nimport { MenuStyled } from \"@/components/Navigator/Menu.styled\";\n\ninterface MenuProps {\n  items: Array<NodeWebVttCueNested>;\n}\n\nconst Menu: React.FC<MenuProps> = ({ items }) => {\n  return (\n    <MenuStyled>\n      {items.map(({ text, start, end, children: cueChildren, identifier }) => {\n        return (\n          <li key={identifier}>\n            <Cue label={text} start={start} end={end} />\n            {cueChildren && <Menu items={cueChildren} />}\n          </li>\n        );\n      })}\n    </MenuStyled>\n  );\n};\n\nexport default Menu;\n", "import React from \"react\";\nimport { Item } from \"@/components/Navigator/Cue.styled\";\nimport { convertTime } from \"@/services/utils\";\nimport { CurrentTimeContext } from \"@/context/current-time-context\";\n\ninterface Props {\n  label: string;\n  start: number;\n  end: number;\n}\n\nconst Cue: React.FC<Props> = ({ label, start, end }) => {\n  const { currentTime, updateStartTime } = React.useContext(CurrentTimeContext);\n  const isActive: boolean = start <= currentTime && currentTime < end;\n\n  const handleClick = () => {\n    updateStartTime(start);\n  };\n\n  return (\n    <Item\n      aria-checked={isActive}\n      data-testid=\"navigator-cue\"\n      onClick={handleClick}\n      value={label}\n    >\n      {label}\n      <strong>{convertTime(start)}</strong>\n    </Item>\n  );\n};\n\nexport default Cue;\n", "import React from \"react\";\n\nexport type CurrentTimeContextShape = {\n  currentTime: number;\n  startTime: number;\n  updateStartTime: (t: number) => void;\n  updateCurrentTime: (t: number) => void;\n};\n\nconst defaultValue: CurrentTimeContextShape = {\n  currentTime: 0,\n  startTime: 0,\n  updateStartTime: () => {},\n  updateCurrentTime: () => {},\n};\nexport const CurrentTimeContext = React.createContext(defaultValue);\n\nexport const CurrentTimeProvider = ({\n  children,\n}: {\n  children: React.ReactNode;\n}) => {\n  const [currentTime, setCurrentTime] = React.useState(\n    defaultValue.currentTime,\n  );\n  const [startTime, setStartTime] = React.useState(0);\n  const updateStartTime = (t: number) => setStartTime(t);\n  const updateCurrentTime = (t: number) => setCurrentTime(t);\n\n  return (\n    <CurrentTimeContext.Provider\n      value={{ currentTime, startTime, updateStartTime, updateCurrentTime }}\n    >\n      {children}\n    </CurrentTimeContext.Provider>\n  );\n};\n", "import { styled } from \"stitches\";\nimport { Item } from \"@/components/Navigator/Cue.styled\";\n\nexport const MenuStyled = styled(\"ul\", {\n  listStyle: \"none\",\n  paddingLeft: \"1rem\",\n  position: \"relative\",\n\n  \"&&:first-child\": {\n    paddingLeft: \"0\",\n  },\n\n  \"& li ul\": {\n    [`& ${Item}`]: {\n      backgroundColor: \"unset\",\n\n      \"&::before\": {\n        content: \"none\",\n      },\n      \"&::after\": {\n        content: \"none\",\n      },\n    },\n  },\n\n  \"&:first-child\": {\n    margin: \"0 0 1.618rem\",\n  },\n});\n", "import { styled } from \"@/stitches\";\n\nconst AboutContent = styled(\"div\", {\n  padding: \" 0 1.618rem 2rem\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  overflow: \"scroll\",\n  position: \"absolute\",\n  color: \"$primary\",\n  fontFamily: \"$sans\",\n  fontWeight: \"400\",\n  fontSize: \"1rem\",\n  zIndex: \"0\",\n\n  img: {\n    maxWidth: \"100px\",\n    maxHeight: \"100px\",\n    objectFit: \"contain\",\n    color: \"transparent\",\n    margin: \"0 0 1rem\",\n    borderRadius: \"3px\",\n    backgroundColor: \"$secondaryMuted\",\n  },\n\n  video: {\n    display: \"none\",\n  },\n\n  \"a, a:visited\": {\n    color: \"$accent\",\n  },\n\n  p: {\n    fontSize: \"1rem\",\n    lineHeight: \"1.45em\",\n    margin: \"0\",\n  },\n\n  dl: {\n    margin: \"0\",\n\n    dt: {\n      fontWeight: \"700\",\n      margin: \"1rem 0 0.25rem\",\n    },\n\n    dd: {\n      margin: \"0\",\n    },\n  },\n\n  \".manifest-property-title\": {\n    fontWeight: \"700\",\n    margin: \"1rem 0 0.25rem\",\n  },\n\n  \"ul, ol\": {\n    padding: \"0\",\n    margin: \"0\",\n\n    li: {\n      fontSize: \"1rem\",\n      lineHeight: \"1.45em\",\n      listStyle: \"none\",\n      margin: \"0.25rem 0 0.25rem\",\n    },\n  },\n});\n\nconst AboutStyled = styled(\"div\", {\n  position: \"relative\",\n  width: \"100%\",\n  height: \"100%\",\n  zIndex: \"0\",\n});\n\nexport { AboutContent, AboutStyled };\n", "import { Homepage } from \"@samvera/nectar-iiif\";\nimport { NectarExternalWebResource } from \"@samvera/nectar-iiif/dist/types/nectar\";\nimport React from \"react\";\n\ninterface PropertiesHomepageProps {\n  homepage: NectarExternalWebResource[];\n}\n\nconst PropertiesHomepage: React.FC<PropertiesHomepageProps> = ({\n  homepage,\n}) => {\n  if (homepage?.length === 0) return <></>;\n\n  return (\n    <>\n      <span className=\"manifest-property-title\">Homepage</span>\n      <Homepage homepage={homepage} />\n    </>\n  );\n};\n\nexport default PropertiesHomepage;\n", "import React from \"react\";\n\ninterface PropertiesIdProps {\n  id: string;\n  htmlLabel: string;\n  parent?: \"manifest\" | \"canvas\";\n}\n\nconst PropertiesId: React.FC<PropertiesIdProps> = ({\n  id,\n  htmlLabel,\n  parent = \"manifest\",\n}) => {\n  return (\n    <>\n      <span className=\"manifest-property-title\">{htmlLabel}</span>\n      <a href={id} target=\"_blank\" id={`iiif-${parent}-id`}>\n        {id}\n      </a>\n    </>\n  );\n};\n\nexport default PropertiesId;\n", "import { MetadataItem } from \"@iiif/presentation-3\";\nimport React from \"react\";\nimport { Metadata } from \"@samvera/nectar-iiif\";\n\ninterface PropertiesMetadataProps {\n  metadata: MetadataItem[] | null;\n  parent?: \"manifest\" | \"canvas\";\n}\n\nconst PropertiesMetadata: React.FC<PropertiesMetadataProps> = ({\n  metadata,\n  parent = \"manifest\",\n}) => {\n  if (!metadata) return <></>;\n\n  return (\n    <>\n      <Metadata metadata={metadata} id={`iiif-${parent}-metadata`} />\n    </>\n  );\n};\n\nexport default PropertiesMetadata;\n", "import { MetadataItem } from \"@iiif/presentation-3\";\nimport React from \"react\";\nimport { RequiredStatement } from \"@samvera/nectar-iiif\";\n\ninterface PropertiesSummaryProps {\n  requiredStatement: MetadataItem | null;\n  parent?: \"manifest\" | \"canvas\";\n}\n\nconst PropertiesRequiredStatement: React.FC<PropertiesSummaryProps> = ({\n  requiredStatement,\n  parent = \"manifest\",\n}) => {\n  if (!requiredStatement) return <></>;\n\n  return (\n    <>\n      <RequiredStatement\n        requiredStatement={requiredStatement}\n        id={`iiif-${parent}-required-statement`}\n      />\n    </>\n  );\n};\n\nexport default PropertiesRequiredStatement;\n", "import React from \"react\";\n\ninterface PropertiesRightsProps {\n  rights: string | null;\n}\n\nconst PropertiesRights: React.FC<PropertiesRightsProps> = ({ rights }) => {\n  if (!rights) return <></>;\n\n  return (\n    <>\n      <span className=\"manifest-property-title\">Rights</span>\n      <a href={rights} target=\"_blank\">\n        {rights}\n      </a>\n    </>\n  );\n};\n\nexport default PropertiesRights;\n", "import { NectarExternalWebResource } from \"@samvera/nectar-iiif/dist/types/nectar\";\nimport { SeeAlso } from \"@samvera/nectar-iiif\";\nimport React from \"react\";\n\ninterface PropertiesSeeAlsoProps {\n  seeAlso: NectarExternalWebResource[];\n}\n\nconst PropertiesSeeAlso: React.FC<PropertiesSeeAlsoProps> = ({ seeAlso }) => {\n  if (seeAlso?.length === 0) return <></>;\n\n  return (\n    <>\n      <span className=\"manifest-property-title\">See Also</span>\n      <SeeAlso seeAlso={seeAlso} />\n    </>\n  );\n};\n\nexport default PropertiesSeeAlso;\n", "import { InternationalString } from \"@iiif/presentation-3\";\nimport React from \"react\";\nimport { Summary } from \"@samvera/nectar-iiif\";\n\ninterface PropertiesSummaryProps {\n  summary: InternationalString | null;\n  parent?: \"manifest\" | \"canvas\";\n}\n\nconst PropertiesSummary: React.FC<PropertiesSummaryProps> = ({\n  summary,\n  parent = \"manifest\",\n}) => {\n  if (!summary) return <></>;\n\n  return (\n    <>\n      <Summary summary={summary} as=\"p\" id={`iiif-${parent}-summary`} />\n    </>\n  );\n};\n\nexport default PropertiesSummary;\n", "import {\n  IIIFExternalWebResource,\n  InternationalString,\n} from \"@iiif/presentation-3\";\n\nimport React from \"react\";\nimport { Thumbnail } from \"@samvera/nectar-iiif\";\n\ninterface PropertiesThumbnailProps {\n  label: InternationalString | null;\n  thumbnail: IIIFExternalWebResource[];\n}\n\nconst PropertiesThumbnail: React.FC<PropertiesThumbnailProps> = ({\n  label,\n  thumbnail,\n}) => {\n  if (thumbnail?.length === 0) return <></>;\n\n  return (\n    <>\n      <Thumbnail\n        altAsLabel={label ? label : { none: [\"resource\"] }}\n        thumbnail={thumbnail}\n      />\n    </>\n  );\n};\n\nexport default PropertiesThumbnail;\n", "import {\n  AboutContent,\n  AboutStyled,\n} from \"@/components/Navigator/About/About.styled\";\nimport {\n  Homepage,\n  Id,\n  Metadata,\n  RequiredStatement,\n  Rights,\n  SeeAlso,\n  Summary,\n  Thumbnail,\n} from \"@/components/Properties\";\nimport {\n  IIIFExternalWebResource,\n  ManifestNormalized,\n} from \"@iiif/presentation-3\";\nimport { NectarExternalWebResource } from \"@samvera/nectar-iiif/dist/types/nectar\";\nimport React, { useEffect, useState } from \"react\";\nimport { useViewerState } from \"@/context/viewer-context\";\n\nconst About: React.FC = () => {\n  const viewerState: any = useViewerState();\n  const { activeManifest, vault } = viewerState;\n\n  const [manifest, setManifest] = useState<ManifestNormalized>();\n\n  const [homepage, setHomepage] = useState<IIIFExternalWebResource[]>([]);\n  const [seeAlso, setSeeAlso] = useState<IIIFExternalWebResource[]>([]);\n  const [thumbnail, setThumbnail] = useState<IIIFExternalWebResource[]>([]);\n\n  useEffect(() => {\n    const data = vault.get(activeManifest);\n    setManifest(data);\n\n    if (data.homepage?.length > 0) setHomepage(vault.get(data.homepage));\n    if (data.seeAlso?.length > 0) setSeeAlso(vault.get(data.seeAlso));\n    if (data.thumbnail?.length > 0) setThumbnail(vault.get(data.thumbnail));\n  }, [activeManifest, vault]);\n\n  if (!manifest) return <></>;\n\n  return (\n    <AboutStyled>\n      <AboutContent>\n        <Thumbnail thumbnail={thumbnail} label={manifest.label} />\n        <Summary summary={manifest.summary} />\n        <Metadata metadata={manifest.metadata} />\n        <RequiredStatement requiredStatement={manifest.requiredStatement} />\n        <Rights rights={manifest.rights} />\n        <Homepage\n          homepage={homepage as unknown as NectarExternalWebResource[]}\n        />\n        <SeeAlso seeAlso={seeAlso as unknown as NectarExternalWebResource[]} />\n        <Id id={manifest.id} htmlLabel=\"IIIF Manifest\" />\n      </AboutContent>\n    </AboutStyled>\n  );\n};\n\nexport default About;\n", "import React from \"react\";\nimport Hls from \"hls.js\";\nimport { PlayerWrapper } from \"@/components/Player/Player.styled\";\nimport { IIIFExternalWebResource } from \"@iiif/presentation-3\";\nimport { LabeledResource } from \"@/hooks/use-iiif/getSupplementingResources\";\nimport AudioVisualizer from \"@/components/Player/AudioVisualizer\";\nimport { CurrentTimeContext } from \"@/context/current-time-context\";\nimport { useViewerState } from \"@/context/viewer-context\";\nimport Track from \"@/components/Player/Track\";\nimport {\n  getAccompanyingCanvasImage,\n  getCanvasByCriteria,\n} from \"@/hooks/use-iiif\";\n\n// Set referrer header as a NU domain: ie. meadow.rdc-staging.library.northwestern.edu\n\ninterface PlayerProps {\n  painting: IIIFExternalWebResource;\n  resources: LabeledResource[];\n}\n\nconst Player: React.FC<PlayerProps> = ({ painting, resources }) => {\n  const playerRef = React.useRef(null);\n  const isAudio = painting?.format?.includes(\"audio/\");\n\n  const { startTime, updateCurrentTime } = React.useContext(CurrentTimeContext);\n\n  const viewerState: any = useViewerState();\n  const { activeCanvas, configOptions, vault } = viewerState;\n\n  /**\n   * Get active canvas full object\n   */\n  const activeCanvasObject = getCanvasByCriteria(\n    vault,\n    { id: activeCanvas, type: \"Canvas\" },\n    \"painting\",\n    [\"Image\"],\n  );\n\n  const posterImage = getAccompanyingCanvasImage(\n    activeCanvasObject.accompanyingCanvas,\n  );\n\n  /**\n   * HLS.js binding for .m3u8 files\n   * STAGING and PRODUCTION environments only\n   */\n  React.useEffect(() => {\n    /**\n     * Check that IIIF content resource ID exists and\n     * we have a reffed <video> for attaching HLS\n     */\n    if (!painting.id || !playerRef.current) return;\n\n    /**\n     * Eject HLS attachment if file extension from\n     * the IIIF content resource ID is not .m3u8\n     */\n    if (painting.id.split(\".\").pop() !== \"m3u8\") return;\n\n    // Bind hls.js package to our <video /> element and then load the media source\n    const hls = new Hls();\n    hls.attachMedia(playerRef.current);\n    hls.on(Hls.Events.MEDIA_ATTACHED, function () {\n      hls.loadSource(painting.id as string);\n    });\n\n    // Handle errors\n    hls.on(Hls.Events.ERROR, function (event, data) {\n      if (data.fatal) {\n        switch (data.type) {\n          case Hls.ErrorTypes.NETWORK_ERROR:\n            // try to recover network error\n            console.error(\n              `fatal ${event} network error encountered, try to recover`,\n            );\n            hls.startLoad();\n            break;\n          case Hls.ErrorTypes.MEDIA_ERROR:\n            console.error(\n              `fatal ${event} media error encountered, try to recover`,\n            );\n            hls.recoverMediaError();\n            break;\n          default:\n            // cannot recover\n            hls.destroy();\n            break;\n        }\n      }\n    });\n\n    return () => {\n      if (hls) {\n        hls.detachMedia();\n        hls.destroy();\n        updateCurrentTime(0);\n      }\n    };\n  }, [painting.id]);\n\n  React.useEffect(() => {\n    let video: any = playerRef.current;\n    if (video) video.currentTime = startTime;\n\n    if (startTime !== 0) video.play();\n  }, [startTime]);\n\n  const handlePlay = () => {\n    let video: any = playerRef.current;\n    if (video) {\n      video.ontimeupdate = (event: any) => {\n        updateCurrentTime(event.target.currentTime);\n      };\n    }\n  };\n\n  return (\n    <PlayerWrapper\n      css={{\n        backgroundColor: configOptions.canvasBackgroundColor,\n        maxHeight: configOptions.canvasHeight,\n      }}\n    >\n      <video\n        id=\"clover-iiif-video\"\n        key={painting.id}\n        ref={playerRef}\n        controls\n        height={painting.height}\n        width={painting.width}\n        onPlay={handlePlay}\n        crossOrigin=\"anonymous\"\n        poster={posterImage}\n      >\n        <source src={painting.id} type={painting.format} />\n        {resources.length > 0 &&\n          resources.map((resource) => (\n            <Track\n              resource={resource}\n              ignoreCaptionLabels={configOptions.ignoreCaptionLabels}\n              key={resource.id}\n            />\n          ))}\n        Sorry, your browser doesn't support embedded videos.\n      </video>\n\n      {isAudio && <AudioVisualizer ref={playerRef} />}\n    </PlayerWrapper>\n  );\n};\n\nexport default Player;\n", "import { styled } from \"@/stitches\";\n\nexport const PlayerWrapper = styled(\"div\", {\n  position: \"relative\",\n  backgroundColor: \"$primaryAlt\",\n  display: \"flex\",\n  flexGrow: \"0\",\n  flexShrink: \"1\",\n  maxHeight: \"500px\",\n  zIndex: \"1\",\n\n  video: {\n    backgroundColor: \"transparent\",\n    display: \"flex\",\n    position: \"relative\",\n    objectFit: \"contain\",\n    width: \"100%\",\n    height: \"100%\",\n    zIndex: \"1\",\n  },\n});\n", "import React from \"react\";\nimport { AudioVisualizerWrapper } from \"@/components/Player/AudioVisualizer.styled\";\n\nconst AudioVisualizer = React.forwardRef((_props, ref: any) => {\n  const canvasRef = React.useRef<HTMLCanvasElement>(null);\n\n  React.useEffect(() => {\n    if (!ref) return;\n    // Add a callback fn to the `<video>` onplay event\n    ref.current.onplay = audioVisualizer;\n  }, [ref]);\n\n  function audioVisualizer() {\n    const video = ref.current;\n    const context = new AudioContext();\n    const src = context.createMediaElementSource(video);\n    let analyser = context.createAnalyser();\n\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    canvas.width = video.offsetWidth;\n    canvas.height = video.offsetHeight;\n    const ctx = canvas.getContext(\"2d\");\n\n    src.connect(analyser);\n    analyser.connect(context.destination);\n\n    analyser.fftSize = 256;\n\n    const bufferLength = analyser.frequencyBinCount;\n    const dataArray = new Uint8Array(bufferLength);\n\n    setInterval(function () {\n      renderFrame(\n        analyser,\n        ctx,\n        bufferLength,\n        dataArray,\n        canvas.width,\n        canvas.height,\n      );\n    }, 20);\n  }\n\n  function renderFrame(\n    analyser: any,\n    ctx: any,\n    bufferLength: number,\n    dataArray: Uint8Array,\n    width: number,\n    height: number,\n  ) {\n    let barWidth = (width / bufferLength) * 2.6;\n    let barHeight;\n    let x = 0;\n\n    analyser.getByteFrequencyData(dataArray);\n\n    ctx.fillStyle = \"#000000\";\n    ctx.fillRect(0, 0, width, height);\n\n    for (let i = 0; i < bufferLength; i++) {\n      barHeight = dataArray[i] * 2;\n      ctx.fillStyle = `rgba(${78}, 42, 132, 1)`;\n      ctx.fillRect(x, height - barHeight, barWidth, barHeight);\n\n      x += barWidth + 6;\n    }\n  }\n\n  return <AudioVisualizerWrapper ref={canvasRef} />;\n});\n\nexport default AudioVisualizer;\n", "import { styled } from \"@/stitches\";\n\nexport const AudioVisualizerWrapper = styled(\"canvas\", {\n  position: \"absolute\",\n  width: \"100%\",\n  height: \"100%\",\n});\n", "import React from \"react\";\nimport { InternationalString } from \"@iiif/presentation-3\";\nimport { LabeledResource } from \"@/hooks/use-iiif/getSupplementingResources\";\nimport { getLabel } from \"@/hooks/use-iiif\";\n\nexport interface TrackProps {\n  resource: LabeledResource;\n  ignoreCaptionLabels: string[];\n}\n\nconst Track: React.FC<TrackProps> = ({ resource, ignoreCaptionLabels }) => {\n  const label = getLabel(resource.label as InternationalString, \"en\") as any;\n\n  const isIgnored = label.some((value: string) =>\n    ignoreCaptionLabels.includes(value),\n  );\n\n  if (isIgnored) return null;\n\n  return (\n    <track\n      key={resource.id}\n      src={resource.id as string}\n      label={label}\n      srcLang=\"en\"\n      data-testid=\"player-track\"\n    />\n  );\n};\n\nexport default Track;\n", "import React, { useEffect, useState } from \"react\";\nimport { IIIFExternalWebResource } from \"@iiif/presentation-3\";\nimport OSD, { osdImageTypes } from \"@/components/ImageViewer/OSD\";\nimport { getImageServiceURI } from \"@/services/iiif\";\n\ninterface ImageViewerProps {\n  body: IIIFExternalWebResource;\n}\n\nconst ImageViewer: React.FC<ImageViewerProps> = ({ body }) => {\n  const [imageType, setImageType] = useState<osdImageTypes>();\n  const [uri, setUri] = useState<string | undefined>();\n\n  useEffect(() => {\n    if (Array.isArray(body.service) && body.service.length > 0) {\n      setImageType(\"tiledImage\");\n      setUri(getImageServiceURI(body.service));\n    } else {\n      setImageType(\"simpleImage\");\n      setUri(body.id);\n    }\n  }, [body]);\n\n  return <OSD uri={uri} key={uri} imageType={imageType} />;\n};\n\nexport default ImageViewer;\n", "import React, { useEffect, useState } from \"react\";\nimport OpenSeadragon from \"openseadragon\";\nimport {\n  Navigator,\n  Viewport,\n  Wrapper,\n} from \"@/components/ImageViewer/ImageViewer.styled\";\nimport Controls from \"@/components/ImageViewer/Controls\";\nimport { getInfoResponse } from \"@/services/iiif\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { useViewerState } from \"@/context/viewer-context\";\n\nexport type osdImageTypes = \"tiledImage\" | \"simpleImage\" | undefined;\n\ninterface OSDProps {\n  uri: string | undefined;\n  imageType: osdImageTypes;\n}\n\nconst OSD: React.FC<OSDProps> = ({ uri, imageType }) => {\n  const [osdUri, setOsdUri] = useState<string>();\n  const viewerState: any = useViewerState();\n  const { configOptions } = viewerState;\n\n  const instance = uuidv4();\n\n  const config = {\n    id: `openseadragon-viewport-${instance}`,\n    loadTilesWithAjax: true,\n    homeButton: \"zoomReset\",\n    showFullPageControl: false,\n    zoomInButton: \"zoomIn\",\n    zoomOutButton: \"zoomOut\",\n    showNavigator: true,\n    navigatorBorderColor: \"transparent\",\n    navigatorId: `openseadragon-navigator-${instance}`,\n    gestureSettingsMouse: {\n      clickToZoom: true,\n      dblClickToZoom: true,\n      pinchToZoom: true,\n      scrollToZoom: false,\n    },\n  };\n\n  useEffect(() => {\n    if (uri !== osdUri) setOsdUri(uri);\n  }, []);\n\n  useEffect(() => {\n    if (osdUri) {\n      switch (imageType) {\n        case \"simpleImage\":\n          OpenSeadragon(config).addSimpleImage({\n            url: osdUri,\n          });\n          break;\n        case \"tiledImage\":\n          getInfoResponse(osdUri).then((tileSource) =>\n            OpenSeadragon(config).addTiledImage({\n              tileSource: tileSource,\n            }),\n          );\n          break;\n        default:\n          console.warn(\n            `Unable to render ${osdUri} in OpenSeadragon as type: \"${imageType}\"`,\n          );\n          break;\n      }\n    }\n  }, [osdUri]);\n\n  return (\n    <Wrapper\n      css={{\n        backgroundColor: configOptions.canvasBackgroundColor,\n        height: configOptions.canvasHeight,\n      }}\n    >\n      <Controls />\n      <Navigator id={`openseadragon-navigator-${instance}`} />\n      <Viewport id={`openseadragon-viewport-${instance}`} />\n    </Wrapper>\n  );\n};\n\nexport default OSD;\n", "import { styled } from \"@/stitches\";\n\nconst Navigator = styled(\"div\", {\n  position: \"absolute !important\",\n  zIndex: \"1\",\n  top: \"1rem\",\n  left: \"1rem\",\n  width: \"161.8px\",\n  height: \"100px\",\n  backgroundColor: \"#000D\",\n  boxShadow: \"5px 5px 5px #0002\",\n  borderRadius: \"3px\",\n\n  \".displayregion\": {\n    border: \" 3px solid $accent !important\",\n    boxShadow: \"0 0 3px #0006\",\n  },\n\n  \"@sm\": {\n    width: \"123px\",\n    height: \"76px\",\n  },\n});\n\nconst Viewport = styled(\"div\", {\n  position: \"relative\",\n  width: \"100%\",\n  height: \"100%\",\n  zIndex: \"0\",\n});\n\nconst Wrapper = styled(\"div\", {\n  width: \"100%\",\n  height: \"61.8vh\",\n  maxHeight: \"100vh\",\n  background: \"black\",\n  backgroundSize: \"contain\",\n  color: \"white\",\n  position: \"relative\",\n  zIndex: \"1\",\n  overflow: \"hidden\",\n});\n\nexport { Navigator, Viewport, Wrapper };\n", "import React from \"react\";\nimport Button from \"@/components/ImageViewer/Button\";\nimport { Wrapper } from \"@/components/ImageViewer/Controls.styled\";\n\nconst Controls: React.FC = () => {\n  const ZoomIn = () => {\n    return (\n      <path\n        strokeLinecap=\"round\"\n        strokeMiterlimit=\"10\"\n        strokeWidth=\"45\"\n        d=\"M256 112v288M400 256H112\"\n      />\n    );\n  };\n\n  const ZoomOut = () => {\n    return (\n      <path\n        strokeLinecap=\"round\"\n        strokeMiterlimit=\"10\"\n        strokeWidth=\"45\"\n        d=\"M400 256H112\"\n      />\n    );\n  };\n\n  const ZoomReset = () => {\n    return (\n      <>\n        <path\n          fill=\"none\"\n          strokeLinecap=\"round\"\n          strokeMiterlimit=\"10\"\n          strokeWidth=\"45\"\n          d=\"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128\"\n        />\n        <path d=\"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z\" />\n      </>\n    );\n  };\n\n  return (\n    <Wrapper data-testid=\"openseadragon-controls\" id=\"openseadragon-controls\">\n      <Button id=\"zoomIn\" label=\"zoom in\">\n        <ZoomIn />\n      </Button>\n      <Button id=\"zoomOut\" label=\"zoom in\">\n        <ZoomOut />\n      </Button>\n      <Button id=\"zoomReset\" label=\"reset zoom\">\n        <ZoomReset />\n      </Button>\n    </Wrapper>\n  );\n};\n\nexport default Controls;\n", "import React from \"react\";\nimport { Item } from \"@/components/ImageViewer/Button.styled\";\n\ninterface ButtonProps {\n  id: string;\n  label: string;\n  children: React.ReactChild;\n}\n\nconst Button: React.FC<ButtonProps> = ({ id, label, children }) => {\n  return (\n    <Item id={id} data-testid=\"openseadragon-button\">\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        aria-labelledby={`${id}-svg-title`}\n        data-testid=\"openseadragon-button-svg\"\n        focusable=\"false\"\n        viewBox=\"0 0 512 512\"\n        role=\"img\"\n      >\n        <title id={`${id}-svg-title`}>{label}</title>\n        {children}\n      </svg>\n    </Item>\n  );\n};\n\nexport default Button;\n", "import { styled } from \"@/stitches\";\n\nconst Item = styled(\"button\", {\n  display: \"flex\",\n  height: \"2rem\",\n  width: \"2rem\",\n  borderRadius: \"2rem\",\n  padding: \"0\",\n  margin: \"0\",\n  fontFamily: \"inherit\",\n  background: \"none\",\n  border: \"none\",\n  color: \"white\",\n  cursor: \"pointer\",\n  marginLeft: \"0.618rem\",\n  backgroundColor: \"#000D\",\n  filter: \"drop-shadow(5px 5px 5px #0006)\",\n  transition: \"$all\",\n  boxSizing: \"content-box !important\",\n\n  svg: {\n    height: \"60%\",\n    width: \"60%\",\n    padding: \"20%\",\n    fill: \"$secondary\",\n    stroke: \"$secondary\",\n    filter: \"drop-shadow(5px 5px 5px #000D)\",\n    transition: \"$all\",\n    boxSizing: \"inherit\",\n  },\n\n  \"&:hover, &:focus\": {\n    backgroundColor: \"$accent\",\n  },\n\n  \"&#zoomReset\": {\n    \"&:hover, &:focus\": {\n      svg: {\n        rotate: \"45deg\",\n      },\n    },\n  },\n});\n\nexport { Item };\n", "import { styled } from \"@/stitches\";\n\nconst Wrapper = styled(\"div\", {\n  position: \"absolute\",\n  zIndex: \"1\",\n  top: \"1rem\",\n  right: \"1rem\",\n});\n\nexport { Wrapper };\n", "import { ImageService, Service } from \"@iiif/presentation-3\";\n\nexport const getInfoResponse = (id: string) =>\n  fetch(`${id.replace(/\\/$/, \"\")}/info.json`)\n    .then((response) => response.json())\n    .then((json) => json)\n    .catch((error: any) => {\n      console.error(\n        `The IIIF tilesource ${id.replace(\n          /\\/$/,\n          \"\",\n        )}/info.json failed to load: ${error}`,\n      );\n    });\n\nexport const getImageServiceURI = (service: Service[] | undefined) => {\n  let imageService: ImageService;\n  let imageServiceURI: string | undefined;\n\n  if (Array.isArray(service)) {\n    imageService = service[0] as ImageService;\n    if (imageService) {\n      let id: string | undefined;\n      \"@id\" in imageService\n        ? (id = imageService[\"@id\"])\n        : (id = imageService.id);\n\n      imageServiceURI = id;\n    }\n  }\n\n  return imageServiceURI;\n};\n", "import React from \"react\";\nimport {\n  ErrorFallbackStyled,\n  ErrorBody,\n  Headline,\n} from \"@/components/Viewer/ErrorFallback.styled\";\n\ninterface ErrorFallbackProps {\n  error: Error;\n}\n\nconst ErrorFallback: React.FC<ErrorFallbackProps> = ({ error }) => {\n  const { message } = error;\n\n  return (\n    <ErrorFallbackStyled role=\"alert\">\n      <Headline data-testid=\"headline\">Something went wrong</Headline>\n      {message && <ErrorBody>{`Error message: ${message}`} </ErrorBody>}\n    </ErrorFallbackStyled>\n  );\n};\n\nexport default ErrorFallback;\n", "import { styled } from \"@/stitches\";\n\nconst ErrorFallbackStyled = styled(\"div\", {\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n});\n\nconst Headline = styled(\"p\", {\n  fontFamily: \"$display\",\n  fontWeight: \"bold\",\n  fontSize: \"x-large\",\n});\n\nconst ErrorBody = styled(\"span\", {\n  fontSize: \"medium\",\n});\n\nexport { ErrorFallbackStyled, ErrorBody, Headline };\n"],
  "mappings": "k/BAMgBA,EAAaC,EAAAA,CAAAA,OACpBA,GAAO,IAAPA,CAAAA,SAGOC,EAAaC,EAAAA,CAAAA,MACrB,IAAIC,MAAAA,YAAkBD,EAAAA,YAAAA,CAAAA,CAAAA,SAGdE,EACdJ,EAAAA,CAAAA,OAEsB,OAARA,GAAQ,YAAc,YAAaA,CAAAA,CAAAA,SAOnCK,EAA0BH,EAAAA,CAAAA,MAClC,IAAIC,MAAAA,YACID,EAAAA,8EAAAA,CAAAA,CAAAA,SAIAI,EACdN,EACAO,EAAAA,CAAAA,GAEIP,GAAO,KAAPA,MACI,IAAIG,MAAAA,uDAC+CI,CAAAA,EAEpD,GAAIP,EAAIQ,SAAW,KAAXA,MACP,IAAIL,MAAAA,yDAEiDI,EAAAA,mEAAAA,CAAAA,CAAAA,SAK/CE,EAAqBT,EAAAA,CAAAA,OACb,OAARA,GAAQ,UAA2B,OAARA,GAAQ,QAARA,CAAAA,SAG3BU,EAAuBV,EAAAA,CAAAA,MAAAA,CAC7BS,EAAqBT,CAAAA,CAAAA,CAAAA,SAGfW,EAAuBT,EAAAA,CAAAA,MAC/B,IAAIC,MAAAA,YACID,EAAAA,mEAAAA,CAAAA,CAAAA,SAIAU,EACdZ,EACAO,EAAAA,CAAAA,GAEIP,GAAO,KAAPA,MACI,IAAIG,MAAAA,uDAC+CI,CAAAA,EAEpD,GAAmB,OAARP,GAAQ,UAA2B,OAARA,GAAQ,SAARA,MACrC,IAAIG,MAAAA,yDACiDI,EAAAA,yCAAAA,CAAAA,CAAAA,SCR/CM,EAKdC,EAASC,EAAaC,EAAUC,EAAAA,CAAAA,OAC5BlB,EAAae,CAAAA,GACfb,EAAa,CAAA,EAGXS,EAAuBI,CAAAA,GACzBT,EAA0B,CAAA,EAGrB,CAAES,KAAAA,EAAMC,QAAAA,EAASC,KAAAA,EAAMC,MAAAA,CAAAA,CAAAA,CAAAA,SC7DhBC,EAKdJ,EACAK,EAAAA,CAGIpB,OAAAA,EAAae,CAAAA,GACfb,EAAa,CAAA,EAGXS,EAAuBI,CAAAA,GACzBH,EAAuB,CAAA,EAelBS,OAAOC,OAZQ,UAAA,CAAA,IACdC,EACJH,GAAiB,KAAOA,EAAAA,MAAAA,OAAAA,SAAAA,EAAAA,OAAyBI,OAAAA,OAAAA,OAAAA,CAC1CT,KAAAA,CAAAA,EAASQ,CAAAA,CAAAA,EAGH,CACfd,QAAS,UAAA,CAAA,OAAMM,CAAAA,EAEfU,SAAU,UAAA,CAAA,OAAMV,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,SCFJW,EAMdX,EACAY,EACAC,EAAAA,CAAAA,OAWI5B,EAAae,CAAAA,GACfb,EAAa,CAAA,EAGXS,EAAuBI,CAAAA,GACzBH,EAAuB,CAAA,EAGlB,UAAA,CAAA,OACEO,EAAmBJ,EAAM,UAAA,CAAA,IAC1BC,EAAAA,UAAAA,QAAAA,EAAAA,OAAAA,UAAAA,GACAC,EAAAA,UAAAA,QAAAA,EAAAA,OAAAA,UAAAA,GAAAA,OAEAU,GAAkB,MAAQC,GAAe,OAC3CZ,EAAUW,GAAkB,KAAOA,EAAAA,MAAAA,OAAAA,SAAAA,EAAAA,OACnCV,EAAOW,GAAe,KAAOA,EAAAA,MAAAA,OAAAA,SAAAA,EAAAA,QAAuBJ,OAAAA,OAAAA,CAAAA,EAIhDR,IAJgDQ,QAIvB,CAAER,QAAAA,CAAAA,EAAAA,CAAAA,EAC3BC,IAD2BD,QACL,CAAEC,KAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,SC/DpBR,EACdoB,EAAAA,CAAAA,OAEI7B,EAAa6B,CAAAA,GACf3B,EAAa,CAAA,EJEPG,EICsBwB,CAAAA,GAC5BvB,EAA0B,CAAA,EAGrBuB,EAAcpB,QAAAA,CAAAA,CAAAA,SCfPU,EAGdJ,EAASK,EAAAA,CACLpB,EAAae,CAAAA,GACfb,EAAa,CAAA,EAGXS,EAAuBI,CAAAA,GACzBH,EAAuB,CAAA,EAAA,IAGnBiB,EACJT,GAAiB,KAAOA,EAAcL,CAAAA,EAAU,UAAA,CAAA,MAAO,CAAEA,KAAAA,CAAAA,CAAAA,EAAAA,OAEpDM,OAAOC,OAAOO,EAAe,CAClCpB,QAAS,UAAA,CAAA,OAAMM,CAAAA,EAEfU,SAAU,UAAA,CAAA,OAAMV,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,ECzBL,CAAEW,aAAAA,SCkBfX,EACAK,EAAAA,CAAAA,IASMS,EACJT,GAAiB,KACX,UAAA,CAAA,OAAMN,EAAOC,CAAAA,CAAAA,EACfK,EAAcN,EAAOgB,KAAK,KAAMf,CAAAA,CAAAA,EAAAA,OAI/BM,OAAOC,OAAOO,EAAe,CAClCpB,QAAS,UAAA,CAAA,OAAMM,CAAAA,EAEfU,SAAU,UAAA,CAAA,OAAMV,CAAAA,CAAAA,CAAAA,CAAAA,EDtCWI,mBAAAA,EAAoBY,qBAAAA,SE4BjDhB,EAAAA,CAAAA,OAEIf,EAAae,CAAAA,GACfb,EAAa,CAAA,EAGXS,EAAuBI,CAAAA,GACzBH,EAAuB,CAAA,EAmBlBS,OAAOC,OAAAA,UAAAA,CAAAA,OAfLH,EAAmBJ,EAAM,SAAAiB,EAAAA,CAAAA,OAAS,SAAChB,EAAYC,EAAAA,CAAAA,MAAa,CACjEF,KAAMiB,EACNhB,QAAAA,EACAC,KAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,EAY8B,CAAEgB,IAAAA,SAPlCC,EAAAA,CAAAA,OAEOf,EAAmBJ,EAAM,SAAAiB,EAAAA,CAAAA,OAAS,SAAChB,EAAYC,EAAAA,CAAAA,OACpDI,OAAOC,OAAOY,EAAGlB,EAASC,CAAAA,EAAO,CAAEF,KAAMiB,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,EAAAA,EAAAA,OAAAA,EAAAA,EAAAA,aAAAA,EAAAA,EAAAA,kBAAAA,SC8O7CG,EAIAC,EAIAC,EAIAC,EAAAA,CAAAA,OAsBqB,UAAA,CAAA,IAUbC,EAAU,CAACJ,EAAYC,EAAYC,EAAYC,CAAAA,EAAWL,IAC9D,SAAChC,EAAKuC,EAAAA,CAAAA,OACAC,MAAMC,QAAQzC,CAAAA,EACTyB,EAAazB,EAAI,GAAIA,EAAI,GAAWA,EAAI,EAAA,EAAxCyB,EACiB,OAARzB,GAAQ,UAA2B,OAARA,GAAQ,SAC5CyB,EAAazB,CAAAA,EAAbyB,EAAAA,KACEc,EAAQ,GAAA,SA/UqBrC,GAAAA,CAAAA,MACxC,IAAIC,MAAAA,YACID,GAAAA,sHAAAA,CAAAA,EA8U0BqC,CAAAA,EAAAA,CAAAA,EAAAA,MAO/B,CACLG,QAH0CJ,EAAAA,GAI1CK,QAJ0CL,EAAAA,GAK1CM,QAL0CN,EAAAA,GAM1CO,OAN0CP,EAAAA,EAAAA,CAAAA,CAAAA,EAAAA,EAAAA,mBAAAA,EAAAA,EAAAA,cAAAA,SClRhCQ,EACdC,EACAC,EAAAA,CAAAA,IAAAA,SAAAA,EAAuD,CAAA,GAAA,IAEjDC,EAAAA,OAAAA,OAAAA,CAAAA,EACDD,CAAAA,EAoBCE,EAAkB,SACtBC,EACAC,EAAAA,CAAAA,IAEMC,GAAmBb,MAAMC,QAAQU,CAAAA,EACnCA,EACA,CAACA,CAAAA,EAECG,GAA+B,CAAA,EAAA,OAErCD,GACGrB,IACC,SACEuB,GACAhB,GAAAA,CAAAA,OAEAnC,EAAwBmD,EAAAA,EACpB/C,EAAQ+C,EAAAA,EACR9C,EAAqB8C,EAAAA,EACrBA,GAAAA,SV1CZrD,GAAAA,CAAAA,MAEM,IAAIC,MAAAA,YACID,GAAAA,sHAAAA,CAAAA,EUwCoCqC,GAAQ,CAAA,CAAA,CAAA,EAErDiB,QAAQ,SAAA1C,GAAAA,CAAAA,OAASwC,GAAYxC,IAAQsC,CAAAA,CAAAA,EAEjCN,EAAmCC,EAAAA,OAAAA,OAAAA,CAAAA,EACrCE,EAAAA,CAAAA,EACAK,EAAAA,CAAAA,CAAAA,EAAAA,OAMUlC,OAAOC,OAjD0B,SAChDoC,EACA5C,EAAAA,CAAAA,GADA4C,IACA5C,SADA4C,EAAQV,GAGJE,EAASS,eAAe7C,EAAOC,IAAAA,EAAO,CAAA,IAClCsC,GAAUH,EAASpC,EAAOC,MAAAA,GACT,OAAZsC,IAAY,WAAZA,MACHjD,MAAAA,kBACcU,EAAOC,KAAAA,8BAAAA,EAAAA,OAGtBsC,GAAQK,EAAO5C,CAAAA,CAAAA,CAAAA,OAEf4C,CAAAA,EAoCiC,CAC1CR,SAAAA,OAAAA,OAAAA,CAAAA,EAAeA,CAAAA,EACfU,aAAcT,EACdU,WAAYV,CAAAA,CAAAA,CAAAA,EAAAA,EAAAA,WAAAA,EAAAA,EAAAA,QAAAA,EAAAA,EAAAA,WAAAA,SCrGdW,EACAhD,EAAAA,CAEId,EAAa8D,CAAAA,GACf5D,EAAa,CAAA,EAAA,IAGT6D,EAAiBtB,MAAMC,QAAQoB,CAAAA,EACjCA,EACA,CAACA,CAAAA,EAELC,EAAeN,QAAQlD,CAAAA,EAAAA,IAEjByD,EAAW,SAACC,EAAAA,CAAAA,OAChBF,EAAeG,KACb,SAAArC,EAAAA,CAAAA,OAAiBoC,EAAQlD,OAASc,EAAcpB,QAAAA,CAAAA,CAAAA,CAAAA,EAAAA,OAIhDK,IAJgDL,OAK3CuD,EAGFA,EAASlD,CAAAA,CAAAA,EAAAA,EAAAA,SAAAA,SC5BhBqD,EACArD,EAAAA,CAEId,EAAamE,CAAAA,GACfjE,EAAa,CAAA,EAAA,IAGTkE,EAAc3B,MAAMC,QAAQyB,CAAAA,EAC9BA,EACA,CAACA,CAAAA,EAELC,EAAYX,QAAQ5C,CAAAA,EAAAA,IAEdmD,EAAW,SAACC,EAAAA,CAAAA,OAAeG,EAAYC,SAASJ,EAAQlD,IAAAA,CAAAA,EAAAA,OAG1DD,IAH0DC,OAIrDiD,EAGFA,EAASlD,CAAAA,CAAAA,CAAAA,CAAAA,IChDlB,IAAAwD,GAAA,GAAAC,GAAAD,GAAA,aAAAE,KAAA,eAAAC,GAAAH,IAAA,IAAAI,EAA2C,oBCC3C,IAAAC,EAAkB,oBCDlB,IAAMC,EAAE,CAAC,EAAE,OAAO,OAAOA,CAAC,EAAE,IAAkZC,GAAE,CAAC,GAAG,sCAAsC,KAAK,iBAAiB,SAASC,EAAE,WAAW,KAAK,MAAM,KAAK,UAAUA,EAAE,QAAQ,KAAK,kBAAkB,KAAK,SAASA,EAAE,OAAO,KAAK,SAASA,EAAE,MAAMA,EAAE,QAAQA,EAAE,SAASA,EAAE,KAAKA,EAAE,UAAUA,EAAE,QAAQA,CAAC,EAAEC,GAAE,CAAC,GAAG,mCAAmC,KAAK,SAAS,MAAM,KAAK,SAASD,EAAE,WAAW,KAAK,UAAUA,EAAE,aAAa,KAAK,mBAAmB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,SAASA,EAAE,OAAO,KAAK,QAAQ,KAAK,SAASA,EAAE,MAAMA,EAAE,YAAYA,EAAE,QAAQA,EAAE,SAASA,EAAE,KAAKA,EAAE,OAAOA,EAAE,UAAUA,EAAE,QAAQA,EAAE,SAAS,EAAE,OAAO,EAAE,MAAM,CAAC,EAAEE,GAAE,CAAC,GAAG,uCAAuC,KAAK,aAAa,MAAM,KAAK,iBAAiB,gBAAgB,SAASF,EAAE,WAAW,KAAK,UAAUA,EAAE,aAAa,KAAK,mBAAmB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,SAASA,EAAE,OAAO,KAAK,QAAQ,KAAK,SAASA,EAAE,MAAMA,EAAE,YAAYA,EAAE,QAAQA,EAAE,SAASA,EAAE,KAAKA,EAAE,OAAOA,EAAE,UAAUA,EAAE,QAAQA,EAAE,SAASA,CAAC,EAAEG,GAAE,CAAC,GAAG,qCAAqC,KAAK,WAAW,YAAYH,EAAE,SAASA,EAAE,SAASA,EAAE,MAAMA,EAAE,MAAM,KAAK,KAAKA,EAAE,SAASA,EAAE,WAAW,KAAK,QAAQ,KAAK,SAASA,EAAE,OAAOA,EAAE,aAAa,KAAK,mBAAmB,KAAK,kBAAkB,KAAK,UAAUA,EAAE,kBAAkB,KAAK,OAAO,KAAK,QAAQA,EAAE,QAAQA,EAAE,SAASA,EAAE,MAAM,KAAK,WAAWA,EAAE,QAAQ,KAAK,UAAUA,EAAE,iBAAiB,eAAe,EAAEI,GAAE,CAAC,GAAG,mCAAmC,KAAK,QAAQ,MAAM,KAAK,SAASJ,EAAE,WAAW,KAAK,UAAUA,EAAE,aAAa,KAAK,mBAAmB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,SAASA,EAAE,OAAO,KAAK,QAAQ,KAAK,SAASA,EAAE,MAAMA,EAAE,YAAYA,EAAE,QAAQA,EAAE,SAASA,EAAE,KAAKA,EAAE,OAAOA,EAAE,UAAUA,EAAE,QAAQA,EAAE,MAAM,KAAK,cAAc,KAAK,iBAAiB,eAAe,EAAEK,GAAE,CAAC,GAAG,kCAAkC,KAAK,QAAQ,MAAM,CAAC,EAAE,KAAKL,EAAE,QAAQA,EAAE,SAASA,CAAC,EAAE,SAASM,GAAE,EAAE,CAAC,OAAO,MAAM,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAMC,GAAE,CAAC,aAAa,WAAW,SAAS,iBAAiB,uBAAuB,aAAa,kBAAkB,QAAQ,UAAU,WAAW,OAAO,EAAE,SAASC,GAAE,EAAE,CAAC,GAAG,OAAO,GAAG,aAAa,IAAI,KAAK,MAAM,IAAI,MAAM,0CAA0C,EAAE,GAAG,MAAM,QAAQ,CAAC,EAAE,MAAM,IAAI,MAAM,6BAA6B,EAAE,GAAG,OAAO,GAAG,SAAS,MAAM,IAAI,MAAM,GAAG,OAAO,yBAAyB,EAAE,GAAG,OAAO,EAAE,MAAM,SAAS,CAAC,IAAM,EAAED,GAAE,QAAQ,EAAE,IAAI,EAAE,GAAG,IAAI,GAAG,OAAOA,GAAE,EAAE,CAAC,GAAG,EAAE,QAAQ,MAAM,UAAU,MAAM,IAAI,MAAM,4BAA4B,CAAC,CAAC,IAAME,GAAN,KAAO,CAAoB,YAAY,EAAEC,EAAE,CAAC,EAAE,CAAtCC,EAAA,mBAAWA,EAAA,gBAA4B,KAAK,WAAW,CAAC,WAAW,CAAC,EAAE,SAAS,CAAC,EAAE,OAAO,CAAC,EAAE,qBAAqB,CAAC,EAAE,eAAe,CAAC,EAAE,WAAW,CAAC,EAAE,gBAAgB,CAAC,EAAE,OAAO,CAAC,EAAE,MAAM,CAAC,EAAE,QAAQ,CAAC,EAAE,MAAM,CAAC,EAAE,GAAG,CAAC,EAAE,KAAK,QAAQ,CAAC,qBAAqB,GAAG,GAAGD,CAAC,CAAC,CAAC,OAAO,IAAI,EAAE,CAAC,OAAO,IAAID,GAAE,CAAC,WAAW,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,qBAAqB,CAAC,CAAC,EAAE,eAAe,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,EAAE,gBAAgB,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,oBAAoB,EAAE,CAAC,OAAO,EAAE,YAAY,EAAE,UAAU,EAAE,UAAU,IAAIC,GAAG,KAAK,aAAaA,EAAE,KAAK,WAAW,eAAe,CAAC,GAAG,EAAE,WAAW,EAAE,SAAS,EAAE,SAAS,IAAIA,GAAG,KAAK,cAAcA,CAAC,CAAC,GAAG,CAAC,CAAC,gBAAgB,EAAE,CAAC,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,IAAIA,GAAG,KAAK,aAAaA,EAAE,KAAK,WAAW,eAAe,CAAC,GAAG,EAAE,UAAU,EAAE,QAAQJ,GAAE,EAAE,OAAO,EAAE,IAAII,GAAG,KAAK,aAAaA,EAAE,KAAK,WAAW,OAAO,CAAC,GAAG,EAAE,WAAW,EAAE,SAAS,EAAE,SAAS,IAAIA,GAAG,KAAK,aAAaA,EAAE,KAAK,WAAW,OAAO,CAAC,GAAG,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,IAAIA,GAAG,KAAK,aAAaA,EAAE,KAAK,WAAW,eAAe,CAAC,GAAG,EAAE,WAAW,EAAE,SAAS,EAAE,SAAS,IAAIA,GAAG,KAAK,aAAaA,EAAE,KAAK,WAAW,eAAe,CAAC,GAAG,EAAE,SAAS,EAAE,OAAO,EAAE,OAAO,IAAIA,GAAG,OAAOA,GAAG,UAAU,CAACA,EAAE,KAAK,KAAK,aAAaA,EAAE,KAAK,WAAW,eAAe,EAAEA,EAAE,OAAO,SAAS,KAAK,aAAaA,EAAE,KAAK,WAAW,MAAM,EAAEA,EAAE,OAAO,uBAAuB,KAAK,aAAaA,EAAE,KAAK,WAAW,oBAAoB,EAAE,KAAK,aAAaA,EAAE,KAAK,WAAW,eAAe,CAAC,GAAG,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,KAAK,aAAa,EAAE,MAAM,KAAK,WAAW,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,UAAU,EAAE,UAAU,IAAIA,GAAG,KAAK,aAAaA,EAAE,KAAK,WAAW,eAAe,CAAC,GAAG,EAAE,gBAAgB,EAAE,cAAc,EAAE,cAAc,IAAIA,GAAG,KAAK,aAAaA,EAAE,KAAK,WAAW,eAAe,CAAC,GAAG,CAAC,CAAC,wBAAwB,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,IAAIA,GAAGA,EAAE,OAAO,aAAa,KAAK,mBAAmBA,CAAC,EAAE,KAAK,iBAAiBA,CAAC,CAAC,EAAE,CAAC,CAAC,mBAAmB,EAAE,CAAC,OAAO,KAAK,aAAa,KAAK,oBAAoB,KAAK,8BAA8B,KAAK,gBAAgB,KAAK,qBAAqB,KAAK,wBAAwB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,WAAW,UAAU,CAAC,CAAC,sBAAsB,EAAE,CAAC,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,IAAIA,GAAG,KAAK,eAAeA,CAAC,CAAC,GAAG,CAAC,CAAC,2BAA2B,EAAE,CAAC,OAAO,EAAE,aAAa,EAAE,WAAW,EAAE,WAAW,IAAIA,GAAG,KAAK,cAAcA,CAAC,CAAC,GAAG,CAAC,CAAC,iBAAiB,EAAE,CAAC,OAAO,KAAK,aAAa,KAAK,8BAA8B,KAAK,2BAA2B,KAAK,qBAAqB,KAAK,oBAAoB,KAAK,gBAAgB,KAAK,sBAAsB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,WAAW,QAAQ,CAAC,CAAC,oBAAoB,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC,GAAG,IAAIA,GAAG,KAAK,uBAAuBA,CAAC,CAAC,EAAE,CAAC,CAAC,8BAA8B,EAAE,CAAC,OAAO,OAAO,GAAG,UAAU,CAAC,GAAG,EAAE,cAAc,EAAE,YAAY,EAAE,YAAY,IAAIA,GAAG,KAAK,uBAAuBA,CAAC,CAAC,GAAG,CAAC,CAAC,eAAe,EAAE,CAAC,OAAO,KAAK,aAAa,KAAK,8BAA8B,KAAK,qBAAqB,KAAK,oBAAoB,KAAK,gBAAgB,KAAK,oBAAoB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,WAAW,MAAM,CAAC,CAAC,4BAA4B,EAAE,CAAC,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,IAAIA,GAAG,KAAK,mBAAmBA,CAAC,CAAC,GAAG,CAAC,CAAC,uBAAuB,EAAE,CAAC,OAAO,KAAK,aAAa,KAAK,oBAAoB,KAAK,gBAAgB,KAAK,4BAA4B,CAAC,CAAC,CAAC,EAAE,KAAK,WAAW,cAAc,CAAC,CAAC,uBAAuB,EAAE,CAAC,OAAO,MAAM,QAAQ,EAAE,IAAI,EAAE,EAAE,KAAK,EAAE,KAAK,IAAIA,GAAG,KAAK,wBAAwBA,CAAC,CAAC,EAAE,EAAE,OAAO,EAAE,KAAK,KAAK,wBAAwB,EAAE,IAAI,GAAG,CAAC,CAAC,qBAAqB,EAAE,CAAC,OAAO,EAAE,eAAe,EAAE,aAAa,KAAK,eAAe,EAAE,YAAY,GAAG,EAAE,oBAAoB,EAAE,kBAAkB,KAAK,eAAe,EAAE,iBAAiB,GAAG,EAAE,qBAAqB,EAAE,mBAAmB,KAAK,eAAe,EAAE,kBAAkB,GAAG,CAAC,CAAC,mBAAmB,EAAE,CAAC,OAAO,KAAK,aAAa,KAAK,gBAAgB,KAAK,uBAAuB,CAAC,CAAC,EAAE,KAAK,WAAW,UAAU,CAAC,CAAC,+BAA+B,EAAE,CAAC,OAAO,OAAO,GAAG,UAAU,CAAC,GAAG,GAAG,EAAE,UAAU,EAAE,QAAQJ,GAAE,EAAE,SAAS,CAAC,CAAC,EAAE,IAAII,GAAG,KAAK,aAAaA,EAAE,KAAK,WAAW,OAAO,CAAC,GAAG,CAAC,CAAC,wBAAwB,EAAE,CAAC,OAAO,EAAE,OAAO,WAAW,EAAE,MAAM,EAAE,MAAM,IAAIA,GAAG,KAAK,wBAAwBA,CAAC,CAAC,GAAG,KAAK,aAAa,KAAK,8BAA8B,KAAK,+BAA+B,CAAC,CAAC,EAAE,KAAK,WAAW,eAAe,CAAC,CAAC,oBAAoB,EAAE,CAAC,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,IAAIA,GAAG,OAAOA,GAAG,SAAS,KAAK,eAAe,CAAC,GAAGA,EAAE,KAAK,QAAQ,CAAC,EAAEA,EAAE,OAAO,WAAW,KAAK,iBAAiBA,CAAC,EAAE,KAAK,cAAcA,CAAC,CAAC,GAAG,CAAC,CAAC,cAAc,EAAE,CAAC,OAAO,KAAK,aAAa,KAAK,qBAAqB,KAAK,oBAAoB,KAAK,gBAAgB,KAAK,oBAAoB,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,WAAW,KAAK,CAAC,CAAC,cAAc,EAAE,CAAC,OAAO,KAAK,aAAa,KAAK,oBAAoB,KAAK,gBAAgB,CAAC,CAAC,EAAE,KAAK,WAAW,KAAK,CAAC,CAAC,aAAa,EAAEA,EAAE,CAAC,OAAOA,EAAE,OAAO,CAAC,EAAEE,IAAI,CAAC,IAAMC,EAAED,EAAE,CAAC,EAAE,OAAO,OAAOC,GAAG,aAAa,CAAC,KAAK,QAAQ,qBAAqB,EAAEA,CAAC,EAAE,CAAC,CAAC,CAAC,gBAAgB,EAAE,CAAC,OAAO,KAAK,aAAa,EAAE,KAAK,WAAW,OAAO,CAAC,CAAC,gBAAgB,EAAE,CAAC,IAAMH,EAAEF,GAAE,CAAC,EAAE,OAAOE,OAAO,aAAa,OAAO,KAAK,mBAAmB,CAAC,MAAM,WAAW,OAAO,KAAK,iBAAiB,CAAC,MAAM,SAAS,OAAO,KAAK,eAAe,CAAC,MAAM,iBAAiB,OAAO,KAAK,uBAAuB,CAAC,MAAM,aAAa,OAAO,KAAK,mBAAmB,CAAC,MAAM,kBAAkB,OAAO,KAAK,wBAAwB,CAAC,MAAM,QAAQ,OAAO,KAAK,cAAc,CAAC,MAAM,UAAU,OAAO,KAAK,gBAAgB,CAAC,MAAM,QAAQ,OAAO,KAAK,cAAc,CAAC,UAAU,MAAM,IAAI,MAAM,2CAA2CA,GAAG,EAAE,CAAC,EAAOI,GAAE,CAAC,gBAAgB,cAAc,YAAY,oBAAoB,gBAAgB,WAAW,WAAW,cAAc,YAAY,UAAU,iBAAiB,EAAE,SAASC,GAAG,EAAE,CAAC,GAAG,OAAO,GAAG,aAAa,IAAI,KAAK,MAAM,IAAI,MAAM,0CAA0C,EAAE,GAAG,MAAM,QAAQ,CAAC,EAAE,MAAM,IAAI,MAAM,6BAA6B,EAAE,GAAG,OAAO,GAAG,SAAS,MAAM,IAAI,MAAM,GAAG,OAAO,yBAAyB,EAAE,GAAG,OAAO,EAAE,UAAU,SAAS,CAAC,IAAM,EAAED,GAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,IAAI,GAAG,OAAOA,GAAE,EAAE,CAAC,GAAG,EAAE,QAAQ,MAAM,UAAU,GAAG,EAAE,QAAQ,EAAE,SAAS,MAAM,kBAAkB,MAAM,IAAI,MAAM,4BAA4B,CAAC,CAAC,IAAME,GAAN,KAAO,CAAoB,YAAY,EAAEN,EAAE,CAAC,EAAE,CAAtCC,EAAA,mBAAWA,EAAA,gBAA4B,KAAK,WAAW,CAAC,WAAW,CAAC,EAAE,SAAS,CAAC,EAAE,OAAO,CAAC,EAAE,eAAe,CAAC,EAAE,SAAS,CAAC,EAAE,WAAW,CAAC,EAAE,gBAAgB,CAAC,EAAE,OAAO,CAAC,EAAE,MAAM,CAAC,EAAE,QAAQ,CAAC,EAAE,MAAM,CAAC,EAAE,GAAG,CAAC,EAAE,KAAK,QAAQ,CAAC,oBAAoB,GAAG,sBAAsB,GAAG,qBAAqB,GAAG,GAAGD,CAAC,CAAC,CAAC,OAAO,IAAI,EAAE,CAAC,OAAO,IAAIM,GAAE,CAAC,WAAW,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,eAAe,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,EAAE,gBAAgB,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,mBAAmB,EAAE,CAAC,OAAO,KAAK,aAAa,KAAK,oBAAoB,KAAK,gBAAgB,KAAK,wBAAwB,CAAC,CAAC,CAAC,EAAE,KAAK,WAAW,UAAU,CAAC,CAAC,wBAAwB,EAAE,CAAC,GAAG,KAAK,QAAQ,sBAAsB,CAAC,IAAMN,EAAE,CAAC,IAAI,EAAE,WAAW,CAAC,GAAG,IAAI,GAAG,OAAO,GAAG,SAAS,CAAC,MAAM,EAAE,QAAQ,aAAa,EAAE,CAAC,EAAE,IAAI,EAAE,aAAa,CAAC,GAAG,IAAI,GAAG,OAAO,GAAG,SAAS,CAAC,MAAM,EAAE,QAAQ,eAAe,EAAE,CAAC,EAAE,GAAG,EAAE,SAAS,CAAC,CAAC,EAAE,OAAO,EAAE,YAAY,OAAO,EAAE,UAAU,EAAE,QAAQA,CAAC,CAAC,OAAO,EAAE,YAAY,EAAE,UAAU,EAAE,UAAU,IAAIA,GAAG,KAAK,iBAAiB,OAAOA,GAAG,SAAS,CAAC,MAAMA,EAAE,QAAQ,aAAa,EAAEA,CAAC,CAAC,GAAG,EAAE,cAAc,EAAE,YAAY,EAAE,YAAY,IAAIA,GAAG,KAAK,mBAAmB,OAAOA,GAAG,SAAS,CAAC,MAAMA,EAAE,QAAQ,eAAe,EAAEA,CAAC,CAAC,GAAG,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,IAAIA,GAAG,OAAOA,GAAG,SAASA,EAAE,KAAK,gBAAgBA,CAAC,CAAC,GAAG,CAAC,CAAC,iBAAiB,EAAE,CAAC,OAAO,KAAK,aAAa,KAAK,oBAAoB,KAAK,gBAAgB,KAAK,sBAAsB,CAAC,CAAC,CAAC,EAAE,KAAK,WAAW,QAAQ,CAAC,CAAC,sBAAsB,EAAE,CAAC,OAAO,EAAE,YAAY,EAAE,UAAU,EAAE,UAAU,IAAIA,GAAG,KAAK,iBAAiBA,CAAC,CAAC,GAAG,EAAE,aAAa,EAAE,WAAW,EAAE,WAAW,IAAIA,GAAG,KAAK,cAAcA,CAAC,CAAC,GAAG,CAAC,CAAC,iBAAiB,EAAE,CAAC,OAAO,KAAK,aAAa,KAAK,oBAAoB,KAAK,gBAAgB,KAAK,sBAAsB,CAAC,CAAC,CAAC,EAAE,KAAK,WAAW,QAAQ,CAAC,CAAC,sBAAsB,EAAE,CAAC,OAAO,EAAE,WAAW,EAAE,SAAS,EAAE,SAAS,IAAIA,GAAG,KAAK,eAAeA,CAAC,CAAC,GAAG,CAAC,CAAC,eAAe,EAAE,CAAC,OAAO,KAAK,aAAa,KAAK,oBAAoB,KAAK,gBAAgB,KAAK,oBAAoB,CAAC,CAAC,CAAC,EAAE,KAAK,WAAW,MAAM,CAAC,CAAC,oBAAoB,EAAE,CAAC,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,OAAO,IAAIA,GAAG,KAAK,mBAAmBA,CAAC,CAAC,GAAG,EAAE,eAAe,EAAE,aAAa,EAAE,aAAa,IAAIA,GAAG,KAAK,uBAAuBA,CAAC,CAAC,GAAG,CAAC,CAAC,cAAc,EAAE,CAAC,OAAO,KAAK,aAAa,KAAK,oBAAoB,KAAK,gBAAgB,KAAK,mBAAmB,CAAC,CAAC,CAAC,EAAE,KAAK,WAAW,KAAK,CAAC,CAAC,mBAAmB,EAAE,CAAC,GAAG,KAAK,QAAQ,sBAAsB,CAAC,IAAMA,EAAE,CAAC,IAAI,EAAE,QAAQ,CAAC,GAAG,IAAI,GAAG,OAAO,GAAG,SAAS,CAAC,MAAM,EAAE,QAAQ,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,UAAU,CAAC,GAAG,IAAI,GAAG,OAAO,GAAG,SAAS,CAAC,MAAM,EAAE,QAAQ,WAAW,EAAE,CAAC,EAAE,GAAG,EAAE,SAAS,CAAC,CAAC,EAAE,OAAO,EAAE,OAAO,OAAO,EAAE,SAAS,EAAE,QAAQA,EAAE,OAAOA,EAAE,IAAI,GAAG,KAAK,gBAAgB,CAAC,CAAC,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC,uBAAuB,EAAE,CAAC,IAAMA,EAAE,OAAO,GAAG,SAAS,CAAC,MAAM,EAAE,QAAQ,mBAAmB,EAAE,EAAE,OAAO,KAAK,aAAa,KAAK,oBAAoB,KAAK,4BAA4BA,CAAC,CAAC,EAAE,KAAK,WAAW,cAAc,CAAC,CAAC,4BAA4B,EAAE,CAAC,OAAO,EAAE,YAAY,EAAE,UAAU,EAAE,UAAU,IAAIA,GAAG,KAAK,mBAAmBA,CAAC,CAAC,GAAG,CAAC,CAAC,mBAAmB,EAAE,CAAC,OAAO,KAAK,aAAa,KAAK,oBAAoB,KAAK,gBAAgB,KAAK,wBAAwB,CAAC,CAAC,CAAC,EAAE,KAAK,WAAW,UAAU,CAAC,CAAC,wBAAwB,EAAE,CAAC,OAAO,EAAE,WAAW,EAAE,SAAS,KAAK,wBAAwB,EAAE,QAAQ,GAAG,EAAE,GAAG,CAAC,CAAC,cAAc,EAAE,CAAC,OAAO,KAAK,aAAa,KAAK,gBAAgB,KAAK,mBAAmB,CAAC,CAAC,EAAE,KAAK,WAAW,KAAK,CAAC,CAAC,mBAAmB,EAAE,CAAC,OAAO,EAAE,eAAe,EAAE,aAAa,EAAE,aAAa,IAAIA,GAAG,KAAK,uBAAuBA,CAAC,CAAC,GAAG,CAAC,CAAC,eAAe,EAAE,CAAC,OAAO,KAAK,aAAa,KAAK,oBAAoB,CAAC,EAAE,KAAK,WAAW,MAAM,CAAC,CAAC,oBAAoB,EAAE,CAAC,OAAO,EAAE,SAAS,EAAE,UAAU,YAAY,EAAE,QAAQ,KAAK,wBAAwB,EAAE,OAAO,GAAG,EAAE,MAAM,EAAE,OAAO,YAAY,EAAE,KAAK,EAAE,KAAK,IAAIA,GAAG,KAAK,wBAAwBA,CAAC,CAAC,GAAG,CAAC,CAAC,gBAAgB,EAAE,CAAC,OAAO,KAAK,aAAa,KAAK,gBAAgB,CAAC,EAAE,KAAK,WAAW,OAAO,CAAC,CAAC,wBAAwB,EAAE,CAAC,OAAO,EAAE,WAAW,YAAY,KAAK,eAAe,CAAC,EAAE,KAAK,aAAa,KAAK,oBAAoB,KAAK,gBAAgB,CAAC,CAAC,EAAE,KAAK,WAAW,eAAe,CAAC,CAAC,gBAAgB,EAAE,CAAC,GAAG,CAAC,EAAE,UAAU,OAAO,GAAG,SAAS,OAAO,EAAE,OAAOK,GAAG,CAAC,OAAO,gBAAgB,OAAO,KAAK,mBAAmB,CAAC,MAAM,cAAc,OAAO,KAAK,iBAAiB,CAAC,MAAM,YAAY,OAAO,KAAK,eAAe,CAAC,MAAM,cAAc,OAAO,KAAK,iBAAiB,CAAC,MAAM,WAAW,OAAO,KAAK,cAAc,CAAC,MAAM,gBAAgB,OAAO,KAAK,mBAAmB,CAAC,MAAM,oBAAoB,OAAO,KAAK,uBAAuB,CAAC,MAAM,WAAW,OAAO,KAAK,cAAc,CAAC,MAAM,UAAU,OAAO,KAAK,gBAAgB,CAAC,MAAM,YAAY,OAAO,KAAK,eAAe,CAAC,MAAM,kBAAkB,OAAO,KAAK,wBAAwB,CAAC,EAAE,OAAO,EAAE,QAAQ,KAAK,gBAAgB,CAAC,EAAE,CAAC,CAAC,sBAAsB,EAAE,CAAC,IAAML,EAAE,MAAM,QAAQ,CAAC,EAAE,EAAE,MAAM,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC,EAAEE,EAAE,CAAC,EAAE,QAAUC,KAAK,EAAE,OAAOA,GAAG,SAASD,EAAE,KAAK,KAAK,wBAAwB,CAAC,MAAMC,EAAE,QAAQ,eAAe,CAAC,CAAC,EAAED,EAAE,KAAK,KAAK,wBAAwBC,CAAC,CAAC,EAAE,MAAM,CAACH,GAAG,CAAC,KAAK,QAAQ,oBAAoBE,EAAE,GAAGA,CAAC,CAAC,oBAAoB,EAAE,CAAC,OAAO,EAAE,YAAY,EAAE,UAAU,KAAK,sBAAsB,EAAE,SAAS,GAAG,EAAE,OAAO,EAAE,KAAK,KAAK,sBAAsB,EAAE,IAAI,GAAG,CAAC,CAAC,0BAA0B,EAAE,CAAC,IAAMF,EAAE,MAAM,QAAQ,CAAC,EAAE,EAAE,MAAM,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC,EAAEE,EAAE,CAAC,EAAE,QAAUC,KAAK,EAAED,EAAE,KAAK,KAAK,gBAAgBC,CAAC,CAAC,EAAE,MAAM,CAACH,GAAG,CAAC,KAAK,QAAQ,oBAAoBE,EAAE,GAAGA,CAAC,CAAC,gBAAgB,EAAE,CAAC,OAAO,EAAE,UAAU,EAAE,QAAQ,KAAK,sBAAsB,EAAE,QAAQ,KAAK,WAAW,eAAe,GAAG,EAAE,YAAY,EAAE,UAAU,KAAK,sBAAsB,EAAE,UAAU,KAAK,WAAW,eAAe,GAAG,EAAE,UAAU,EAAE,QAAQ,KAAK,0BAA0B,EAAE,OAAO,GAAG,EAAE,UAAU,EAAE,QAAQ,KAAK,sBAAsB,EAAE,QAAQ,KAAK,WAAW,eAAe,GAAG,EAAE,SAAS,OAAO,EAAE,QAAQ,WAAW,EAAE,OAAO,KAAK,sBAAsB,EAAE,OAAO,KAAK,WAAW,eAAe,IAAI,EAAE,cAAc,OAAO,EAAE,aAAa,SAAS,EAAE,YAAY,KAAK,aAAa,CAAC,MAAM,EAAE,YAAY,QAAQ,WAAW,EAAE,KAAK,WAAW,MAAM,EAAE,EAAE,aAAa,KAAK,aAAa,EAAE,YAAY,KAAK,WAAW,MAAM,GAAG,EAAE,eAAe,OAAO,EAAE,cAAc,SAAS,EAAE,aAAa,KAAK,cAAc,CAAC,MAAM,EAAE,aAAa,QAAQ,UAAU,CAAC,EAAE,EAAE,aAAa,KAAK,cAAc,EAAE,YAAY,GAAG,CAAC,CAAC,sBAAsB,EAAEF,EAAE,CAAC,GAAG,CAAC,MAAM,QAAQ,CAAC,EAAE,GAAG,KAAK,QAAQ,oBAAoB,EAAE,CAAC,CAAC,MAAO,QAAO,KAAK,aAAa,EAAEA,CAAC,EAAE,OAAO,EAAE,IAAI,GAAG,KAAK,aAAa,EAAEA,CAAC,CAAC,CAAC,CAAC,aAAa,EAAEA,EAAE,CAAC,OAAOA,EAAE,OAAO,CAAC,EAAEE,IAAI,CAAC,IAAMC,EAAED,EAAE,CAAC,EAAE,OAAO,OAAOC,GAAG,aAAa,CAAC,KAAK,QAAQ,qBAAqB,EAAEA,CAAC,EAAE,CAAC,CAAC,CAAC,EAAOI,GAAG,oEAAoEC,GAAE,oEAAoEC,GAAE,oEAAoEC,GAAG,qEAAqEC,GAAE,qEAAqEC,GAAE,qEAAqEC,GAAG,wEAAwEC,GAAE,wEAAwEC,GAAE,wEAAwEC,GAAG,yEAAyEC,GAAE,yEAAyEC,GAAG,yEAAyEC,GAAG,yCAAyCC,GAAG,kDAAkDC,GAAG,yCAAyCC,GAAG,kDAAkDC,GAAG,yCAAyCC,GAAG,kDAAkDC,GAAG,yCAAyCC,GAAG,kDAAkDC,GAAG,yCAAyCC,GAAG,kDAAkDC,GAAG,yCAAyCC,GAAG,kDAAkDC,GAAG,SAASC,GAAG,SAASC,GAAG,SAASC,GAAG,oCAAoCC,GAAG,oCAAoCC,GAAG,oCAAoCC,GAAG,CAACF,GAAGC,GAAG5B,GAAEC,GAAEE,GAAEC,GAAEE,GAAEC,GAAEE,GAAEC,GAAGG,GAAGC,GAAGC,GAAGC,GAAGG,GAAGC,GAAGC,GAAGC,GAAGE,GAAGC,EAAE,EAAEK,GAAG,CAACJ,GAAGC,GAAGC,GAAG7B,GAAGC,GAAEC,GAAEC,GAAGC,GAAEC,GAAEC,GAAGC,GAAEC,GAAEC,GAAGC,GAAEC,GAAGC,GAAGC,GAAGC,GAAGC,GAAGC,GAAGC,GAAGC,GAAGC,GAAGC,GAAGC,GAAGC,GAAGC,GAAGC,GAAGC,GAAGC,EAAE,EAAEM,GAAE,CAAC,iBAAiB,cAAc,KAAK,OAAO,WAAW,8BAA8B,aAAa,SAAS,EAAE,SAASC,GAAE,EAAE,EAAE,OAAO,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,EAAE,IAAMxC,EAAE,MAAM,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,QAAUE,KAAKF,EAAE,CAAC,GAAG,OAAOE,GAAG,SAAS,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,KAAKA,GAAG,EAAE,EAAE,QAAQ,CAAC,GAAG,CAACA,EAAE,aAAa,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,KAAKA,EAAE,WAAW,EAAE,EAAE,QAAQ,CAAC,IAAMC,EAAED,EAAE,aAAa,EAAEC,GAAG,EAAEA,GAAG,EAAEA,GAAG,CAAC,EAAE,EAAEA,GAAG,KAAKD,EAAE,WAAW,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,SAASuC,GAAG,EAAE,CAAC,GAAG,MAAM,QAAQ,CAAC,EAAE,OAAOA,GAAG,EAAE,KAAK,GAAG,OAAO,GAAG,QAAQ,CAAC,EAAE,GAAGH,GAAG,QAAQ,CAAC,IAAI,GAAG,MAAM,SAAS,GAAGD,GAAG,QAAQ,CAAC,IAAI,GAAG,MAAM,SAAS,GAAG,OAAO,GAAG,SAAS,OAAO,CAAC,CAAC,SAASK,GAAG,EAAE,CAAC,IAAM,EAAE,MAAM,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,QAAU1C,KAAK,EAAE,OAAOA,OAAO,8CAA8C,wEAAwE,MAAM,oBAAoB,8CAA8C,8DAA8D,MAAM,oBAAoB,uDAAuD,MAAM,mBAAmB,CAAC,SAAS2C,GAAG,EAAE,CAAC,OAAO,OAAO,6CAA6C,6CAA6C,yCAAyC,MAAM,oBAAoB,sCAAsC,sCAAsC,6CAA6C,yCAAyC,sCAAsC,sCAAsC,6CAA6C,qCAAqC,MAAM,yBAAyB,sCAAsC,kCAAkC,MAAM,wBAAwB,uCAAuC,mCAAmC,MAAM,yBAAyB,yCAAyC,qCAAqC,MAAM,qBAAqB,+CAA+C,2CAA2C,MAAM,uBAAuB,CAAC,SAASC,GAAG,EAAE,CAAC,QAAU,IAAI,CAAC,KAAK,KAAK,UAAU,UAAU,MAAM,EAAE,GAAG,EAAE,WAAW,GAAG,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,CAAC,EAAE,OAAO,CAAC,CAAC,IAAMC,GAAG,CAAC,aAAa,WAAW,aAAa,iBAAiB,QAAQ,SAAS,EAAE,SAASC,GAAE,EAAE,CAAC,IAAM,EAAE,EAAE,QAAQ,EAAE,GAAO9C,EAAE,EAAE,UAAU,EAAE,KAAW,EAAE,EAAE,SAAS,OAAOE,EAAE,EAAE,aAAa,OAAO,GAAG,EAAE,CAAC,IAAMC,EAAEwC,GAAG,CAAC,EAAE,GAAGxC,EAAE,OAAOA,CAAC,CAAC,GAAGD,EAAE,CAAC,IAAMC,EAAEuC,GAAGxC,CAAC,EAAE,GAAGC,EAAE,OAAOA,CAAC,CAAC,GAAGH,EAAE,CAAC,GAAG,MAAM,QAAQA,CAAC,EAAE,CAAC,GAAGA,EAAE,QAAQ,kBAAkB,IAAI,GAAG,MAAM,gBAAgB,GAAGA,EAAE,QAAQ,mBAAmB,IAAI,GAAG,MAAM,cAAcA,EAAEA,EAAE,EAAE,CAAC,QAAUG,IAAI,CAAC,KAAK,KAAK,UAAU,UAAU,MAAM,EAAE,GAAGH,EAAE,WAAW,GAAGG,IAAI,EAAE,CAACH,EAAEA,EAAE,MAAMG,EAAE,OAAO,CAAC,EAAE,KAAK,CAAC,OAAOH,OAAO,QAAQ,MAAM,2BAA2B,iBAAiB,MAAM,qBAAqB,oBAAoB,MAAM,cAAc,CAAC,GAAGA,GAAG6C,GAAG,QAAQ7C,CAAC,IAAI,GAAG,OAAOA,EAAE,GAAG,EAAE,OAAO,CAAC,GAAG,EAAE,OAAO,WAAW,QAAQ,EAAE,MAAM,QAAQ,GAAG,EAAE,OAAO,WAAW,OAAO,GAAG,EAAE,SAAS,kBAAkB,MAAM,OAAO,GAAG,EAAE,OAAO,WAAW,cAAc,EAAE,MAAM,SAAS,CAAC,OAAO,IAAI,EAAE,SAAS,MAAM,GAAG,EAAE,SAAS,MAAM,GAAG,EAAE,SAAS,OAAO,GAAG,QAAQA,GAAG,SAAS,CAAC,IAAM+C,GAAG,uEAAuE,SAASC,GAAG,EAAE,CAAC,IAAM,EAAE,EAAE,MAAMD,EAAE,EAAE,OAAO,EAAE,EAAE,GAAG,CAAC,CAAC,SAASE,GAAG,EAAE,EAAE,iBAAiBjD,EAAE,OAAO,CAAC,IAAI,EAAE,KAAWE,EAAE,CAAC,EAAEC,EAAE,MAAM,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,QAAU+C,KAAK/C,EAAE,CAAC,IAAMgD,EAAED,EAAEF,GAAGE,CAAC,EAAE,OAAO,GAAGC,IAAIA,EAAE,QAAQ,qBAAqB,IAAI,IAAIA,EAAE,QAAQ,sBAAsB,IAAI,IAAI,CAACA,EAAE,WAAW,UAAU,EAAE,EAAE,UAAUA,EAAE,MAAM,CAAC,IAAI,EAAEA,EAAE,QAAQ,CAACA,GAAGjD,EAAE,KAAK,CAAC,MAAM,CAAC,CAACF,GAAG,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAACA,GAAG,CAACmD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,EAAEjD,CAAC,CAAC,CAAC,IAAMkD,GAAG,CAAC,iDAAiD,0CAA0C,0CAA0C,8DAA8D,2CAA2C,2CAA2C,yCAAyC,yCAAyC,sDAAsD,EAAE,SAASC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,IAAM,EAAE,MAAM,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC,EAAErD,EAAE,CAAC,EAAE,QAAU,KAAK,EAAE,IAAI,kDAAkDA,EAAE,KAAK,gDAAgD,EAAEoD,GAAG,QAAQ,CAAC,IAAI,IAAIpD,EAAE,KAAK,CAAC,EAAE,GAAG,EAAE,OAAO,OAAOA,EAAE,SAAS,EAAEA,EAAE,GAAGA,CAAC,CAAC,CAAC,SAASsD,GAAG,EAAE,CAAC,OAAO,EAAE,EAAE,IAAI,IAAI,CAAC,MAAMd,GAAE,EAAE,KAAK,EAAE,MAAMA,GAAE,EAAE,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,SAASe,EAAE,EAAE,CAAC,QAAU,KAAK,GAAG,OAAO,EAAE,IAAI,aAAa,EAAE,KAAK,OAAO,OAAO,EAAE,GAAG,OAAO,CAAC,CAAC,IAAIC,GAAG,EAAE,SAASC,GAAG,EAAE,EAAE,CAAC,IAAMzD,EAAE,UAAU,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,OAAOA,GAAG,EAAE,GAAGA,KAAK,IAAIA,IAAIwD,KAAK,sBAAsB,EAAE,WAAW,EAAE,IAAI,IAAI,MAAMA,KAAK,CAAC,SAASE,EAAE,EAAE,CAAC,IAAM,EAAE,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE,OAAO,EAAE,aAAa,EAAE,KAAK,EAAE,WAAW,EAAE,CAAC,WAAW,EAAE,YAAYL,GAAG,EAAE,WAAW,EAAE,OAAO,IAAI,EAAE,QAAQI,GAAG,CAAC,GAAG,KAAK,EAAE,KAAKX,GAAE,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,OAAO,OAAO,EAAE,OAAO,EAAE,OAAO,OAAO,MAAM,EAAE,MAAM,EAAE,MAAM,OAAO,WAAW,EAAE,WAAWF,GAAG,EAAE,UAAU,EAAE,OAAO,iBAAiB,EAAE,iBAAiB,QAAQ,EAAE,QAAQ,OAAO,EAAE,OAAO,EAAE,OAAO,OAAO,SAAS,OAAO,SAAS,MAAM,CAAC,CAAC,SAASe,EAAE,EAAE,CAAC,GAAK,CAAC,EAAE3D,CAAC,EAAEiD,GAAG,EAAE,OAAO,EAAE,EAAE,CAAC,GAAG,EAAE,SAASK,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,GAAGtD,CAAC,EAAE,MAAM,CAAC,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,OAAO,MAAM,EAAE,MAAMwC,GAAE,EAAE,KAAK,EAAE,OAAO,kBAAkB,EAAE,YAAY,CAAC,MAAMA,GAAED,GAAE,gBAAgB,EAAE,MAAMC,GAAE,EAAE,WAAW,CAAC,EAAE,OAAO,QAAQ,EAAE,QAAQ,QAAQ,EAAE,YAAYA,GAAE,EAAE,WAAW,EAAE,OAAO,UAAU,EAAE,SAAS,CAAC,CAAC,SAASoB,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,OAAO,OAAO,IAAM,EAAE,MAAM,QAAQ,EAAE,MAAM,EAAE,EAAE,OAAO,CAAC,EAAE,MAAM,EAAE5D,EAAE,CAAC,EAAE,QAAU,KAAK,EAAE,GAAG,OAAO,GAAG,UAAU,GAAG,EAAE,OAAO,EAAE,cAAc,cAAcA,EAAE,KAAK,CAAC,GAAG,EAAE,KAAK,YAAY,CAAC,EAAE,YAAY,EAAE,QAAQA,EAAE,KAAK,CAAC,GAAG,EAAE,OAAO,KAAK8C,GAAE,CAAC,CAAC,CAAC,EAAE,OAAO9C,EAAE,OAAOA,EAAE,MAAM,CAAC,SAAS6D,EAAE,EAAE,CAAC,IAAM,EAAE,EAAE,QAAQ,MAAM,QAAQ,EAAE,OAAO,EAAE,EAAE,QAAQ,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE7D,EAAE,EAAE,aAAa,MAAM,CAAC,SAAS,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC,GAAGuC,GAAE,WAAW,KAAK,QAAQ,SAAS,EAAE,OAAO,CAAC,EAAE,EAAE,EAAE,OAAO,KAAK,EAAE,KAAK,MAAM,QAAQ,EAAE,IAAI,EAAE,EAAE,KAAK,CAAC,EAAE,IAAI,EAAE,OAAO,MAAMC,GAAED,GAAE,YAAY,CAAC,CAAC,EAAE,OAAO,OAAOqB,GAAG,CAAC,EAAE,UAAU,EAAE,UAAU,QAAQ,EAAE,QAAQ,MAAM,EAAE,YAAY,QAAQ,EAAE,QAAQhE,GAAE,EAAE,OAAO,EAAE,OAAO,cAAcI,EAAE,CAACA,CAAC,EAAE,MAAM,CAAC,CAAC,SAAS8D,GAAG,EAAE,CAAC,OAAOP,EAAE,CAAC,GAAGG,EAAE,CAAC,EAAE,GAAGC,EAAE,CAAC,EAAE,GAAGE,EAAE,CAAC,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC,CAAC,SAASE,GAAG,EAAE,CAAC,IAAM,EAAE,CAAC,EAAE/D,EAAE,CAAC,EAAE,QAAUE,KAAK,EAAE,WAAW,CAAC,EAAEA,EAAE,SAAS,QAAQ,EAAE,KAAK,GAAGA,EAAE,QAAQ,EAAEA,EAAE,UAAUF,EAAE,KAAK,GAAGE,EAAE,QAAQ,EAAE,IAAM,EAAEwD,EAAE,CAAC,EAAE,OAAO1D,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,KAAK,GAAGA,CAAC,EAAE,EAAE,SAASA,GAAGuD,EAAE,CAAC,GAAG,EAAE,GAAGI,EAAE,CAAC,EAAE,GAAGE,EAAE,CAAC,EAAE,MAAM,EAAE,WAAW,EAAE,UAAU,CAAC,CAAC,CAAC,SAASG,GAAG,EAAE,CAAC,OAAOT,EAAE,CAAC,GAAGG,EAAE,CAAC,EAAE,GAAGC,EAAE,CAAC,EAAE,GAAGE,EAAE,CAAC,EAAE,YAAY,EAAE,cAAc,EAAE,aAAa,OAAO,EAAE,aAAa,OAAO,MAAM,EAAE,QAAQ,EAAE,OAAO,OAAO,CAAC,CAAC,GAAGJ,GAAG,EAAE,iBAAiB,EAAE,KAAK,iBAAiB,MAAM,EAAE,MAAM,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,SAASQ,GAAG,EAAE,CAAC,OAAOV,EAAE,CAAC,GAAGG,EAAE,CAAC,EAAE,GAAGC,EAAE,CAAC,EAAE,GAAGE,EAAE,CAAC,EAAE,MAAM,EAAE,WAAW,EAAE,UAAU,OAAO,EAAE,UAAU,MAAM,CAAC,CAAC,CAAC,SAASK,GAAG,EAAE,CAAC,MAAM,CAAC,EAAE,UAAU,EAAE,SAAS,SAAS,EAAE,CAAC,SAAS,CAAC,EAAE,SAAS,CAAC,CAAC,EAAE,CAAC,SAAS,EAAE,SAAS,SAAS,EAAE,YAAY,CAAC,EAAE,WAAW,EAAE,CAAC,CAAC,CAAC,CAAC,SAASC,GAAG,EAAE,CAAC,OAAOZ,EAAE,CAAC,GAAGG,EAAE,CAAC,EAAE,GAAGC,EAAE,CAAC,EAAE,GAAGE,EAAE,CAAC,EAAE,OAAO,OAAO,EAAE,IAAI,SAAS,UAAU,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,GAAG,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC,SAASO,GAAG,EAAE,CAAC,IAAM,EAAE,EAAE,OAAOb,EAAE,CAAC,GAAGG,EAAE,CAAC,EAAE,GAAGC,EAAE,CAAC,EAAE,GAAGE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,SAASQ,GAAG,EAAE,CAAC,IAAM,EAAE,CAAC,EAAE,OAAO,EAAE,SAAS,EAAE,UAAU,WAAW,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE,MAAM,EAAE,OAAO,WAAW,EAAE,KAAK,GAAG,EAAE,IAAI,EAAE,CAAC,GAAGX,EAAE,CAAC,EAAE,GAAGC,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,SAASW,GAAG,EAAE,CAAC,OAAOf,EAAE,CAAC,GAAGG,EAAE,CAAC,EAAE,GAAGC,EAAE,CAAC,EAAE,GAAGE,EAAE,CAAC,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC,CAAC,SAASU,GAAG,EAAE,CAAC,GAAK,CAAC,MAAM,EAAE,QAAQvE,EAAE,WAAW,EAAE,QAAQE,KAAKC,CAAC,EAAE,EAAE+C,EAAE,CAAC,EAAE,OAAO,IAAIA,EAAE,OAAO,GAAGA,EAAE,SAASJ,GAAE,CAAC,EAAEI,EAAE,WAAW,YAAY,GAAG,EAAE,SAASA,EAAE,YAAY,GAAGA,EAAE,SAAS,WAAWhD,IAAIgD,EAAE,QAAQT,GAAGvC,CAAC,GAAGqD,EAAE,CAAC,GAAGL,EAAE,GAAG/C,CAAC,CAAC,CAAC,CAAC,SAASqE,GAAG,EAAE,CAAC,OAAOjB,EAAE,CAAC,GAAGG,EAAE,CAAC,EAAE,GAAGC,EAAE,CAAC,EAAE,GAAGE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAMY,GAAG,IAAInE,GAAE,CAAC,WAAW,CAACwD,EAAE,EAAE,SAAS,CAACC,EAAE,EAAE,OAAO,CAACC,EAAE,EAAE,eAAe,CAACC,EAAE,EAAE,SAAS,CAACC,EAAE,EAAE,WAAW,CAACC,EAAE,EAAE,gBAAgB,CAACC,EAAE,EAAE,OAAO,CAACC,EAAE,EAAE,MAAM,CAACC,EAAE,EAAE,QAAQ,CAACC,EAAE,EAAE,MAAM,CAACC,EAAE,CAAC,CAAC,EAAE,SAASE,GAAG,EAAE,CAAC,OAAO,GAAG,EAAE,cAAc,EAAE,cAAc,kDAAkD,EAAE,YAAY,QAAQ,gDAAgD,IAAI,IAAI,EAAE,cAAc,iDAAiD,EAAE,cAAc,0CAA0CD,GAAG,gBAAgB,CAAC,EAAE,CAAC,CAAoK,SAASE,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,SAAS,CAAC,EAAE,OAAO,CAAC,EAAE,eAAe,CAAC,EAAE,qBAAqB,CAAC,EAAE,WAAW,CAAC,EAAE,gBAAgB,CAAC,EAAE,MAAM,CAAC,EAAE,QAAQ,CAAC,EAAE,SAAS,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,SAASC,GAAG,EAAE,EAAE,CAAC,GAAG,OAAO,GAAG,SAAS,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,MAAM,IAAI,MAAM,yCAAyC,IAAI,EAAE,OAAO,CAAC,CAAC,SAASC,GAAG,EAAE,CAAC,MAAM,CAAC,EAAEC,IAAI,CAAC,IAAM,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,OAAOC,GAAG,CAAC,IAAMC,EAAEJ,GAAGG,EAAED,GAAG,CAAC,EAAE,OAAOE,GAAGA,EAAE,IAAI,GAAG,EAAEA,EAAE,IAAI,EAAEA,EAAE,IAAIC,GAAG,EAAED,EAAE,IAAIA,CAAC,EAAE,OAAO,OAAO,CAAC,EAAEA,CAAC,EAAE,CAAC,GAAGA,EAAE,GAAG,KAAK,IAAI,kBAAkB,EAAEA,EAAE,IAAI,GAAGA,CAAC,CAAC,CAAC,CAAC,SAASE,GAAE,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,OAAO,EAAE,GAAG,MAAM,QAAQ,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,QAAQ,CAAC,EAAE,MAAM,IAAI,MAAM,mCAAmC,EAAE,IAAMJ,EAAE,CAAC,GAAG,CAAC,EAAE,QAAU,KAAK,EAAE,GAAG,GAAG,KAAK,GAAG,MAAM,QAAQ,CAAC,EAAEA,EAAE,KAAK,CAAC,UAAU,OAAO,GAAG,UAAU,EAAE,IAAI,EAAE,KAAK,CAAC,IAAMC,EAAED,EAAE,UAAUE,GAAGA,EAAE,KAAK,EAAE,IAAIA,EAAE,OAAO,EAAE,IAAI,EAAED,GAAG,IAAID,EAAEC,GAAGG,GAAEJ,EAAEC,GAAG,CAAC,EAAE,MAAM,EAAE,QAAQ,CAAC,IAAI,IAAID,EAAE,KAAK,CAAC,EAAE,OAAOA,CAAC,SAAS,OAAO,GAAG,SAAS,CAAC,GAAG,MAAM,QAAQ,CAAC,GAAG,OAAO,GAAG,SAAS,MAAM,IAAI,MAAM,qCAAqC,EAAE,IAAMA,EAAE,CAAC,GAAG,CAAC,EAAE,OAAS,CAAC,EAAEC,CAAC,IAAI,OAAO,QAAQ,CAAC,EAAE,CAAC,IAAMC,EAAEF,EAAE,GAAGE,IAAIG,GAAG,CAACH,EAAEF,EAAE,GAAGC,EAAED,EAAE,GAAGI,GAAEF,EAAED,CAAC,CAAC,CAAC,OAAOD,CAAC,SAAS,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC,SAASG,GAAG,EAAE,EAAE,CAAC,GAAG,OAAO,GAAG,SAAS,OAAO,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,MAAM,IAAI,MAAM,8DAA8D,EAAE,OAAOC,GAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,SAASE,GAAG,EAAE,CAAC,MAAM,CAAC,EAAEN,IAAI,GAAG,CAAC,GAAK,CAAC,GAAGC,EAAE,KAAKC,CAAC,EAAEJ,GAAG,EAAEE,GAAG,CAAC,EAAE,GAAG,OAAOC,GAAG,YAAY,MAAM,IAAI,MAAM,qCAAqC,EAAE,OAAO,IAAI,kBAAkB,EAAEA,GAAG,EAAE,EAAEA,GAAGC,EAAE,CAAC,CAAC,CAAC,SAASK,GAAG,EAAE,CAAC,IAAM,EAAE,KAAK,UAAU,CAAC,EAAMP,EAAE,KAAK,EAAE,EAAE,OAAO,KAAK,GAAGA,EAAEA,EAAE,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,IAAME,GAAGF,IAAI,GAAG,SAAS,EAAE,EAAE,OAAOE,EAAE,OAAO,EAAE,IAAIA,EAAEA,CAAC,CAAC,SAASM,GAAE,EAAE,CAAC,OAAO,GAAG,OAAO,GAAG,SAAS,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,KAAK,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,WAAWD,GAAG,CAAC,IAAI,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,SAASE,GAAE,EAAE,CAAC,OAAO,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC,SAASC,GAAE,EAAE,CAAC,OAAO,MAAM,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,SAASC,GAAG,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,KAAKD,GAAE,EAAE,IAAI,GAAG,EAAE,UAAU,EAAE,QAAQA,GAAE,EAAE,OAAO,GAAG,EAAE,OAAO,EAAE,KAAKA,GAAE,EAAE,IAAI,GAAG,EAAE,WAAW,EAAE,SAASA,GAAE,EAAE,QAAQ,GAAG,EAAE,gBAAgB,EAAE,cAAcA,GAAE,EAAE,aAAa,GAAG,EAAE,aAAa,EAAE,WAAWA,GAAE,EAAE,UAAU,GAAG,CAAC,CAAC,SAASE,GAAG,EAAE,CAAC,IAAM,EAAEC,GAAG,CAAC,EAAEb,EAAEH,GAAG,EAAE,EAAE,CAAC,EAAEI,EAAEF,GAAGC,CAAC,EAAEE,EAAEI,GAAG,CAAC,EAAEQ,EAAE,IAAIC,GAAE,CAAC,WAAW,CAACN,GAAEO,EAAC,EAAEd,EAAE,YAAY,EAAED,EAAE,YAAY,CAAC,EAAE,SAAS,CAACQ,GAAEQ,EAAC,EAAEf,EAAE,UAAU,EAAED,EAAE,UAAU,CAAC,EAAE,OAAO,CAACQ,GAAES,EAAC,EAAEhB,EAAE,QAAQ,EAAED,EAAE,QAAQ,CAAC,EAAE,eAAe,CAACO,GAAE,gBAAgB,EAAEC,GAAEU,EAAC,EAAEjB,EAAE,gBAAgB,EAAED,EAAE,gBAAgB,CAAC,EAAE,WAAW,CAACO,GAAE,YAAY,EAAEG,GAAGT,EAAE,YAAY,EAAED,EAAE,YAAY,CAAC,EAAE,gBAAgB,CAACO,GAAE,iBAAiB,EAAEN,EAAE,iBAAiB,EAAED,EAAE,iBAAiB,CAAC,EAAE,MAAM,CAACQ,GAAEW,EAAC,EAAElB,EAAE,QAAQ,QAAQ,EAAED,EAAE,QAAQ,QAAQ,CAAC,EAAE,MAAM,CAACQ,GAAEY,EAAC,EAAEnB,EAAE,OAAO,EAAED,EAAE,OAAO,CAAC,CAAC,CAAC,EAAE,gBAAgB,CAAC,EAAE,MAAM,CAAC,SAASD,EAAE,SAASc,EAAE,QAAQ,CAAC,CAAC,CAAC,IAAMQ,GAAE,cAAcC,GAAE,eAAe,SAASC,GAAG,EAAE,EAAE,CAAC,IAAMxB,EAAE,EAAE,SAAS,GAAG,EAAE,EAAE,QAAQ,GAAG,GAAG,EAAE,CAAC,GAAGA,GAAGA,EAAE,aAAa,CAAC,EAAE,SAAS,GAAGA,EAAE,cAAc,OAAO,EAAE,SAAS,GAAGA,EAAEA,EAAE,YAAY,EAAE,CAAC,SAASyB,GAAG,EAAE,CAAC,IAAM,EAAE,CAAC,EAAE,OAAS,CAACzB,EAAE,CAAC,IAAI,EAAE,CAAC,GAAGA,IAAIuB,IAAG,IAAID,GAAE,OAAO,EAAE,IAAIA,IAAG,OAAO,GAAG,aAAa,IAAI,OAAO,EAAEtB,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC,SAAS0B,GAAG,EAAE,EAAE1B,EAAE,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,EAAE,GAAG,MAAM,IAAI,MAAM,gBAAgB,EAAE,GAAG,CAACA,EAAE,EAAE,MAAM,MAAM,IAAI,MAAM,4BAA4B,EAAE,MAAM,EAAE,SAAS,EAAEC,EAAE,CAAC,IAAMC,EAAEF,EAAEC,EAAE,MAAM,GAAG,CAACC,EAAE,OAAOoB,GAAE,IAAMK,EAAEH,GAAG,EAAEvB,EAAE,EAAE,IAAIA,EAAE,IAAIA,EAAE,KAAKA,EAAE,MAAM,GAAG,CAAC0B,EAAE,OAAOL,GAAE,IAAMR,EAAEZ,EAAEyB,EAAE,EAAE,CAAC,WAAW,EAAE,KAAK1B,EAAE,EAAE,CAAC,EAAM2B,EAAEd,EAAE,KAAK,EAAE,KAAK,CAACc,EAAE,MAAM,CAAC,IAAMC,EAAED,EAAE,MAAUE,EAAER,GAAE,GAAGO,EAAE,GAAG,MAAM,QAAQA,CAAC,EAAE,CAAC,IAAME,EAAE,CAAC,EAAE,QAAUC,KAAMH,EAAEE,EAAE,KAAK,EAAEC,CAAE,CAAC,EAAEF,EAAEC,CAAC,MAAMD,EAAE,EAAED,CAAC,EAAED,EAAEd,EAAE,KAAKgB,CAAC,CAAC,CAAC,OAAOF,EAAE,QAAQN,GAAEA,GAAEG,GAAGG,EAAE,KAAK,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,SAASK,GAAE,EAAE,CAAC,GAAG,CAAC,EAAE,OAAO,IAAM,EAAE,OAAO,KAAK,CAAC,EAAE,GAAG,EAAE,SAAS,EAAE,CAAC,GAAG,EAAE,SAAS,EAAE,CAAC,IAAMjC,EAAE,EAAE,GAAG,GAAG,CAACA,EAAE,MAAM,GAAG,IAAM,GAAG,EAAEA,IAAI,CAAC,GAAG,KAAK,EAAE,EAAE,OAAOA,IAAI,SAASA,IAAI,QAAQA,IAAI,KAAK,EAAE,CAAC,YAAYA,EAAE,SAAS,CAAC,CAAC,CAAC,OAAO,EAAE,IAAIA,IAAI,CAAC,YAAYA,EAAE,UAAU,EAAEA,IAAI,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,SAASkC,GAAG,EAAE,CAAC,OAAO,MAAM,QAAQ,CAAC,EAAE,EAAE,IAAI,GAAGA,GAAG,CAAC,CAAC,EAAE,OAAO,GAAG,SAAS,EAAE,EAAE,MAAM,EAAE,OAAO,SAAS,EAAE,GAAG,CAAC,CAAC,SAASC,EAAE,EAAE,EAAE,GAAG,CAAC,GAAK,EAAE,OAAO,EAAE,OAAO,GAAG,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,CAAC,SAASC,GAAG,EAAE,CAAC,GAAK,EAAE,CAAC,GAAG,OAAO,GAAG,SAAS,MAAM,CAAC,MAAM,CAAC,EAAE,GAAG,QAAQ,EAAE,CAAC,IAAM,EAAE,CAAC,GAAG,CAAC,EAAE,OAAO,OAAO,EAAE,SAAS,CAAC,CAAC,MAAM,CAAC,WAAW,0CAA0C,MAAM,EAAE,GAAG,QAAQ,uCAAuC,EAAE,cAAc,CAAC,CAAC,CAAC,SAASC,GAAE,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,EAAE,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,EAAE,MAAM,EAAE,CAAC,SAAS,EAAE,MAAM,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,CAAC,mBAAmB,EAAE,mBAAmB,gBAAgB,EAAE,iBAAiB,MAAM,CAAC,CAAC,CAAC,SAASC,GAAE,EAAE,CAAC,IAAM,EAAE,EAAE,SAAS,MAAM,EAAE,SAAS,GAAG,OAAO,MAAM,CAAC,CAAC,QAAQL,GAAE,EAAE,KAAK,CAAC,EAAE,CAAC,WAAW,EAAE,UAAU,EAAE,SAAS,OAAO,EAAE,SAAS,IAAIjC,IAAI,CAAC,MAAMiC,GAAEjC,EAAE,KAAK,GAAG,GAAG,MAAMiC,GAAEjC,EAAE,KAAK,GAAG,EAAE,EAAE,EAAE,MAAM,EAAE,CAAC,cAAciC,GAAE,EAAE,OAAO,CAAC,EAAE,CAAC,YAAYE,EAAE,MAAM,EAAE,SAAS,CAAC,EAAE,CAAC,UAAU,EAAE,OAAO,EAAE,CAAC,OAAO,EAAEA,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,WAAW,EAAE,EAAE,SAAS,MAAM,EAAE,CAAC,cAAc,EAAE,kBAAkBF,GAAE,EAAE,kBAAkB,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC,SAASM,GAAE,EAAE,CAAC,MAAM,CAAC,CAAC,UAAUJ,EAAE,MAAM,EAAE,OAAO,CAAC,EAAE,CAAC,UAAUA,GAAG,EAAE,SAAS,CAAC,GAAG,IAAIC,EAAE,CAAC,CAAC,EAAE,CAAC,YAAYD,EAAE,MAAM,EAAE,SAAS,CAAC,EAAE,CAAC,cAAc,EAAE,MAAM,EAAE,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,IAAMK,GAAG,CAAC,SAAS,UAAU,EAAE,CAAC,MAAM,CAAC,GAAGH,GAAE,EAAE,aAAa,EAAE,GAAG,MAAMC,GAAE,CAAC,EAAE,GAAG,MAAMC,GAAE,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC,MAAM,GAAG,EAAE,eAAe,QAAQ,cAAc,SAAS,MAAM,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,aAAa,MAAM,EAAE,UAAU,CAAC,CAAC,EAAE,OAAO,UAAU,EAAE,CAAC,IAAMvC,GAAG,MAAM,EAAE,OAAO,GAAG,MAAM,CAAC,GAAGqC,GAAE,EAAE,WAAW,EAAE,GAAG,MAAMC,GAAE,CAAC,EAAE,GAAG,MAAMC,GAAE,CAAC,EAAE,CAAC,SAASvC,EAAE,CAACA,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC,cAAc,EAAE,aAAa,EAAE,YAAY,OAAOmC,EAAE,MAAM,EAAE,WAAW,EAAE,MAAM,CAAC,CAAC,EAAE,eAAe,UAAU,EAAE,CAAC,MAAM,CAAC,GAAGE,GAAE,EAAE,mBAAmB,EAAE,GAAG,MAAMC,GAAE,CAAC,EAAE,CAAC,YAAY,EAAE,OAAO,EAAE,MAAM,OAAOH,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC,EAAE,WAAW,UAAU,EAAE,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,EAAE,EAAE,CAAC,QAAQ,eAAe,EAAE,CAAC,aAAa,aAAa,EAAE,CAAC,KAAKD,GAAG,EAAE,MAAM,CAAC,EAAE,CAAC,WAAWC,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,gBAAgB,UAAU,EAAE,CAAC,OAAO,EAAE,UAAU,QAAQ,MAAM,CAAC,GAAGE,GAAE,EAAE,eAAe,EAAE,GAAG,MAAMC,GAAE,CAAC,EAAE,GAAG,MAAMC,GAAE,CAAC,CAAC,MAAM,WAAW,kBAAkB,MAAM,CAAC,GAAGF,GAAE,EAAE,MAAM,EAAE,GAAG,MAAMC,GAAE,CAAC,CAAC,EAAE,EAAE,qBAAqB,UAAU,EAAE,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,EAAE,EAAE,CAAC,QAAQ,UAAU,EAAE,CAAC,QAAQL,GAAE,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,WAAW,UAAU,EAAE,CAAC,MAAM,CAAC,GAAGI,GAAE,EAAE,eAAe,EAAE,GAAG,MAAMC,GAAE,CAAC,EAAE,GAAG,MAAMC,GAAE,CAAC,EAAE,CAAC,UAAU,MAAM,EAAE,KAAK,CAAC,CAAC,EAAE,MAAM,UAAU,EAAE,CAAC,IAAM,EAAE,CAAC,EAAEvC,EAAE,CAAC,EAAE,GAAG,EAAE,MAAM,QAAU,KAAK,EAAE,MAAM,CAAC,IAAMC,EAAE,MAAM,EAAE,EAAE,KAAK,CAAC,MAAM,EAAE,GAAG,QAAQ,EAAE,KAAK,MAAMA,EAAEA,EAAE,MAAM,OAAO,OAAO,EAAE,EAAE,CAAC,EAAE,EAAE,OAAO,UAAUD,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,GAAGqC,GAAE,EAAE,UAAU,EAAE,GAAG,MAAMC,GAAE,CAAC,EAAE,GAAG,MAAMC,GAAE,CAAC,EAAE,CAAC,WAAWvC,EAAE,SAAS,EAAE,OAAOA,EAAE,MAAM,EAAE,CAAC,UAAUA,EAAE,SAAS,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,SAASyC,GAAE,EAAE,CAA/v+B,IAAAC,EAAgw+B,MAAM,CAAC,CAAC,MAAKA,EAAA,EAAE,KAAF,MAAAA,EAAM,WAAW,YAAY,OAAO,EAAE,EAAE,EAAE,CAAC,OAAO,EAAE,IAAI,EAAE,CAAC,SAAS,EAAE,MAAM,EAAE,CAAC,UAAU,EAAE,OAAO,EAAE,CAAC,SAAS,EAAE,MAAM,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,CAAC,WAAW,EAAE,UAAU,MAAM,EAAE,CAAC,mBAAmB,EAAE,mBAAmB,gBAAgB,EAAE,iBAAiB,MAAM,EAAE,CAAC,WAAW,EAAE,UAAU,EAAE,SAAS,OAAO,EAAE,SAAS,MAAM,EAAE,CAAC,WAAW,EAAE,QAAQ,EAAE,CAAC,aAAa,MAAM,QAAQ,EAAE,UAAU,EAAE,EAAE,WAAW,GAAG,EAAE,UAAU,CAAC,CAAC,CAAC,SAASC,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,SAAS,GAAG,OAAO,CAAC,CAAC,SAASC,GAAG,EAAE,CAAC,GAAG,GAAG,EAAE,MAAM,EAAE,OAAO,gBAAgB,CAAC,GAAK,CAAC,GAAG,EAAE,KAAK5C,EAAE,QAAQ,KAAKC,CAAC,EAAE,EAAEC,EAAE,OAAO,GAAG,SAAS,EAAE,MAAM,QAAQ,CAAC,EAAE,EAAE,KAAKyB,GAAG,OAAOA,GAAG,QAAQ,EAAE,GAAG,MAAM,CAAC,MAAM,EAAE,QAAQ3B,EAAE,QAAQE,EAAEA,EAAE,WAAW,MAAM,EAAEA,EAAE,8BAA8BA,SAAS,yCAAyC,GAAGD,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS4C,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,SAAS,GAAG,OAAO,EAAE,IAAID,EAAE,CAAC,CAAC,SAASE,GAAE,EAAE,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,KAAK,EAAE,CAAC,WAAWH,EAAE,EAAE,QAAQ,CAAC,EAAE,CAAC,UAAU,EAAE,OAAO,EAAE,CAAC,oBAAoB,EAAE,iBAAiB,EAAE,CAAC,SAAS,EAAE,MAAM,EAAE,CAAC,UAAU,EAAE,OAAO,EAAE,CAAC,WAAW,EAAE,QAAQ,EAAE,CAAC,YAAYA,EAAE,MAAM,EAAE,SAAS,CAAC,EAAE,CAAC,oBAAoB,MAAM,EAAE,iBAAiB,EAAE,CAAC,qBAAqB,MAAM,EAAE,kBAAkB,EAAE,CAAC,WAAWA,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,SAASI,GAAE,EAAE,CAAC,MAAM,CAAC,CAAC,UAAUJ,EAAE,MAAM,EAAE,OAAO,CAAC,EAAE,CAAC,UAAUE,GAAG,EAAE,OAAO,CAAC,EAAE,CAAC,WAAWA,GAAG,EAAE,QAAQ,CAAC,EAAE,CAAC,YAAYF,EAAE,MAAM,EAAE,SAAS,CAAC,EAAE,CAAC,gBAAgBA,EAAE,MAAM,EAAE,aAAa,CAAC,EAAE,CAAC,WAAWA,EAAE,MAAM,EAAE,QAAQ,CAAC,EAAE,CAAC,OAAOA,EAAE,MAAM,EAAE,IAAI,CAAC,EAAE,CAAC,SAASA,EAAE,MAAM,EAAE,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC,IAAMK,GAAG,CAAC,SAAS,UAAU,EAAE,EAAE,CAAC,WAAWhD,CAAC,EAAE,CAAC,OAAOA,EAAE,CAAC,CAAC,WAAW,gDAAgD,EAAE,GAAGyC,GAAE,CAAC,EAAE,GAAG,MAAMK,GAAE,CAAC,EAAE,GAAG,MAAMC,GAAE,CAAC,EAAE,CAAC,QAAQ,MAAM,EAAE,KAAK,EAAE,CAAC,aAAaJ,EAAE,MAAM,EAAE,UAAU,CAAC,EAAE,CAAC,cAAcA,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC,EAAE,CAAC,GAAGF,GAAE,CAAC,EAAE,GAAG,MAAMK,GAAE,CAAC,CAAC,CAAC,EAAE,OAAO,UAAU,EAAE,CAAC,MAAM,CAAC,GAAGL,GAAE,CAAC,EAAE,GAAG,MAAMK,GAAE,CAAC,EAAE,GAAG,MAAMC,GAAE,CAAC,EAAE,CAAC,QAAQ,MAAM,EAAE,KAAK,EAAE,CAAC,cAAcJ,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC,CAAC,EAAE,MAAM,UAAU,EAAE,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE,EAAE,CAAC,OAAO,OAAO,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,GAAG,MAAMI,GAAE,CAAC,CAAC,CAAC,EAAE,eAAe,UAAU,EAAE,CAAC,MAAM,CAAC,GAAG,OAAO,QAAQ,CAAC,EAAE,IAAI,CAAC,CAAC/C,EAAEiD,CAAC,IAAI,CAACjD,EAAE,MAAM,QAAQiD,CAAC,EAAEN,EAAEM,CAAC,EAAEA,CAAC,CAAC,EAAE,OAAO,CAAC,CAACjD,EAAEiD,CAAC,IAAIjD,IAAI,OAAO,EAAE,GAAG,MAAM+C,GAAE,CAAC,EAAE,CAAC,QAAQ,MAAM,EAAE,KAAK,CAAC,CAAC,EAAE,QAAQ,UAAU,EAAE,CAAC,MAAM,CAAC,CAACxB,GAAEqB,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,WAAW,UAAU,EAAE,CAAC,IAAM,EAAE,OAAO,QAAQ,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE3C,CAAC,IAAI,IAAI,aAAa,CAAC,EAAE,MAAM,QAAQA,CAAC,EAAEA,EAAE,GAAGA,CAAC,EAAE,CAAC,EAAE,MAAM,QAAQA,CAAC,EAAE0C,EAAE1C,CAAC,EAAEA,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,IAAI,IAAI,MAAM,EAAED,EAAE,MAAM,EAAE,KAAK,MAAM,CAAC,GAAG,EAAE,CAAC,OAAOA,EAAE,SAAS,EAAEA,EAAE,GAAGA,CAAC,CAAC,CAAC,EAAE,gBAAgB,UAAU,EAAE,CAAC,MAAM,CAAC,GAAGyC,GAAE,CAAC,EAAE,GAAG,MAAMK,GAAE,CAAC,EAAE,GAAG,MAAMC,GAAE,CAAC,EAAE,CAAC,cAAcJ,EAAE,MAAM,EAAE,WAAW,CAAC,EAAE,CAAC,QAAQA,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,qBAAqB,UAAU,EAAE,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE,EAAE,CAAC,OAAO,sBAAsB,EAAE,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC,EAAE,WAAW,UAAU,EAAE,EAAE,CAAC,WAAW3C,CAAC,EAAE,CAAC,OAAOA,EAAE,CAAC,CAAC,WAAW,gDAAgD,EAAE,GAAGyC,GAAE,CAAC,EAAE,GAAG,MAAMK,GAAE,CAAC,EAAE,GAAG,MAAMC,GAAE,CAAC,EAAE,CAAC,QAAQJ,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,GAAGF,GAAE,CAAC,EAAE,GAAG,MAAMK,GAAE,CAAC,CAAC,CAAC,EAAE,MAAM,UAAU,EAAE,CAAC,IAAM,EAAE,CAAC,EAAE,QAAU9C,KAAK,EAAE,MAAMA,EAAE,OAAO,QAAQ,EAAE,KAAK,MAAMA,CAAC,EAAE,EAAE,KAAKA,CAAC,EAAE,MAAM,CAAC,GAAGyC,GAAE,CAAC,EAAE,GAAG,MAAMK,GAAE,CAAC,EAAE,GAAG,MAAMC,GAAE,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,cAAcJ,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,ECCtvkC,IAAAO,EAA6B,UCDd,SAARC,GAAiCC,EAAKC,EAAKC,EAAO,CACvD,OAAID,KAAOD,EACT,OAAO,eAAeA,EAAKC,EAAK,CAC9B,MAAOC,EACP,WAAY,GACZ,aAAc,GACd,SAAU,EACZ,CAAC,EAEDF,EAAIC,GAAOC,EAGNF,CACT,CCXA,SAASG,GAAQC,EAAQC,EAAgB,CACvC,IAAIC,EAAO,OAAO,KAAKF,CAAM,EAE7B,GAAI,OAAO,sBAAuB,CAChC,IAAIG,EAAU,OAAO,sBAAsBH,CAAM,EACjDC,IAAmBE,EAAUA,EAAQ,OAAO,SAAUC,EAAK,CACzD,OAAO,OAAO,yBAAyBJ,EAAQI,CAAG,EAAE,UACtD,CAAC,GAAIF,EAAK,KAAK,MAAMA,EAAMC,CAAO,CACpC,CAEA,OAAOD,CACT,CAEe,SAARG,GAAgCC,EAAQ,CAC7C,QAASC,EAAI,EAAGA,EAAI,UAAU,OAAQA,IAAK,CACzC,IAAIC,EAAiB,UAAUD,IAAlB,KAAuB,UAAUA,GAAK,CAAC,EACpDA,EAAI,EAAIR,GAAQ,OAAOS,CAAM,EAAG,EAAE,EAAE,QAAQ,SAAUC,EAAK,CACzDC,GAAeJ,EAAQG,EAAKD,EAAOC,EAAI,CACzC,CAAC,EAAI,OAAO,0BAA4B,OAAO,iBAAiBH,EAAQ,OAAO,0BAA0BE,CAAM,CAAC,EAAIT,GAAQ,OAAOS,CAAM,CAAC,EAAE,QAAQ,SAAUC,EAAK,CACjK,OAAO,eAAeH,EAAQG,EAAK,OAAO,yBAAyBD,EAAQC,CAAG,CAAC,CACjF,CAAC,CACH,CAEA,OAAOH,CACT,CCjBA,SAASK,EAAuBC,EAAM,CACpC,MAAO,yBAA2BA,EAAO,4CAA8CA,EAAO,iFAChG,CAGA,IAAIC,GAAgB,UAAY,CAC9B,OAAO,OAAO,QAAW,YAAc,OAAO,YAAc,cAC9D,EAAG,EAQCC,GAAe,UAAwB,CACzC,OAAO,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,UAAU,CAAC,EAAE,MAAM,EAAE,EAAE,KAAK,GAAG,CACnE,EAEIC,GAAc,CAChB,KAAM,eAAiBD,GAAa,EACpC,QAAS,kBAAoBA,GAAa,EAC1C,qBAAsB,UAAgC,CACpD,MAAO,+BAAiCA,GAAa,CACvD,CACF,EAMA,SAASE,GAAcC,EAAK,CAC1B,GAAI,OAAOA,GAAQ,UAAYA,IAAQ,KAAM,MAAO,GAGpD,QAFIC,EAAQD,EAEL,OAAO,eAAeC,CAAK,IAAM,MACtCA,EAAQ,OAAO,eAAeA,CAAK,EAGrC,OAAO,OAAO,eAAeD,CAAG,IAAMC,CACxC,CAuFA,SAASC,GAAYC,EAASC,EAAgBC,EAAU,CACtD,IAAIC,EAEJ,GAAI,OAAOF,GAAmB,YAAc,OAAOC,GAAa,YAAc,OAAOA,GAAa,YAAc,OAAO,UAAU,IAAO,WACtI,MAAM,IAAI,MAA8CE,EAAuB,CAAC,CAAgR,EAQlW,GALI,OAAOH,GAAmB,YAAc,OAAOC,GAAa,cAC9DA,EAAWD,EACXA,EAAiB,QAGf,OAAOC,GAAa,YAAa,CACnC,GAAI,OAAOA,GAAa,WACtB,MAAM,IAAI,MAA8CE,EAAuB,CAAC,CAA2F,EAG7K,OAAOF,EAASH,EAAW,EAAEC,EAASC,CAAc,CACtD,CAEA,GAAI,OAAOD,GAAY,WACrB,MAAM,IAAI,MAA8CI,EAAuB,CAAC,CAA8F,EAGhL,IAAIC,EAAiBL,EACjBM,EAAeL,EACfM,EAAmB,CAAC,EACpBC,EAAgBD,EAChBE,EAAgB,GASpB,SAASC,GAA+B,CAClCF,IAAkBD,IACpBC,EAAgBD,EAAiB,MAAM,EAE3C,CAQA,SAASI,GAAW,CAClB,GAAIF,EACF,MAAM,IAAI,MAA8CL,EAAuB,CAAC,CAAoN,EAGtS,OAAOE,CACT,CA0BA,SAASM,EAAUC,EAAU,CAC3B,GAAI,OAAOA,GAAa,WACtB,MAAM,IAAI,MAA8CT,EAAuB,CAAC,CAA2F,EAG7K,GAAIK,EACF,MAAM,IAAI,MAA8CL,EAAuB,CAAC,CAAoU,EAGtZ,IAAIU,EAAe,GACnB,OAAAJ,EAA6B,EAC7BF,EAAc,KAAKK,CAAQ,EACpB,UAAuB,CAC5B,GAAI,EAACC,EAIL,IAAIL,EACF,MAAM,IAAI,MAA8CL,EAAuB,CAAC,CAA+J,EAGjPU,EAAe,GACfJ,EAA6B,EAC7B,IAAIK,EAAQP,EAAc,QAAQK,CAAQ,EAC1CL,EAAc,OAAOO,EAAO,CAAC,EAC7BR,EAAmB,KACrB,CACF,CA4BA,SAASS,EAASC,EAAQ,CACxB,GAAI,CAACC,GAAcD,CAAM,EACvB,MAAM,IAAI,MAA8Cb,EAAuB,CAAC,CAAoa,EAGtf,GAAI,OAAOa,EAAO,MAAS,YACzB,MAAM,IAAI,MAA8Cb,EAAuB,CAAC,CAAgH,EAGlM,GAAIK,EACF,MAAM,IAAI,MAA8CL,EAAuB,CAAC,CAAwC,EAG1H,GAAI,CACFK,EAAgB,GAChBH,EAAeD,EAAeC,EAAcW,CAAM,CACpD,QAAE,CACAR,EAAgB,EAClB,CAIA,QAFIU,EAAYZ,EAAmBC,EAE1BY,EAAI,EAAGA,EAAID,EAAU,OAAQC,IAAK,CACzC,IAAIP,EAAWM,EAAUC,GACzBP,EAAS,CACX,CAEA,OAAOI,CACT,CAaA,SAASI,EAAeC,EAAa,CACnC,GAAI,OAAOA,GAAgB,WACzB,MAAM,IAAI,MAA8ClB,EAAuB,EAAE,CAA2F,EAG9KC,EAAiBiB,EAKjBN,EAAS,CACP,KAAMO,GAAY,OACpB,CAAC,CACH,CASA,SAASC,GAAa,CACpB,IAAIC,EAEAC,EAAiBd,EACrB,OAAOa,EAAO,CASZ,UAAW,SAAmBE,EAAU,CACtC,GAAI,OAAOA,GAAa,UAAYA,IAAa,KAC/C,MAAM,IAAI,MAA8CvB,EAAuB,EAAE,CAA0F,EAG7K,SAASwB,GAAe,CAClBD,EAAS,MACXA,EAAS,KAAKhB,EAAS,CAAC,CAE5B,CAEAiB,EAAa,EACb,IAAIC,EAAcH,EAAeE,CAAY,EAC7C,MAAO,CACL,YAAaC,CACf,CACF,CACF,EAAGJ,EAAKK,IAAgB,UAAY,CAClC,OAAO,IACT,EAAGL,CACL,CAKA,OAAAT,EAAS,CACP,KAAMO,GAAY,IACpB,CAAC,EACMpB,EAAQ,CACb,SAAUa,EACV,UAAWJ,EACX,SAAUD,EACV,eAAgBU,CAClB,EAAGlB,EAAM2B,IAAgBN,EAAYrB,CACvC,CAkFA,SAAS4B,GAAmBC,EAAU,CACpC,OAAO,KAAKA,CAAQ,EAAE,QAAQ,SAAUC,EAAK,CAC3C,IAAIC,EAAUF,EAASC,GACnBE,EAAeD,EAAQ,OAAW,CACpC,KAAME,GAAY,IACpB,CAAC,EAED,GAAI,OAAOD,GAAiB,YAC1B,MAAM,IAAI,MAA8CE,EAAuB,EAAE,CAA8U,EAGja,GAAI,OAAOH,EAAQ,OAAW,CAC5B,KAAME,GAAY,qBAAqB,CACzC,CAAC,GAAM,YACL,MAAM,IAAI,MAA8CC,EAAuB,EAAE,CAAyd,CAE9iB,CAAC,CACH,CAmBA,SAASC,GAAgBN,EAAU,CAIjC,QAHIO,EAAc,OAAO,KAAKP,CAAQ,EAClCQ,EAAgB,CAAC,EAEZC,EAAI,EAAGA,EAAIF,EAAY,OAAQE,IAAK,CAC3C,IAAIR,EAAMM,EAAYE,GAQlB,OAAOT,EAASC,IAAS,aAC3BO,EAAcP,GAAOD,EAASC,GAElC,CAEA,IAAIS,EAAmB,OAAO,KAAKF,CAAa,EAG5CG,EAMAC,EAEJ,GAAI,CACFb,GAAmBS,CAAa,CAClC,OAASK,EAAP,CACAD,EAAsBC,CACxB,CAEA,OAAO,SAAqBC,EAAOC,EAAQ,CAKzC,GAJID,IAAU,SACZA,EAAQ,CAAC,GAGPF,EACF,MAAMA,EAGR,GAAI,GACF,IAAII,EAUN,QAHIC,EAAa,GACbC,EAAY,CAAC,EAERC,EAAK,EAAGA,EAAKT,EAAiB,OAAQS,IAAM,CACnD,IAAIC,EAAOV,EAAiBS,GACxBjB,EAAUM,EAAcY,GACxBC,EAAsBP,EAAMM,GAC5BE,EAAkBpB,EAAQmB,EAAqBN,CAAM,EAEzD,GAAI,OAAOO,GAAoB,YAAa,CAC1C,IAAIC,EAAaR,GAAUA,EAAO,KAClC,MAAM,IAAI,MAA8CV,EAAuB,EAAE,CAAsV,CACza,CAEAa,EAAUE,GAAQE,EAClBL,EAAaA,GAAcK,IAAoBD,CACjD,CAEA,OAAAJ,EAAaA,GAAcP,EAAiB,SAAW,OAAO,KAAKI,CAAK,EAAE,OACnEG,EAAaC,EAAYJ,CAClC,CACF,CA8DA,SAASU,IAAU,CACjB,QAASC,EAAO,UAAU,OAAQC,EAAQ,IAAI,MAAMD,CAAI,EAAGE,EAAO,EAAGA,EAAOF,EAAME,IAChFD,EAAMC,GAAQ,UAAUA,GAG1B,OAAID,EAAM,SAAW,EACZ,SAAUE,EAAK,CACpB,OAAOA,CACT,EAGEF,EAAM,SAAW,EACZA,EAAM,GAGRA,EAAM,OAAO,SAAUG,EAAGC,EAAG,CAClC,OAAO,UAAY,CACjB,OAAOD,EAAEC,EAAE,MAAM,OAAQ,SAAS,CAAC,CACrC,CACF,CAAC,CACH,CAmBA,SAASC,IAAkB,CACzB,QAASN,EAAO,UAAU,OAAQO,EAAc,IAAI,MAAMP,CAAI,EAAGE,EAAO,EAAGA,EAAOF,EAAME,IACtFK,EAAYL,GAAQ,UAAUA,GAGhC,OAAO,SAAUM,EAAa,CAC5B,OAAO,UAAY,CACjB,IAAIC,EAAQD,EAAY,MAAM,OAAQ,SAAS,EAE3CE,EAAY,UAAoB,CAClC,MAAM,IAAI,MAA8CC,EAAuB,EAAE,CAAiI,CACpN,EAEIC,EAAgB,CAClB,SAAUH,EAAM,SAChB,SAAU,UAAoB,CAC5B,OAAOC,EAAU,MAAM,OAAQ,SAAS,CAC1C,CACF,EACIG,EAAQN,EAAY,IAAI,SAAUO,EAAY,CAChD,OAAOA,EAAWF,CAAa,CACjC,CAAC,EACD,OAAAF,EAAYX,GAAQ,MAAM,OAAQc,CAAK,EAAEJ,EAAM,QAAQ,EAChDM,GAAcA,GAAc,CAAC,EAAGN,CAAK,EAAG,CAAC,EAAG,CACjD,SAAUC,CACZ,CAAC,CACH,CACF,CACF,CH1rBA,IAAMM,GAAkB,wBAClBC,GAAsB,4BACtBC,GAAuB,6BACvBC,GAAgB,sBAChBC,GAAmB,yBACnBC,MAAiB,gBAAaL,EAAe,EAAE,EAC/CM,MAAoB,gBAAaL,EAAmB,EAAE,EACtDM,MAAqB,gBAAaL,EAAoB,EAAE,EACxDM,MAAe,gBAAaL,EAAa,EAAE,EAC3CM,MAAkB,gBAAaL,EAAgB,EAAE,EACjDM,GAAgB,CAAE,eAAAL,GAAgB,kBAAAC,GAAmB,mBAAAC,GAAoB,aAAAC,GAAc,gBAAAC,EAAgB,EAEvGE,GAAc,oBACdC,GAAe,qBACfC,MAAa,gBAAaF,EAAW,EAAE,EACvCG,MAAc,gBAAaF,EAAY,EAAE,EAEzCG,GAAiB,uBACjBC,GAAyB,+BACzBC,GAAmB,yBACnBC,MAAe,gBAAaH,EAAc,EAAE,EAC5CI,MAAsB,gBAAaH,EAAsB,EAAE,EAC3DI,MAAiB,gBAAaH,EAAgB,EAAE,EAChDI,GAAc,CAClB,aAAAH,GACA,oBAAAC,GACA,eAAAC,EACF,EAEME,GAAiB,iBACjBC,GAAmB,mBACnBC,GAAiB,iBACjBC,GAAmB,yBACnBC,GAAgB,sBAChBC,GAAmB,yBACnBC,GAAmB,yBACnBC,GAA2B,iCAC3BC,MAAkB,gBAAaL,EAAgB,EAAE,EACjDM,MAAe,gBAAaL,EAAa,EAAE,EAC3CM,MAAkB,gBAAaL,EAAgB,EAAE,EACjDM,MAAkB,gBAAaL,EAAgB,EAAE,KACvD,gBAAaC,EAAwB,EAAE,EAEvC,IAAMK,GAAgB,cAChBC,GAAe,qBACfC,MAAe,gBAAaF,EAAa,EAAE,KACjD,gBAAaC,EAAY,EAAE,EAE3B,IAAME,GAAyB,CAACC,EAAIC,IAAa,CAC/C,GAAM,CAAE,SAAAC,EAAU,SAAAC,EAAU,QAAAC,CAAQ,EAAIC,GAAUJ,CAAQ,EAC1D,GAAIE,EAAS,KAAO,OAClB,MAAO,CAACV,GAAa,CAAE,GAAAO,EAAI,QAAS,gCAAiC,CAAC,CAAC,EAEzE,IAAMM,EAAU,CAACvC,GAAe,CAAE,SAAAmC,CAAS,CAAC,EAAG1B,GAAY,CAAE,QAAA4B,CAAQ,CAAC,CAAC,EACvE,OAAID,EAAS,KAAOH,IAClBM,EAAQ,KAAK/B,GAAW,CAAE,GAAAyB,EAAI,KAAMG,EAAS,IAAK,CAAC,CAAC,EACpDG,EAAQ,KAAKZ,GAAgB,CAAE,UAAWM,EAAI,SAAUG,EAAS,EAAG,CAAC,CAAC,GAExEG,EAAQ,KAAKX,GAAgB,CAAE,GAAAK,CAAG,CAAC,CAAC,EAC7BM,CACT,EAEMC,GAAY,OAAO,OAAS,SAAkBC,EAAO,CACzD,OAAO,OAAOA,GAAU,UAAYA,IAAUA,CAChD,EACA,SAASC,GAAQC,EAAOC,EAAQ,CAI9B,MAHI,GAAAD,IAAUC,GAGVJ,GAAUG,CAAK,GAAKH,GAAUI,CAAM,EAI1C,CACA,SAASC,GAAeC,EAAWC,EAAY,CAC7C,GAAI,CAAC,MAAM,QAAQD,CAAS,GAAK,CAAC,MAAM,QAAQC,CAAU,EACxD,OAAOD,IAAcC,EAEvB,GAAID,EAAU,SAAWC,EAAW,OAClC,MAAO,GAET,QAASC,EAAI,EAAGA,EAAIF,EAAU,OAAQE,IACpC,GAAI,CAACN,GAAQI,EAAUE,GAAID,EAAWC,EAAE,EACtC,MAAO,GAGX,MAAO,EACT,CAEA,SAASC,GAAgBC,EAAOC,EAAK,CACnC,IAAMC,EAAUF,EAAM,KAAK,SAASC,GAC9BE,EAAeH,EAAM,KAAK,QAAQC,GACxC,GAAI,GAACE,GAAgB,CAACH,EAAM,KAAK,SAASG,GAAcD,EAAQ,cAGhE,OAAOF,EAAM,KAAK,SAASG,GAAcD,EAAQ,YACnD,CAEA,SAASE,GAAkBC,EAAOC,EAAS,CAAE,YAAAC,EAAc,EAAG,EAAI,CAAC,EAAG,CACpE,MAAO,OAAON,EAAKO,IAAY,CAC7B,IAAMR,EAAQK,EAAM,SAAS,EACvBH,EAAUF,EAAM,KAAK,SAASC,GACpC,GAAIC,EACF,OAAQA,EAAQ,mBACTnC,GACH,WACGC,GAAkB,CACrB,IAAIyC,EACAC,EAAc,GAClB,GAAI,CACF,IAAMC,EAAiB,MAAM,QAAQ,KAAK,CACxC,IAAI,QAAQ,CAACC,EAASC,IAAW,CAC3BH,IAGJD,EAAsBJ,EAAM,UAAU,IAAM,CAC1C,IAAMS,EAAcT,EAAM,SAAS,EACnC,GAAIS,EAAY,KAAK,SAASb,GAAK,eAAiBlC,GAAgB,CAClE8C,EAAO,EACP,MACF,CACA,GAAIC,EAAY,KAAK,SAASb,GAAK,eAAiBhC,GAAgB,CAClE,IAAM8C,EAAsBhB,GAAgBe,EAAab,CAAG,EACxDc,EACFH,EAAQG,CAAmB,EAE3BF,EAAO,CAEX,CACF,CAAC,EACH,CAAC,EACD,IAAI,QAAQ,CAACD,EAASC,IAAW,WAAW,IAAM,CAChDH,EAAc,GACdG,EAAO,CACT,EAAGN,EAAc,EAAE,CAAC,CACtB,CAAC,EAID,GAHIE,GACFA,EAAoB,EAElBE,EACF,OAAOA,CAEX,MAAE,CACIF,GACFA,EAAoB,EAEtB,KACF,CACA,KACF,MACKxC,GAAgB,CACnB,IAAM0C,EAAiBZ,GAAgBC,EAAOC,CAAG,EACjD,GAAIU,EACF,OAAOA,EAET,KACF,EAGJN,EAAM,SAAS9B,GAAgB,CAAE,GAAI0B,CAAI,CAAC,CAAC,EAC3C,GAAI,CACF,IAAMf,EAAW,MAAMoB,EAAQL,EAAKO,CAAO,EACvC,CAACtB,EAAS,IAAM,CAACA,EAAS,SACxBA,EAAS,WACXA,EAAS,OAASe,GAClBf,EAAS,GAAKe,GAKlB,IAAMe,EAAalC,GAAuBmB,EAAKf,CAAQ,EACvD,OAAAmB,EAAM,SAASxB,GAAa,CAAE,QAASmC,CAAW,CAAC,CAAC,EAC7CjB,GAAgBM,EAAM,SAAS,EAAGJ,CAAG,CAC9C,OAASgB,EAAP,CACA,MAAAZ,EAAM,SAAS7B,GAAa,CAAE,GAAIyB,EAAK,QAASgB,EAAI,SAAS,CAAE,CAAC,CAAC,EAC3DA,CACR,CACF,CACF,CAEA,SAASC,IAAqB,CAC5B,MAAO,CACL,WAAY,CAAC,EACb,SAAU,CAAC,EACX,OAAQ,CAAC,EACT,eAAgB,CAAC,EACjB,qBAAsB,CAAC,EACvB,WAAY,CAAC,EACb,gBAAiB,CAAC,EAClB,MAAO,CAAC,EACR,QAAS,CAAC,EACV,SAAU,CAAC,EACX,MAAO,CAAC,CACV,CACF,CAEA,IAAMC,GAAiB,CAACnB,EAAQ,CAAC,EAAGoB,IAAW,CAC7C,OAAQA,EAAO,WACRhE,GACH,MAAO,CACL,GAAG4C,EACH,CAACoB,EAAO,QAAQ,IAAKA,EAAO,QAAQ,IACtC,OACG/D,GACH,MAAO,CACL,GAAG2C,EACH,GAAGoB,EAAO,QAAQ,OACpB,UAEA,OAAOpB,EAEb,EAEA,SAASqB,GAAgBrB,EAAOjB,EAAIuC,EAAMC,EAAK,CAC7C,MAAO,EAAE,CAACvB,EAAMsB,IAAS,CAACtB,EAAMsB,GAAMvC,IAAO,CAACiB,EAAMsB,GAAMvC,GAAIwC,IAAQ,CAAC,MAAM,QAAQvB,EAAMsB,GAAMvC,GAAIwC,EAAI,EAC3G,CAEA,IAAMC,GAAkB,CAACxB,EAAQkB,GAAmB,EAAGE,IAAW,CA7NlE,IAAAK,EA8NE,OAAQL,EAAO,WACR1E,GAAqB,CACxB,GAAI,CAACsD,EAAMoB,EAAO,QAAQ,OAAS,CAACpB,EAAMoB,EAAO,QAAQ,MAAMA,EAAO,QAAQ,IAC5E,OAAOpB,EAET,IAAM0B,EAAS1B,EAAMoB,EAAO,QAAQ,MAAMA,EAAO,QAAQ,IACzD,OAAI,OAAOM,GAAW,SACb1B,EAEF,CACL,GAAGA,EACH,CAACoB,EAAO,QAAQ,MAAO,CACrB,GAAGpB,EAAMoB,EAAO,QAAQ,MACxB,CAACA,EAAO,QAAQ,IAAK,CACnB,GAAGM,EACH,CAACN,EAAO,QAAQ,KAAMA,EAAO,QAAQ,KACvC,CACF,CACF,CACF,MACKzE,GAAsB,CACzB,GAAI,CAAC0E,GAAgBrB,EAAOoB,EAAO,QAAQ,GAAIA,EAAO,QAAQ,KAAMA,EAAO,QAAQ,GAAG,EACpF,OAAOpB,EAET,IAAM0B,EAAS1B,EAAMoB,EAAO,QAAQ,MAAMA,EAAO,QAAQ,IACzD,GAAI,OAAOM,GAAW,SACpB,OAAO1B,EAET,IAAM2B,EAAS,MAAM,KAAKD,EAAON,EAAO,QAAQ,IAAI,EAC9C,CAACQ,CAAO,EAAID,EAAO,OAAOP,EAAO,QAAQ,WAAY,CAAC,EAC5D,OAAAO,EAAO,OAAOP,EAAO,QAAQ,SAAU,EAAGQ,CAAO,EAC1C,CACL,GAAG5B,EACH,CAACoB,EAAO,QAAQ,MAAO,CACrB,GAAGpB,EAAMoB,EAAO,QAAQ,MACxB,CAACA,EAAO,QAAQ,IAAK,CACnB,GAAGM,EACH,CAACN,EAAO,QAAQ,KAAMO,CACxB,CACF,CACF,CACF,MACKlF,GAAiB,CACpB,IAAMoF,EAAO,OAAO,KAAKT,EAAO,QAAQ,QAAQ,EAC1CU,EAAW,CAAE,GAAG9B,CAAM,EAC5B,QAAWuB,KAAOM,EAChBC,EAASP,GAAO,CACd,GAAGvB,EAAMuB,IAAQ,CAAC,EAClB,GAAGH,EAAO,QAAQ,SAASG,IAAQ,CAAC,CACtC,EAEF,OAAOO,CACT,MACKlF,GAAe,CAClB,GAAI,CAACyE,GAAgBrB,EAAOoB,EAAO,QAAQ,GAAIA,EAAO,QAAQ,KAAMA,EAAO,QAAQ,GAAG,EACpF,OAAOpB,EAET,IAAM0B,EAAS1B,EAAMoB,EAAO,QAAQ,MAAMA,EAAO,QAAQ,IACnDO,EAAS,MAAM,KAAKD,EAAON,EAAO,QAAQ,IAAI,EACpD,OAAAO,EAAO,OAAOP,EAAO,QAAQ,OAASO,EAAO,OAAS,EAAG,EAAGP,EAAO,QAAQ,SAAS,EAC7E,CACL,GAAGpB,EACH,CAACoB,EAAO,QAAQ,MAAO,CACrB,GAAGpB,EAAMoB,EAAO,QAAQ,MACxB,CAACA,EAAO,QAAQ,IAAK,CACnB,GAAGM,EACH,CAACN,EAAO,QAAQ,KAAMO,CACxB,CACF,CACF,CACF,MACK9E,GAAkB,CACrB,GAAI,CAACwE,GAAgBrB,EAAOoB,EAAO,QAAQ,GAAIA,EAAO,QAAQ,KAAMA,EAAO,QAAQ,GAAG,EACpF,OAAOpB,EAET,IAAM0B,EAAS1B,EAAMoB,EAAO,QAAQ,MAAMA,EAAO,QAAQ,IACnDO,EAAS,MAAM,KAAKD,EAAON,EAAO,QAAQ,IAAI,EAC9CW,EAAgBX,EAAO,QAAQ,OAASO,EAAO,UAAWK,GAAMA,GAAKA,EAAE,KAAOZ,EAAO,QAAQ,UAAU,EAAE,EAI/G,OAHIW,IAAkB,MAGlBN,EAAAE,EAAOI,KAAP,YAAAN,EAAuB,MAAOL,EAAO,QAAQ,UAAU,GAClDpB,GAET2B,EAAO,OAAOI,EAAe,CAAC,EACvB,CACL,GAAG/B,EACH,CAACoB,EAAO,QAAQ,MAAO,CACrB,GAAGpB,EAAMoB,EAAO,QAAQ,MACxB,CAACA,EAAO,QAAQ,IAAK,CACnB,GAAGM,EACH,CAACN,EAAO,QAAQ,KAAMO,CACxB,CACF,CACF,EACF,SAEE,OAAO3B,EAEb,EAEMiC,GAAiB,CAACjC,EAAQ,CAAC,EAAGoB,IAAW,CAC7C,OAAQA,EAAO,WACRlD,QACAI,GACH,MAAO,CACL,GAAG0B,EACH,CAACoB,EAAO,QAAQ,IAAK,CACnB,WAAYA,EAAO,QAAQ,GAC3B,aAAcpD,GACd,YAAa,GACb,YAAaoD,EAAO,QAAQ,EAC9B,CACF,OACGhD,GACH,MAAO,CACL,GAAG4B,EACH,CAACoB,EAAO,QAAQ,WAAY,CAC1B,GAAGpB,EAAMoB,EAAO,QAAQ,YAAc,CAAC,EACvC,YAAa,GACb,YAAaA,EAAO,QAAQ,QAC9B,EACA,CAACA,EAAO,QAAQ,UAAW,CACzB,WAAYA,EAAO,QAAQ,UAC3B,aAAcpB,EAAMoB,EAAO,QAAQ,WAAW,aAC9C,YAAa,GACb,YAAaA,EAAO,QAAQ,QAC9B,CACF,OACGjD,GACH,MAAO,CACL,GAAG6B,EACH,CAACoB,EAAO,QAAQ,IAAK,CACnB,GAAGpB,EAAMoB,EAAO,QAAQ,KAAO,CAAC,EAChC,aAAcrD,GACd,MAAOqD,EAAO,QAAQ,OACxB,CACF,OACG/C,GACH,MAAO,CACL,GAAG2B,EACH,CAACoB,EAAO,QAAQ,IAAK,CACnB,GAAGpB,EAAMoB,EAAO,QAAQ,KAAO,CAAC,EAChC,aAAcnD,GACd,MAAO,MACT,CACF,EAEJ,OAAO+B,CACT,EAEMkC,GAAc,CAAClC,EAAQ,CAAC,EAAGoB,IAAW,CAC1C,GAAM,CAAE,GAAArC,EAAI,YAAAoD,EAAa,MAAA5C,EAAO,KAAA6C,EAAM,IAAAb,CAAI,EAAIH,GAAUA,EAAO,SAAW,CAAC,EAC3E,OAAQA,EAAO,WACR5D,GACH,MAAO,CACL,GAAGwC,EACH,CAACjB,GAAK,CACJ,GAAGiB,EAAMjB,IAAO,CAAC,EACjB,CAACqD,GAAO,CACN,GAAGpC,EAAMjB,GAAMiB,EAAMjB,GAAIqD,IAAS,CAAC,EAAI,CAAC,EACxC,CAACb,GAAMhC,CACT,CACF,CACF,OAEG9B,GACH,MAAO,CACL,GAAGuC,EACH,CAACjB,GAAK,CACJ,GAAGiB,EAAMjB,IAAO,CAAC,EACjB,CAACqD,GAAO,CACN,GAAGpC,EAAMjB,GAAMiB,EAAMjB,GAAIqD,IAAS,CAAC,EAAI,CAAC,EACxC,CAACb,GAAMvB,EAAMjB,IAAOiB,EAAMjB,GAAIqD,GAAQD,EAAYnC,EAAMjB,GAAIqD,GAAMb,EAAI,EAAIY,EAAY,MAAM,CAC9F,CACF,CACF,OAEGzE,GACH,OAAIsC,EAAMjB,IAAOiB,EAAMjB,GAAIqD,IAASpC,EAAMjB,GAAIqD,GAAMb,GAC3C,CACL,GAAGvB,EACH,CAACjB,GAAK,CACJ,GAAGiB,EAAMjB,IAAO,CAAC,EACjB,CAACqD,GAAO,CACN,GAAGpC,EAAMjB,GAAMiB,EAAMjB,GAAIqD,IAAS,CAAC,EAAI,CAAC,EACxC,CAACb,GAAM,MACT,CACF,CACF,EAEKvB,UAGP,OAAOA,EAEb,EAEA,SAASqC,GAAmBC,EAAa,CACvC,MAAO,CAACtC,EAAOoB,IACTA,GAAUA,EAAO,OAASzC,GACrByC,EAAO,QAAQ,QAAQ,OAAOkB,EAAatC,CAAK,EAErDoB,GAAUA,EAAO,OAASxC,GACrBwC,EAAO,QAAQ,MAEjBkB,EAAYtC,EAAOoB,CAAM,CAEpC,CAEA,IAAMmB,GAAWC,GAAgB,CAC/B,QAASrB,GACT,SAAUK,GACV,SAAUS,GACV,KAAMC,EACR,CAAC,EACKO,GAAmB,OAAO,QAAW,YAAc,OAAO,sCAAwCC,GAAUA,GAClH,SAASC,GAAYnC,EAAU,CAAC,EAAG,CACjC,GAAM,CACJ,eAAAoC,EAAiB,GACjB,cAAAC,EAAgB,OAChB,aAAAC,EAAe,CAAC,EAChB,gBAAAC,EAAkB,CAAC,EACnB,eAAAC,EAAiB,CAAC,CACpB,EAAIxC,EACE8B,EAAcE,GAAgB,CAAE,CAACK,GAAgBN,GAAU,GAAGS,CAAe,CAAC,EAEpF,OADcL,GAAcN,GAAmBC,CAAW,EAAGQ,EAAcF,EAAiBH,GAAiBQ,GAAgB,GAAGF,CAAe,CAAC,EAAIL,GAAQO,GAAgB,GAAGF,CAAe,CAAC,CAAC,CAElM,CAEA,SAASG,GAAKC,EAAE,CAAC,MAAO,CAAC,IAAIA,EAAEA,GAAG,IAAI,IAAI,GAAG,SAASC,EAAEpB,EAAE,CAAC,IAAIlC,EAAEqD,EAAE,IAAIC,CAAC,EAAEtD,EAAEA,EAAE,KAAKkC,CAAC,EAAEmB,EAAE,IAAIC,EAAE,CAACpB,CAAC,CAAC,CAAE,EAAE,IAAI,SAASoB,EAAEpB,EAAE,CAAC,IAAIlC,EAAEqD,EAAE,IAAIC,CAAC,EAAEtD,IAAIkC,EAAElC,EAAE,OAAOA,EAAE,QAAQkC,CAAC,IAAI,EAAE,CAAC,EAAEmB,EAAE,IAAIC,EAAE,CAAC,CAAC,EAAG,EAAE,KAAK,SAASA,EAAEpB,EAAE,CAAC,IAAIlC,EAAEqD,EAAE,IAAIC,CAAC,EAAEtD,GAAGA,EAAE,MAAM,EAAE,IAAI,SAASqD,EAAE,CAACA,EAAEnB,CAAC,CAAE,CAAC,GAAGlC,EAAEqD,EAAE,IAAI,GAAG,IAAIrD,EAAE,MAAM,EAAE,IAAI,SAASqD,EAAE,CAACA,EAAEC,EAAEpB,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAErT,IAAMqB,GAAN,KAAY,CAQV,YAAY7C,EAASH,EAAO,CAP5BiD,EAAA,gBACAA,EAAA,cACAA,EAAA,gBACAA,EAAA,kBAAa,IACbA,EAAA,kBAAa,CAAC,GACdA,EAAA,sBACAA,EAAA,sBAmBAA,EAAA,sBAAkBrD,GACT,MAAMA,CAAG,EAAE,KAAM,GAAM,EAAE,KAAK,CAAC,GA2CxCqD,EAAA,kBAAcjD,GAAWkD,GAAUnC,GAAW,CAC5C,GAAIA,EAAO,OAASzC,GAAe,CACjC,QAAW6E,KAAcpC,EAAO,QAAQ,QACtC,KAAK,QAAQ,KAAKoC,EAAW,KAAM,CAAE,WAAAA,EAAY,MAAOnD,EAAM,SAAS,CAAE,CAAC,EAE5E,IAAMoD,EAASF,EAAKnC,CAAM,EAC1B,QAAWoC,KAAcpC,EAAO,QAAQ,QACtC,KAAK,QAAQ,KAAK,SAASA,EAAO,OAAQ,CAAE,OAAAA,EAAQ,MAAOqC,CAAO,CAAC,EAErE,OAAOA,CACT,CACA,KAAK,QAAQ,KAAKrC,EAAO,KAAM,CAAE,OAAAA,EAAQ,MAAOf,EAAM,SAAS,CAAE,CAAC,EAClE,IAAML,EAAQuD,EAAKnC,CAAM,EACzB,YAAK,QAAQ,KAAK,SAASA,EAAO,OAAQ,CAAE,OAAAA,EAAQ,MAAApB,CAAM,CAAC,EACpDA,CACT,GA5EE,KAAK,QAAU,OAAO,OAAO,CAC3B,SAAU,CAAC,EACX,WAAY,CAAC,EACb,aAAc,CAAC,EACf,cAAe,KAAK,eACpB,eAAgB,EAClB,EAAGQ,GAAW,CAAC,CAAC,EAChB,KAAK,MAAQH,GAASsC,GAAY,CAChC,eAAgB,KAAK,QAAQ,SAC7B,gBAAiB,CAAC,GAAG,KAAK,QAAQ,WAAY,KAAK,UAAU,EAC7D,aAAc,KAAK,QAAQ,aAC3B,eAAgB,KAAK,QAAQ,cAC/B,CAAC,EACD,KAAK,QAAUO,GAAK,EACpB,KAAK,cAAgB9C,GAAkB,KAAK,MAAO,KAAK,QAAQ,aAAa,EAC7E,KAAK,cAAgBA,GAAkB,KAAK,MAAO,CAACrB,EAAI2E,IAASA,CAAI,CACvE,CAIA,MAAMC,EAAI,CACR,KAAK,WAAa,GAClB,GAAI,CACFA,EAAG,IAAI,EACP,KAAK,MAAM,SAAS9E,GAAa,CAAE,QAAS,KAAK,UAAW,CAAC,CAAC,CAChE,OAASmD,EAAP,CACA,WAAK,WAAa,CAAC,EACnB,KAAK,WAAa,GACZA,CACR,CACA,KAAK,WAAa,CAAC,EACnB,KAAK,WAAa,EACpB,CACA,MAAM,WAAW2B,EAAI,CACnB,KAAK,WAAa,GAClB,GAAI,CACF,MAAMA,EAAG,IAAI,EACb,KAAK,MAAM,SAAS9E,GAAa,CAAE,QAAS,KAAK,UAAW,CAAC,CAAC,CAChE,OAASmD,EAAP,CACA,WAAK,WAAa,CAAC,EACnB,KAAK,WAAa,GACZA,CACR,CACA,KAAK,WAAa,CAAC,EACnB,KAAK,WAAa,EACpB,CACA,kBAAkBN,EAAQH,EAAKhC,EAAO,CACpC,KAAK,SAASpC,GAAc,kBAAkB,CAC5C,GAAIuE,EAAO,GACX,KAAMA,EAAO,KACb,IAAAH,EACA,MAAAhC,CACF,CAAC,CAAC,CACJ,CACA,SAAS6B,EAAQ,CACV,KAAK,WAGR,KAAK,WAAW,KAAKA,CAAM,EAF3B,KAAK,MAAM,SAASA,CAAM,CAI9B,CAiBA,UAAUM,EAAQkC,EAAQ,CACxB,OAAOC,GAAU,KAAK,SAAS,EAAE,KAAMnC,EAAQkC,CAAM,CACvD,CACA,gBAAgBlC,EAAQ,CACtB,OAAO,KAAK,UAAUA,EAAQoC,EAA4B,CAC5D,CACA,gBAAgBpC,EAAQ,CACtB,OAAO,KAAK,UAAUA,EAAQqC,EAA4B,CAC5D,CACA,QAAQC,EAAW1C,EAAM,CACvB,OAAO,KAAK,IAAI0C,EAAW1C,EAAM,CAAE,eAAgB,EAAM,CAAC,CAC5D,CACA,IAAI0C,EAAW1C,EAAMd,EAAU,CAAC,EAAG,CAC7B,OAAOc,GAAS,WAClBd,EAAUc,GAAQ,CAAC,EACnBA,EAAO,QAET,GAAM,CAAE,eAAA2C,EAAiB,EAAK,EAAIzD,GAAW,CAAC,EAC9C,GAAI,MAAM,QAAQwD,CAAS,EACzB,OAAOA,EAAU,IAAKlE,GAAM,KAAK,IAAIA,EAAGU,CAAO,CAAC,EAElD,IAAMR,EAAQ,KAAK,SAAS,EAC5B,GAAI,OAAOgE,GAAc,SAAU,CACjC,IAAME,EAAS5C,GAActB,EAAM,KAAK,QAAQgE,GAChD,GAAI,CAACE,EACH,OAAID,EACK,KAEF,CAAE,GAAID,EAAW,KAAM,SAAU,EAE1CA,EAAY,CAAE,GAAIA,EAAW,KAAME,CAAO,CAC5C,CACA,IAAMC,EAAQ7C,GAAc0C,EAAU,KAChCI,EAAMJ,EAAU,GAChB/E,EAAWe,EAAM,KAAK,SAASmE,GACrC,GAAI,CAAClF,EAAU,CACb,IAAMiB,EAAUF,EAAM,KAAK,SAASoE,GACpC,OAAIlE,GAAWA,EAAQ,cAAgBkE,EAC9B,KAAK,IAAIlE,EAAQ,YAAaM,CAAO,EAE1CyD,EACK,KAEFD,CACT,CACA,OAAO/E,EAAS+E,EAAU,MAAQC,EAAiB,KAAOD,EAC5D,CACA,OAAOK,EAAU,CACf,OAAOA,EAAS,KAAK,SAAS,CAAC,CACjC,CACA,UAAW,CACT,OAAO,KAAK,KACd,CACA,UAAW,CACT,OAAO,KAAK,MAAM,SAAS,CAC7B,CACA,aAAatF,EAAI2E,EAAM,CACrB,IAAMU,EAAM,OAAOrF,GAAO,SAAWA,EAAKA,EAAG,GAC7C,OAAO,KAAK,KAAKqF,EAAKV,CAAI,CAC5B,CACA,eAAe3E,EAAI2E,EAAM,CACvB,IAAMU,EAAM,OAAOrF,GAAO,SAAWA,EAAKA,EAAG,GAC7C,OAAO,KAAK,KAAKqF,EAAKV,CAAI,CAC5B,CACA,KAAK3E,EAAI2E,EAAM,CACb,IAAMU,EAAM,OAAOrF,GAAO,SAAWA,EAAKA,EAAG,GAC7C,OAAI2E,EACK,KAAK,cAAcU,EAAKV,CAAI,EAE9B,KAAK,cAAcU,CAAG,CAC/B,CACA,eAAexE,EAAWC,EAAY,CACpC,OAAOF,GAAeC,EAAWC,CAAU,CAC7C,CACA,UAAUwE,EAAUC,EAAcC,EAAa,CACzC,OAAOA,GAAgB,cAAgB,OAAOD,GAAiB,aAAeA,IAAiB,IAASA,IAAiB,MAC3HC,EAAcD,EACdA,EAAeD,EACfA,EAAYG,GAAMA,GAEpB,IAAIC,EAAYF,EAAc,KAAOF,EAAS,KAAK,MAAM,SAAS,CAAC,EACnE,OAAKE,GACHD,EAAaG,EAAW,IAAI,EAEvB,KAAK,MAAM,UAAU,IAAM,CAChC,IAAMzE,EAAQ,KAAK,MAAM,SAAS,EAC5B0E,EAAgBL,EAASrE,CAAK,EAChCyE,IAAcC,GAAiB,CAAC/E,GAAe8E,EAAWC,CAAa,GACzEJ,EAAaI,EAAe,IAAI,EAElCD,EAAYC,CACd,CAAC,CACH,CACA,MAAM,aAAaN,EAAK,CACtB,IAAMrF,EAAK,OAAOqF,GAAQ,SAAWA,EAAMA,EAAI,GAC1C,KAAK,cAAcrF,CAAE,GACxB,MAAM,KAAK,KAAKA,CAAE,CAEtB,CACA,cAAcA,EAAI,CAChB,OAAO,KAAK,OAAQiB,GACXA,EAAM,KAAK,SAASjB,EAC5B,CACH,CACA,gBAAgBG,EAAUyF,EAAS,CACjC,IAAMC,EAAe,KAAK,SAAS,EAAE,KAAK,KAAK1F,GAC/C,GAAI,EAAC0F,EAGL,OAAKD,EAGEC,EAAaD,GAFXC,CAGX,CACA,aAAa,CAAC7F,EAAIqD,EAAMb,CAAG,EAAGsD,EAAkB,CAC9C,KAAK,SAAS,OAAOA,GAAqB,WAAa/G,GAAY,oBAAoB,CACrF,GAAAiB,EACA,KAAAqD,EACA,IAAAb,EACA,YAAasD,CACf,CAAC,EAAI/G,GAAY,aAAa,CAC5B,GAAAiB,EACA,KAAAqD,EACA,IAAAb,EACA,MAAOsD,CACT,CAAC,CAAC,CACJ,CACF,EF3oBA,IAAMC,GAAuB,CAC3B,sBAAuB,UACvB,aAAc,SACd,oBAAqB,CAAC,EACtB,YAAa,GACb,cAAe,GACf,sBAAuB,GACvB,UAAW,EACb,EAsBMC,GAAmC,CACvC,aAAc,GACd,eAAgB,GAChB,WAAY,CAAC,EACb,cAAeD,GACf,oBAAqB,GACrB,SAAU,GACV,MAAO,IAAIE,EACb,EAEMC,GACJ,EAAAC,QAAM,cAAkCH,EAAY,EAChDI,GACJ,EAAAD,QAAM,cAAkCH,EAAY,EAEtD,SAASK,GAAcC,EAA2BC,EAAsB,CACtE,OAAQA,EAAO,UACR,qBAIH,OAAKA,EAAO,WAAUA,EAAO,SAAW,IACjC,CACL,GAAGD,EACH,aAAcC,EAAO,QACvB,MAEG,uBACH,MAAO,CACL,GAAGD,EACH,eAAgBC,EAAO,UACzB,MAEG,mBACH,MAAO,CACL,GAAGD,EACH,WAAYC,EAAO,UACrB,MAEG,sBACH,MAAO,CACL,GAAGD,EACH,cAAe,CACb,GAAGP,GACH,GAAGQ,EAAO,aACZ,CACF,MAEG,4BACH,MAAO,CACL,GAAGD,EACH,oBAAqBC,EAAO,mBAC9B,MAEG,iBACH,MAAO,CACL,GAAGD,EACH,SAAUC,EAAO,QACnB,UAGA,MAAM,IAAI,MAAM,0BAA0BA,EAAO,MAAM,EAG7D,CAOA,IAAMC,GAAgD,CAAC,CACrD,aAAAC,EAAeT,GACf,SAAAU,CACF,IAAM,CACJ,GAAM,CAACJ,EAAOK,CAAQ,EAAI,EAAAR,QAAM,WAE9BE,GAAeI,CAAY,EAE7B,OACE,EAAAN,QAAA,cAACD,GAAmB,SAAnB,CAA4B,MAAOI,GAClC,EAAAH,QAAA,cAACC,GAAsB,SAAtB,CACC,MAAOO,GAEND,CACH,CACF,CAEJ,EAEA,SAASE,GAAiB,CACxB,IAAMC,EAAU,EAAAV,QAAM,WAAWD,EAAkB,EACnD,GAAIW,IAAY,OACd,MAAM,IAAI,MAAM,qDAAqD,EAEvE,OAAOA,CACT,CAEA,SAASC,IAAoB,CAC3B,IAAMD,EAAU,EAAAV,QAAM,WAAWC,EAAqB,EACtD,GAAIS,IAAY,OACd,MAAM,IAAI,MAAM,wDAAwD,EAE1E,OAAOA,CACT,CMtJA,IAAAE,EAA2C,oBCG3C,SAASC,GAAOC,EAAU,CAExB,OAAKA,EAAI,QAIF,GAAGA,EAAI,QAAQ,GAAG,YAAYA,EAAI,QAAU,oBAH1CA,EAAI,EAIf,CAGO,IAAMC,GACXC,GACuB,CACvB,GAAI,EAACA,EACL,GAAI,CAIF,IAAMC,EACJD,EAAmB,UACrB,OAAIC,GAAaA,EAAU,OAAS,EAC3BJ,GAAOI,EAAU,EAAE,EAOrBJ,GAAOG,EAAmB,MAAM,GAAG,MAAM,GAAG,IAAI,CACzD,OAAS,EAAP,CACA,QAAQ,MAAM,6CAA8C,CAAC,EAC7D,MACF,CACF,ECnBO,IAAME,GAAsB,CACjCC,EACAC,EACAC,EACAC,IACiB,CAtBnB,IAAAC,EAAAC,EAuBE,IAAMC,EAAuB,CAC3B,OAAQ,OACR,mBAAoB,OACpB,eAAgB,OAChB,YAAa,CAAC,CAChB,EAEMC,EAAqBC,GAA2B,CACpD,GAAIA,EAAY,CAEd,GAAI,CAACA,EAAW,MAAQ,CAACA,EAAW,WAAY,CAC9C,QAAQ,MACN,mFACAA,CACF,EACA,MACF,CAEA,GAAI,CAACA,EAAW,KAAM,OAEtB,IAAIC,EAAiBD,EAAW,KAI5B,MAAM,QAAQC,CAAc,IAAGA,EAAiBA,EAAe,IAEnE,IAAMC,EAAoCV,EAAM,IAAIS,EAAe,EAAE,EACrE,GAAI,CAACC,EAAU,OACf,OAAQR,OACD,WACH,OACEM,EAAW,SAAWP,EAAK,IAC3BO,EAAW,YACXA,EAAW,WAAW,KAAO,YAC7BL,EAAa,SAASO,EAAS,IAAI,IAEnCF,EAAW,KAAOE,GACbF,MACJ,gBACH,eAEA,MAAM,IAAI,MAAM,gCAAgC,EAGtD,CACF,EAEA,OAAAF,EAAO,OAASN,EAAM,IAAIC,CAAI,EAE1BK,EAAO,SACTA,EAAO,eAAiBN,EAAM,IAAIM,EAAO,OAAO,MAAM,EAAE,EACxDA,EAAO,oBAAqBF,EAAAE,EAAO,SAAP,MAAAF,EAAe,mBACvCJ,EAAM,KAAIK,EAAAC,EAAO,SAAP,YAAAD,EAAe,kBAAkB,EAC3C,QAGFC,EAAO,iBACTA,EAAO,YAAcN,EAClB,IAAIM,EAAO,eAAe,KAAK,EAC/B,OAAOC,CAAiB,GAEtBD,CACT,EClFO,IAAMK,EAAW,CACtBC,EACAC,EAAmB,OAChB,CAIH,GAAI,CAACD,EAAO,MAAO,GAMnB,GAAI,CAACA,EAAMC,GAAW,CACpB,IAAMC,EAAuB,OAAO,oBAAoBF,CAAK,EAC7D,GAAIE,EAAM,OAAS,EAAG,OAAOF,EAAME,EAAM,GAC3C,CAKA,OAAOF,EAAMC,EACf,ECtBO,IAAME,GAAsB,CACjCC,EACAC,IACwC,CACxC,IAAMC,EAAeC,GACnBH,EACA,CAAE,GAAAC,EAAI,KAAM,QAAS,EACrB,WACA,CAAC,QAAS,QAAS,OAAO,CAC5B,EAEA,GAAIC,EAAa,YAAY,SAAW,GAEpCA,EAAa,YAAY,IAAMA,EAAa,YAAY,GAAG,KAC7D,OAAOA,EAAa,YAAY,GAAG,IAGvC,ECAO,IAAME,GAA4B,CACvCC,EACAC,EACAC,IAC2B,CAC3B,IAAMC,EAA2BH,EAAM,IAAI,CACzC,GAAIC,EACJ,KAAM,QACR,CAAC,EAED,GAAI,EAACE,GAAA,MAAAA,EAAQ,cAAe,CAACA,EAAO,YAAY,GAAI,MAAO,CAAC,EAE5D,IAAMC,EAAiCJ,EAAM,IAAIG,EAAO,YAAY,EAAE,EAEhEE,EAA4BL,EAAM,IAAII,EAAe,KAAK,EAChE,OAAK,MAAM,QAAQC,CAAW,EAEvBA,EACJ,OAAQC,GAAe,CAtC5B,IAAAC,EAuCM,GAAI,EAACD,EAAW,OACZC,EAAAD,EAAW,aAAX,MAAAC,EAAuB,SAAS,iBAAkB,CACpD,IAAIC,EAAiBF,EAAW,KAI5B,MAAM,QAAQE,CAAc,IAAGA,EAAiBA,EAAe,IAEnE,IAAMC,EAAoCT,EAAM,IAAIQ,EAAe,EAAE,EACrE,GAAIC,EAAS,SAAWP,EACtB,OAAAI,EAAW,KAAOG,EACXH,CAEX,CACF,CAAC,EACA,IAAKI,GACGA,EAAS,IACjB,EArBqC,CAAC,CAsB3C,ECtDO,IAAMC,GAAe,CAC1BC,EACAC,EACAC,EACAC,IACG,CAIH,IAAIC,EAA6C,CAAC,EAKlD,GAAIH,EAAO,QACLA,EAAO,OAAO,UAAU,OAAS,EAAG,CACtC,IAAMI,EAA2CL,EAAM,IACrDC,EAAO,OAAO,UAAU,EAC1B,EACAG,EAAW,KAAKC,CAAe,CACjC,CAEF,GAAIJ,EAAO,YAAY,GAAI,CAIzB,GAAIA,EAAO,YAAY,GAAG,WACpBA,EAAO,YAAY,GAAG,UAAU,OAAS,EAAG,CAC9C,IAAMK,EAA+CN,EAAM,IACzDC,EAAO,YAAY,GAAG,UAAU,EAClC,EACAG,EAAW,KAAKE,CAAmB,CACrC,CAKF,GAAI,CAACL,EAAO,YAAY,GAAG,KAAM,OACjC,IAAMM,EAAiBN,EAAO,YAAY,GACvC,KAECM,EAAe,OAAS,SAASH,EAAW,KAAKG,CAAc,CACrE,CAKA,OAAIH,EAAW,SAAW,EAAG,OAEsB,CACjD,GAAIA,EAAW,GAAG,GAClB,OAAQA,EAAW,GAAG,OACtB,KAAMA,EAAW,GAAG,KACpB,MAAOF,EACP,OAAQC,CACV,CASF,ECnEA,IAAAK,GAA+B,2BAElBC,GAAQ,CACnB,OAAQ,CAKN,QAAS,UACT,aAAc,UACd,WAAY,UAMZ,OAAQ,UACR,YAAa,UACb,UAAW,UAMX,UAAW,UACX,eAAgB,UAChB,aAAc,SAChB,EACA,MAAO,CACL,KAAM,6BACN,QAAS,yCACX,EACA,YAAa,CACX,IAAK,yCACP,CACF,EAEaC,GAAQ,CACnB,IAAK,qBACL,GAAI,qBACJ,GAAI,qBACJ,GAAI,qBACJ,GAAI,sBACJ,GAAI,qBACN,EAEa,CAAE,OAAAC,EAAQ,IAAAC,GAAK,UAAAC,GAAW,YAAAC,EAAY,KAAI,mBAAe,CACpE,MAAAL,GACA,MAAAC,EACF,CAAC,EChDD,IAAAK,GAA6B,0CAEvBC,GAAeC,EAAO,MAAO,CACjC,SAAU,WACV,OAAQ,GACV,CAAC,EAEKC,GAAUD,EAAO,MAAO,CAC5B,QAAS,OACT,cAAe,MACf,SAAU,SAEV,MAAO,CACL,cAAe,QACjB,CACF,CAAC,EAEKE,GAAOF,EAAO,MAAO,CACzB,QAAS,OACT,cAAe,SACf,SAAU,IACV,WAAY,IACZ,MAAO,QAEP,MAAO,CACL,MAAO,MACT,CACF,CAAC,EAEKG,GAAqBH,EAAmB,WAAS,CACrD,QAAS,OACT,WAAY,cACZ,OAAQ,OACR,OAAQ,IACR,QAAS,IACT,WAAY,OACZ,QAAS,IACT,UAAW,IAEX,4BAA6B,CAC3B,QAAS,IACT,UAAW,OACb,EAEA,MAAO,CACL,QAAS,OAET,SAAU,CACR,QAAS,OACT,SAAU,IACV,OAAQ,aACV,CACF,CACF,CAAC,EAEKI,GAAqBJ,EAAmB,WAAS,CACrD,MAAO,OACP,QAAS,MACX,CAAC,EAEKK,GAAQL,EAAO,QAAS,CAC5B,QAAS,OACT,SAAU,IACV,WAAY,IACZ,MAAO,QACP,UAAW,OAEX,MAAO,CACL,MAAO,MACT,CACF,CAAC,EAEKM,GAAUN,EAAO,MAAO,CAC5B,QAAS,OACT,cAAe,SACf,WAAY,QACZ,gBAAiB,aACjB,WAAY,OACZ,oBAAqB,cAErB,QAAS,CACP,QAAS,OACT,cAAe,SACf,SAAU,IACV,eAAgB,aAEhB,MAAO,CACL,CAAC,KAAKC,MAAY,CAChB,SAAU,GACZ,EAEA,CAAC,KAAKC,MAAS,CACb,SAAU,GACZ,CACF,CACF,EAEA,MAAO,CACL,QAAS,GACX,EAEA,gCAAiC,CAC/B,MAAO,CACL,SAAU,QACV,OAAQ,OACR,MAAO,OACP,IAAK,IACL,KAAM,IACN,OAAQ,aAER,CAAC,KAAKH,MAAiB,CACrB,QAAS,MACX,EAEA,CAAC,KAAKK,MAAuB,CAC3B,OAAQ,MACV,CACF,CACF,CACF,CAAC,ECxHD,IAAAG,GAAoC,iBAEvBC,GAAiBC,GAAuB,CACnD,IAAMC,EAAQ,IACP,OAAO,WAGL,OAAO,WAAWD,CAAU,EAAE,QAF5B,GAKL,CAACE,EAASC,CAAU,KAAI,aAAkBF,CAAK,EAErD,uBAAU,IAAM,CACd,IAAMG,EAAU,IAAMD,EAAWF,CAAK,EACtC,cAAO,iBAAiB,SAAUG,CAAO,EAClC,IAAM,OAAO,oBAAoB,SAAUA,CAAO,CAC3D,CAAC,EAEMF,CACT,ECnBA,IAAAG,GAAqD,iBAIxCC,GAAgB,CAACC,EAAgB,KAAsB,CAClE,GAAM,CAACC,EAAQC,CAAS,KAAI,aAASF,CAAa,EAElD,6BAAgB,IAAM,CACpB,GAAI,CAACC,EACH,OAGF,IAAME,EAAmB,SAAS,gBAAgB,MAAM,SAExD,gBAAS,gBAAgB,MAAM,SAAW,SAEnC,IAAM,CACX,SAAS,gBAAgB,MAAM,SAAWA,CAC5C,CACF,EAAG,CAACF,CAAM,CAAC,KAEX,cAAU,IAAM,CACVA,IAAWD,GACbE,EAAUF,CAAa,CAE3B,EAAG,CAACA,CAAa,CAAC,EAEX,CAACC,EAAQC,CAAS,CAC3B,EVbA,IAAAE,GAA6B,0CWf7B,IAAAC,EAAkB,oBCClB,IAAAC,GAAwB,gCCDxB,IAAAC,GAAwB,qCAGxB,IAAMC,GAAiBC,EAAO,MAAO,CACnC,OAAQ,OACR,MAAO,UACP,KAAM,UACN,OAAQ,UACR,QAAS,OACT,OAAQ,iBACV,CAAC,EAEKC,GAAmBD,EAAc,WAAS,CAC9C,SAAU,UACV,WAAY,MACZ,WAAY,WACZ,UAAW,aACX,SAAU,IACV,gBAAiB,aACjB,OAAQ,UACR,WAAY,OACZ,OAAQ,4BACR,UAAW,oBACX,aAAc,MACd,QAAS,OACT,WAAY,SACZ,YAAa,SAEb,MAAO,CACL,SAAU,MACZ,CACF,CAAC,EAEKE,GAAoBF,EAAc,WAAS,CAC/C,aAAc,MACd,UAAW,oBACX,gBAAiB,aACjB,UAAW,UACX,WAAY,MACZ,cAAe,UACf,UAAW,mCACX,oBAAqB,IACrB,OAAQ,4BACR,SAAU,MACZ,CAAC,EAEKG,GAAiBH,EAAc,QAAM,CACzC,QAAS,OACT,WAAY,SACZ,WAAY,QACZ,QAAS,iBACT,MAAO,WACP,WAAY,MACZ,SAAU,YACV,OAAQ,UACR,gBAAiB,aACjB,MAAO,oBAEP,SAAU,CACR,WAAY,SACZ,aAAc,WACd,SAAU,QACZ,EAEA,0BAA2B,CACzB,WAAY,MACZ,MAAO,qBACT,EAEA,UAAW,CACT,MAAO,SACT,EAEA,IAAK,CACH,MAAO,OACP,OAAQ,OACR,YAAa,SACb,aAAc,KAChB,CACF,CAAC,EAEKI,GAAkBJ,EAAc,SAAO,CAC3C,MAAO,gBACP,WAAY,QACZ,SAAU,UACV,QAAS,4BACT,QAAS,OACT,WAAY,SACZ,aAAc,UACd,aAAc,MACd,oBAAqB,IACrB,uBAAwB,IACxB,wBAAyB,IACzB,gBAAiB,iBACnB,CAAC,EAEKK,GAAmBL,EAAO,MAAO,CACrC,SAAU,WACV,OAAQ,GACV,CAAC,ED/FD,IAAMM,GAAkBC,EAAO,WAAQ,QAAS,CAC9C,MAAO,OACP,QAAS,MACT,OAAQ,YACV,CAAC,EAEKC,GAAmBD,EAAO,WAAQ,QAAS,CAC/C,QAAS,OACT,cAAe,SACf,SAAU,YACV,OAAQ,OACR,UAAW,oBACX,OAAQ,IAER,OAAQ,CACN,QAAS,OACT,eAAgB,OAChB,WAAY,QACZ,aAAc,QACd,MAAO,aACP,OAAQ,UACR,WAAY,aACZ,OAAQ,OAER,CAAC,gBAAiB,CAChB,aAAc,GAChB,CACF,CACF,CAAC,EAEKE,GAAgBF,EAAO,OAAQ,CACnC,SAAU,UACV,WAAY,MACZ,WAAY,WACZ,UAAW,aACX,SAAU,IACV,WAAY,IAEZ,MAAO,CACL,SAAU,MACZ,CACF,CAAC,EAEKG,GAASH,EAAO,SAAU,CAC9B,QAAS,OACT,gBAAiB,yBACjB,eAAgB,WAChB,QAAS,OAET,CAAC,KAAKI,MAAqB,CACzB,SAAU,IACV,WAAY,GACd,EAEA,KAAM,CACJ,SAAU,IACV,WAAY,GACd,CACF,CAAC,EDpDD,IAAAC,GAAwB,gCGVxB,IAAAC,EAAkB,oBAEZC,GAAsB,IAAM,CAChC,IAAMC,EAAM,UACNC,EAAO,UAEb,OACE,EAAAC,QAAA,cAAC,OAAI,QAAQ,0BAA0B,GAAG,YAAY,QAAQ,OAC5D,EAAAA,QAAA,cAAC,aAAM,uBAAqB,EAC5B,EAAAA,QAAA,cAAC,KAAE,UAAU,gDACX,EAAAA,QAAA,cAAC,KAAE,UAAU,cACX,EAAAA,QAAA,cAAC,QACC,MAAO,CAAE,KAAMD,CAAK,EACpB,EAAE,oEACJ,EACA,EAAAC,QAAA,cAAC,QACC,MAAO,CAAE,KAAMD,CAAK,EACpB,EAAE,uMACJ,EACA,EAAAC,QAAA,cAAC,QACC,MAAO,CAAE,KAAMF,CAAI,EACnB,EAAE,oEACJ,EACA,EAAAE,QAAA,cAAC,QACC,MAAO,CAAE,KAAMF,CAAI,EACnB,EAAE,4LACJ,EACA,EAAAE,QAAA,cAAC,QACC,MAAO,CAAE,KAAMD,CAAK,EACpB,EAAE,oEACJ,EACA,EAAAC,QAAA,cAAC,QACC,MAAO,CAAE,KAAMD,CAAK,EACpB,EAAE,wLACJ,EACA,EAAAC,QAAA,cAAC,QACC,MAAO,CAAE,KAAMF,CAAI,EACnB,EAAE,4KACJ,CACF,CACF,CACF,CAEJ,EAEOG,GAAQJ,GC7Cf,IAAAK,GAAkB,oBCAlB,IAAAC,GAAiD,iBAIpCC,GAAqB,CAChCC,EACAC,EAAgB,OACa,CAC7B,GAAM,CAACC,EAAYC,CAAa,KAAI,aAAqB,EACnDC,KAAO,gBAAY,IAAM,CAC7B,UAAU,UAAU,UAAUJ,CAAI,EAAE,KAClC,IAAMG,EAAc,QAAQ,EAC5B,IAAMA,EAAc,QAAQ,CAC9B,CACF,EAAG,CAACH,CAAI,CAAC,EAET,uBAAU,IAAM,CACd,GAAI,CAACE,EACH,OAGF,IAAMG,EAAY,WAAW,IAAMF,EAAc,MAAS,EAAGF,CAAa,EAE1E,MAAO,IAAM,aAAaI,CAAS,CACrC,EAAG,CAACH,CAAU,CAAC,EAER,CAACA,EAAYE,CAAI,CAC1B,EDvBA,IAAME,GAASC,EAAO,OAAQ,CAC5B,QAAS,OACT,aAAc,SACd,WAAY,SACZ,QAAS,qBACT,UAAW,YACX,WAAY,SACZ,gBAAiB,UACjB,MAAO,aACP,aAAc,MACd,SAAU,YACV,cAAe,YACf,WAAY,KACd,CAAC,EAEKC,GAAmD,CAAC,CAAE,OAAAC,CAAO,IAC5DA,EAEE,GAAAC,QAAA,cAACJ,GAAA,CAAO,mBAAkBG,GAASA,CAAO,EAF7B,KAKTE,GAAiE,CAAC,CAC7E,WAAAC,EACA,WAAAC,CACF,IAAM,CACJ,GAAM,CAACC,EAAYC,CAAQ,EAAIC,GAAmBH,CAAU,EAC5D,OACE,GAAAH,QAAA,cAAC,UAAO,QAASK,GACdH,EAAW,IAAC,GAAAF,QAAA,cAACF,GAAA,CAAe,OAAQM,EAAY,CACnD,CAEJ,EAEOG,GAAQN,GErCf,IAAAO,EAAwB,qCAQxB,IAAAC,GAAiC,gCAEjC,IAAAC,EAAkB,oBCVlB,IAAAC,GAAkB,oBAQlB,IAAMC,GAAwC,CAAC,CAAE,UAAAC,EAAW,MAAAC,CAAM,IAc9D,GAAAC,QAAA,cAACC,GAAA,CACC,MAAM,6BACN,UAAU,QACV,QAAQ,cACR,KAAK,OAEL,GAAAD,QAAA,cAAC,aAAOD,CAAM,EACbD,IAAc,MAAQ,GAAAE,QAAA,cApBX,IAEZ,GAAAA,QAAA,cAAC,QAAK,EAAE,mIAAmI,EAkBnH,IAAQ,EAC/BF,IAAc,QAAU,GAAAE,QAAA,cAfX,IAEd,GAAAA,QAAA,cAAC,QAAK,EAAE,mIAAmI,EAajH,IAAU,CACtC,EAIGE,GAAQL,GDrBf,IAAMM,GAAuB,IAAM,CACjC,IAAMC,EAAgBC,GAAkB,EAClCC,EAAmBC,EAAe,EAElC,CAAE,eAAAC,EAAgB,WAAAC,EAAY,cAAAC,EAAe,MAAAC,CAAM,EAAIL,EACvDM,EAAYF,GAAA,YAAAA,EAAe,aASjC,OACE,EAAAG,QAAA,cAACC,GAAA,KACC,EAAAD,QAAA,cAAQ,OAAP,CAAY,MAAOL,EAAgB,cATbO,GAAuB,CAChDX,EAAS,CACP,KAAM,uBACN,WAAYW,CACd,CAAC,CACH,GAKM,EAAAF,QAAA,cAACG,GAAA,KACC,EAAAH,QAAA,cAAQ,QAAP,IAAa,EACd,EAAAA,QAAA,cAAQ,OAAP,KACC,EAAAA,QAAA,cAACI,GAAA,CAAK,UAAU,OAAO,MAAM,yBAAyB,CACxD,CACF,EACA,EAAAJ,QAAA,cAACK,GAAA,CAAkB,IAAK,CAAE,UAAW,GAAGN,cAAuB,GAC7D,EAAAC,QAAA,cAAQ,iBAAP,KACC,EAAAA,QAAA,cAACI,GAAA,CAAK,UAAU,KAAK,MAAM,qBAAqB,CAClD,EACA,EAAAJ,QAAA,cAAQ,WAAP,KACC,EAAAA,QAAA,cAAQ,QAAP,KACC,EAAAA,QAAA,cAACM,GAAA,KACC,EAAAN,QAAA,cAAC,UAAM,MAAOJ,EAAW,MAAO,CAClC,EACCA,EAAW,MAAM,IAAKW,GACrB,EAAAP,QAAA,cAACQ,GAAA,CAAe,MAAOD,EAAK,GAAI,IAAKA,EAAK,IACxC,EAAAP,QAAA,cAAC,cAAU,UAAWF,EAAM,IAAIS,EAAK,SAAS,EAAG,EACjD,EAAAP,QAAA,cAAQ,WAAP,KACC,EAAAA,QAAA,cAAC,UAAM,MAAOO,EAAK,MAAO,CAC5B,EACA,EAAAP,QAAA,cAAQ,gBAAP,IAAqB,CACxB,CACD,CACH,CACF,EACA,EAAAA,QAAA,cAAQ,mBAAP,KACC,EAAAA,QAAA,cAACI,GAAA,CAAK,UAAU,OAAO,MAAM,uBAAuB,CACtD,CACF,CACF,CACF,CAEJ,EAEOK,GAAQnB,GNnDf,IAAAoB,GAAsB,gCQdtB,IAAAC,EAA2C,oBCA3C,IAAAC,GAAwB,qCAElBC,GAAeC,EAAc,QAAM,CACvC,IAAK,QACL,OAAQ,OACR,MAAO,WACP,gBAAiB,gBACjB,aAAc,SACd,SAAU,WACV,wBAAyB,cACzB,OAAQ,UAER,UAAW,CACT,UAAW,yBACb,EAEA,0BAA2B,CACzB,gBAAiB,UACjB,UAAW,yBACb,CACF,CAAC,EAEKC,GAAcD,EAAc,SAAO,CACvC,QAAS,QACT,OAAQ,oBACR,MAAO,oBACP,gBAAiB,aACjB,aAAc,OACd,UAAW,oBACX,WAAY,OACZ,UAAW,kBACX,WAAY,YAEZ,0BAA2B,CACzB,UAAW,kCACb,CACF,CAAC,EAEKE,GAAUF,EAAO,MAAO,CAC5B,QAAS,OACT,WAAY,SACZ,YAAa,UACf,CAAC,EAEKG,GAAQH,EAAO,QAAS,CAC5B,SAAU,YACV,WAAY,QACZ,WAAY,MACZ,WAAY,MACZ,WAAY,OACZ,OAAQ,UACR,MAAO,WACP,QAAS,MACT,aAAc,UAChB,CAAC,EAEKI,GAAeJ,EAAO,OAAQ,CAAC,CAAC,ED/CtC,IAAMK,GAAS,IAAM,CACnB,IAAMC,EAAgBC,GAAkB,EAElC,CAACC,EAASC,CAAU,KAAI,YAAS,EAAI,EAE3C,sBAAU,IAAM,CACdH,EAAS,CACP,KAAM,4BACN,oBAAqBE,CACvB,CAAC,CACH,EAAG,CAACA,CAAO,CAAC,EAGV,EAAAE,QAAA,cAACC,GAAA,KACC,EAAAD,QAAA,cAACE,GAAA,KACC,EAAAF,QAAA,cAACG,GAAA,CACC,QAAQ,qBACR,IAAKL,EAAU,CAAE,QAAS,GAAI,EAAI,CAAC,GACpC,kBAED,EACA,EAAAE,QAAA,cAACI,GAAA,CACC,QAASN,EACT,gBAAiB,IAAMC,EAAW,CAACD,CAAO,EAC1C,GAAG,sBAEH,EAAAE,QAAA,cAACK,GAAA,IAAY,CACf,CACF,CACF,CAEJ,EAEOC,GAAQX,GRpBf,IAAMY,GAAgC,CAAC,CAAE,WAAAC,EAAY,cAAAC,CAAc,IAAM,CACvE,IAAMC,EAAmBC,EAAe,EAClC,CAAE,WAAAC,EAAY,cAAAC,CAAc,EAAIH,EAEhC,CAAE,UAAAI,EAAW,cAAAC,EAAe,sBAAAC,CAAsB,EAAIH,EAE5D,MACE,EAACD,GAAA,MAAAA,EAAY,QACb,CAACE,GACD,CAACC,GACD,CAACC,EAEM,EAAAC,QAAA,gBAAAA,QAAA,aAAE,EAGT,EAAAA,QAAA,cAACC,GAAA,CAAO,UAAU,iBACfN,GAAA,MAAAA,EAAY,MACX,EAAAK,QAAA,cAACE,GAAA,IAAW,EAEZ,EAAAF,QAAA,cAACG,GAAA,KACC,EAAAH,QAAA,cAAC,UAAM,MAAOR,EAAe,CAC/B,EAEDM,GACC,EAAAE,QAAA,cAAC,gBACC,EAAAA,QAAA,cAACI,GAAA,KACC,EAAAJ,QAAA,cAACK,GAAA,IAAU,CACb,EACA,EAAAL,QAAA,cAACM,GAAA,MACEX,GAAA,YAAAA,EAAY,QACX,EAAAK,QAAA,cAAC,UACC,QAAUO,GAAM,CACdA,EAAE,eAAe,EACjB,OAAO,KAAKZ,EAAW,GAAI,QAAQ,CACrC,GACD,iBAED,EAEF,EAAAK,QAAA,cAAC,UACC,QAAUO,GAAM,CACdA,EAAE,eAAe,EACjB,OAAO,KAAKhB,EAAY,QAAQ,CAClC,GACD,eAED,EAAU,KACTI,GAAA,YAAAA,EAAY,QACX,EAAAK,QAAA,cAACQ,GAAA,CACC,WAAW,sBACX,WAAYb,EAAW,GACzB,EAEF,EAAAK,QAAA,cAACQ,GAAA,CAAS,WAAW,oBAAoB,WAAYjB,EAAY,CACnE,CACF,EAEDQ,GAAyB,EAAAC,QAAA,cAACS,GAAA,IAAO,CACpC,CAEJ,EAEOC,GAAQpB,GUrFf,IAAAqB,EAAkB,oBCAlB,IAAAC,EAA2C,oBCA3C,IAAAC,GAA4B,0CAG5B,IAAMC,GAAQC,EAAkB,QAAM,CACpC,QAAS,OACT,cAAe,MACf,SAAU,IACV,QAAS,WACT,UAAW,SACX,SAAU,WACV,OAAQ,GACV,CAAC,ECXD,IAAAC,EAAkB,oBCAX,IAAMC,GAAaC,GAA6B,CACrD,IAAIC,EAAQD,EAAiB,SAAS,EAAE,MAAM,GAAG,EAC7CE,EAAgB,KAAK,KAAK,SAASD,EAAM,EAAE,CAAC,EAC5CE,EAAkB,KAAK,KAAK,SAASF,EAAM,EAAE,CAAC,EAC9CG,EAAkBC,GAAQ,KAAK,KAAK,SAASJ,EAAM,EAAE,CAAC,EAAG,CAAC,EAM9D,IAAIK,EAAe,GAFjBJ,IAAU,GAAKC,EAAU,IAAMA,EAAU,IAAI,SAAS,EAAG,GAAG,EAAIA,KAExBC,IAE1C,OAAIF,IAAU,IACZI,EAAO,GAAGJ,KAASI,KAGdA,CACT,EAEaC,GAAeC,GAAqB,CAC/C,IAAMR,EAA2B,IAAI,KAAKQ,EAAW,GAAI,EACtD,YAAY,EACZ,OAAO,GAAI,CAAC,EACf,OAAOT,GAAUC,CAAgB,CACnC,EAQA,IAAMS,GAAU,CAACC,EAAaC,IAC5B,OAAOD,CAAG,EAAE,SAASC,EAAQ,GAAG,ED3BlC,IAAAC,GAA0B,gCEN1B,IAAAC,GAA4B,0CAE5B,IAAAC,GAAoB,gCAEdC,GAAOC,EAAO,OAAQ,CAC1B,QAAS,MACX,CAAC,EAEKC,GAASD,EAAO,OAAQ,CAC5B,QAAS,OACT,MAAO,YACP,OAAQ,WACV,CAAC,EAEKE,GAAWF,EAAO,OAAQ,CAC9B,QAAS,cACT,WAAY,MACZ,aAAc,MAChB,CAAC,EAEKG,GAAOH,EAAkB,QAAM,CACnC,QAAS,OACT,WAAY,IACZ,OAAQ,iBACR,QAAS,IACT,OAAQ,UACR,WAAY,OACZ,OAAQ,OACR,WAAY,UACZ,WAAY,SACZ,SAAU,OACV,UAAW,OAEX,eAAgB,CACd,YAAa,MACf,EAEA,OAAQ,CACN,OAAQ,IACR,MAAO,UAEP,QAAS,CACP,SAAU,WACV,QAAS,OACT,gBAAiB,gBACjB,MAAO,UACP,OAAQ,QACR,SAAU,SACV,aAAc,MACd,WAAY,OAEZ,IAAK,CACH,MAAO,OACP,OAAQ,OACR,UAAW,QACX,OAAQ,UACR,UAAW,mBACX,WAAY,OACZ,MAAO,aACT,EAEA,CAAC,KAAKD,MAAS,CACb,SAAU,WACV,MAAO,IACP,OAAQ,IAER,CAAC,KAAK,UAAQ,CACZ,OAAQ,IACR,YAAa,IACb,SAAU,YACV,gBAAiB,QACjB,MAAO,aACP,KAAM,aACN,uBAAwB,IACxB,qBAAsB,GACxB,CACF,CACF,EAEA,WAAY,CACV,UAAW,SACX,MAAO,gBACP,WAAY,MACZ,SAAU,YACV,QAAS,cACT,SAAU,SACV,aAAc,WACd,gBAAiB,IAEjB,MAAO,CACL,SAAU,WACZ,CACF,CACF,EAEA,yBAA0B,CACxB,OAAQ,CACN,QAAS,CACP,gBAAiB,cAEjB,YAAa,CACX,SAAU,WACV,OAAQ,IACR,MAAO,kBACP,QAAS,cACT,cAAe,YACf,WAAY,MACZ,SAAU,YACV,cAAe,UACf,QAAS,OACT,MAAO,OACP,OAAQ,OACR,cAAe,SACf,eAAgB,SAChB,UAAW,SACX,WAAY,mBACd,EAEA,IAAK,CACH,QAAS,MACT,UAAW,yBACX,OAAQ,WACV,EAEA,CAAC,KAAKA,MAAS,CACb,CAAC,KAAK,UAAQ,CACZ,gBAAiB,SACnB,CACF,CACF,CACF,EAEA,WAAY,CACV,WAAY,MACZ,MAAO,UACT,CACF,CACF,CAAC,EF5HD,IAAAK,GAAsB,gCAUtB,IAAMC,GAAoC,CAAC,CAAE,KAAAC,CAAK,IAAM,CACtD,OAAQA,OACD,QACH,OAAO,EAAAC,QAAA,cAAC,QAAK,MAAL,IAAW,MAChB,QACH,OAAO,EAAAA,QAAA,cAAC,QAAK,MAAL,IAAW,MAChB,QACH,OAAO,EAAAA,QAAA,cAAC,QAAK,MAAL,IAAW,UAEnB,OAAO,EAAAA,QAAA,cAAC,QAAK,MAAL,IAAW,EAEzB,EAcMC,GAAsC,CAAC,CAC3C,OAAAC,EACA,YAAAC,EACA,SAAAC,EACA,UAAAC,EACA,KAAAN,EACA,aAAAO,CACF,IAEI,EAAAN,QAAA,cAACO,GAAA,CACC,eAAcH,EACd,cAAY,kBACZ,cAAaD,EACb,QAAS,IAAMG,EAAaJ,EAAO,EAAE,EACrC,MAAOA,EAAO,IAEd,EAAAF,QAAA,cAAC,cACC,EAAAA,QAAA,cAAC,YACEK,GAAA,YAAAA,EAAW,KACV,EAAAL,QAAA,cAAC,OACC,IAAKK,EAAU,GACf,IAAKH,GAAA,MAAAA,EAAQ,MAASM,EAASN,EAAO,KAAK,EAAe,GAC5D,EAGF,EAAAF,QAAA,cAACS,GAAA,KACC,EAAAT,QAAA,cAAC,QAAI,OAAM,GAAC,cAAY,iBACtB,EAAAA,QAAA,cAACU,GAAA,IAAO,EACR,EAAAV,QAAA,cAAC,SAAK,aAAYD,GAChB,EAAAC,QAAA,cAACF,GAAA,CAAS,KAAMC,EAAM,CACxB,EACC,CAAC,QAAS,OAAO,EAAE,SAASA,CAAI,GAC/B,EAAAC,QAAA,cAACW,GAAA,KAAUC,GAAYV,EAAO,QAAkB,CAAE,CAEtD,CACF,CACF,GACCA,GAAA,YAAAA,EAAQ,QACP,EAAAF,QAAA,cAAC,cAAW,cAAY,eACtB,EAAAA,QAAA,cAAC,UAAM,MAAOE,EAAO,MAAO,CAC9B,CAEJ,CACF,EAIGW,GAAQZ,GG/FR,IAAMa,GAAmBC,GACzBA,EAAW,KAETA,EAAW,KAAK,KAFM,QCD/B,IAAAC,EAA2C,oBCE3C,IAAMC,GAAOC,EAAO,MAAO,CACzB,SAAU,WACV,MAAO,OACP,IAAK,OACL,QAAS,OACT,eAAgB,WAChB,OAAQ,GACV,CAAC,EAEKC,GAAQD,EAAO,QAAS,CAC5B,SAAU,IACV,OAAQ,OACR,gBAAiB,kBACjB,MAAO,WACP,YAAa,OACb,OAAQ,OACR,QAAS,SACT,aAAc,OACd,WAAY,QACZ,SAAU,OACV,WAAY,OACZ,UAAW,0BAEX,iBAAkB,CAChB,MAAO,eACT,CACF,CAAC,EAEKE,GAASF,EAAO,SAAU,CAC9B,QAAS,OACT,WAAY,OACZ,OAAQ,OACR,MAAO,kBACP,OAAQ,kBACR,QAAS,IACT,OAAQ,IACR,WAAY,MACZ,aAAc,OACd,gBAAiB,UACjB,MAAO,aACP,OAAQ,UACR,UAAW,yBACX,WAAY,OAEZ,IAAK,CACH,OAAQ,MACR,MAAO,MACP,QAAS,MACT,KAAM,aACN,OAAQ,aACR,QAAS,IACT,OAAQ,iCACR,UAAW,UACX,WAAY,MACd,EAEA,aAAc,CACZ,gBAAiB,cACjB,UAAW,OACX,IAAK,CAAE,QAAS,MAAO,CACzB,CACF,CAAC,EAEKG,GAAYH,EAAO,MAAO,CAC9B,QAAS,OACT,YAAa,WACb,gBAAiB,aACjB,aAAc,OACd,UAAW,oBACX,MAAO,aACP,WAAY,SAEZ,SAAU,CACR,QAAS,OACT,OAAQ,WACR,SAAU,WACZ,CACF,CAAC,EAEKI,GAAUJ,EAAO,MAAO,CAC5B,QAAS,OACT,SAAU,WACV,OAAQ,IACR,MAAO,OACP,QAAS,IACT,WAAY,OAEZ,SAAU,CACR,SAAU,CACR,KAAM,CACJ,WAAY,WAEZ,CAAC,KAAKD,MAAS,CACb,MAAO,oBAEP,MAAO,CACL,MAAO,mBACT,CACF,CACF,CACF,CACF,CACF,CAAC,ECxGD,IAAAM,GAA0B,iBAMpBC,GAAc,CAACC,EAAaC,IAAuB,IACvD,cAAU,IAAM,CACd,SAASC,EAAQC,EAAkB,CAC7BA,EAAE,MAAQH,GAAKC,EAAO,CAC5B,CACA,cAAO,iBAAiB,QAASC,CAAO,EACjC,IAAM,OAAO,oBAAoB,QAASA,CAAO,CAC1D,EAAG,CAAC,CAAC,CACP,EAEOE,GAAQL,GFAf,IAAMM,GAAyB,IAE3B,EAAAC,QAAA,cAAC,OAAI,MAAM,6BAA6B,QAAQ,eAC9C,EAAAA,QAAA,cAAC,aAAM,YAAU,EACjB,EAAAA,QAAA,cAAC,QACC,KAAK,OACL,OAAO,eACP,cAAc,QACd,eAAe,QACf,iBAAiB,KACjB,YAAY,KACZ,EAAE,uCACJ,CACF,EAIEC,GAAqB,IAEvB,EAAAD,QAAA,cAAC,OAAI,MAAM,6BAA6B,QAAQ,eAC9C,EAAAA,QAAA,cAAC,aAAM,eAAa,EACpB,EAAAA,QAAA,cAAC,QACC,KAAK,OACL,OAAO,eACP,cAAc,QACd,eAAe,QACf,iBAAiB,KACjB,YAAY,KACZ,EAAE,uCACJ,CACF,EAIEE,GAAsB,IAExB,EAAAF,QAAA,cAAC,OAAI,MAAM,6BAA6B,QAAQ,eAC9C,EAAAA,QAAA,cAAC,aAAM,OAAK,EACZ,EAAAA,QAAA,cAAC,QAAK,EAAE,6HAA6H,CACvI,EAIEG,GAAuB,IAEzB,EAAAH,QAAA,cAAC,OAAI,MAAM,6BAA6B,QAAQ,eAC9C,EAAAA,QAAA,cAAC,aAAM,QAAM,EACb,EAAAA,QAAA,cAAC,QAAK,EAAE,qRAAqR,CAC/R,EAIEI,GAA4B,CAAC,CACjC,mBAAAC,EACA,aAAAC,EACA,YAAAC,EACA,aAAAC,CACF,IAAM,CACJ,GAAM,CAACC,EAAcC,CAAe,KAAI,YAAkB,EAAK,EACzD,CAACC,EAAgBC,CAAiB,KAAI,YAAkB,EAAK,EAC7D,CAACC,EAAoBC,CAAqB,KAAI,YAAkB,EAAK,KAE3E,aAAU,IAAM,CAEVA,EADJP,IAAgB,CACc,EAE9BA,IAAgBC,EAAe,EAC3BI,EAAkB,EAAI,EACtBA,EAAkB,EAAK,CAC7B,EAAG,CAACL,CAAW,CAAC,EAKhBQ,GAAY,SAAU,IAAM,CAC1BL,EAAgB,EAAK,EACrBJ,EAAa,EAAE,CACjB,CAAC,EAKD,IAAMU,EAAqB,IAAM,CAC/BN,EAAiBO,GAAqB,CAACA,CAAgB,EACvDX,EAAa,EAAE,CACjB,EAQA,OACE,EAAAN,QAAA,cAACkB,GAAA,CAAQ,SAAUT,GACjB,EAAAT,QAAA,cAACmB,GAAA,KACEV,GACC,EAAAT,QAAA,cAACoB,GAAA,CAAM,UAAS,GAAC,SAPGC,GAC1Bf,EAAae,EAAM,OAAO,KAAK,EAMsB,YAAY,SAAS,EAErE,CAACZ,GACA,EAAAT,QAAA,cAACsB,GAAA,KACC,EAAAtB,QAAA,cAACuB,GAAA,CACC,QAAS,IAAMlB,EAAmB,EAAE,EACpC,SAAUQ,EACV,KAAK,UAEL,EAAAb,QAAA,cAACD,GAAA,IAAa,CAChB,EACA,EAAAC,QAAA,cAAC,YACEO,EAAc,EAAE,OAAKC,CACxB,EACA,EAAAR,QAAA,cAACuB,GAAA,CACC,QAAS,IAAMlB,EAAmB,CAAC,EACnC,SAAUM,EACV,KAAK,UAEL,EAAAX,QAAA,cAACC,GAAA,IAAS,CACZ,CACF,EAEF,EAAAD,QAAA,cAACuB,GAAA,CAAO,QAASP,EAAoB,KAAK,UACvCP,EAAe,EAAAT,QAAA,cAACE,GAAA,IAAU,EAAK,EAAAF,QAAA,cAACG,GAAA,IAAW,CAC9C,CACF,CACF,CAEJ,EAEOqB,GAAQpB,GN7Hf,IAAMqB,GAA8B,CAAC,CAAE,MAAAC,CAAM,IAAM,CACjD,IAAMC,EAAgBC,GAAkB,EAClCC,EAAaC,EAAe,EAC5B,CAAE,aAAAC,EAAc,MAAAC,CAAM,EAAIH,EAE1B,CAACI,EAAQC,CAAS,KAAI,YAAiB,EAAE,EACzC,CAACC,EAAYC,CAAa,KAAI,YAA8B,CAAC,CAAC,EAC9D,CAACC,EAAaC,CAAc,KAAI,YAAiB,CAAC,EAElDC,EAAY,EAAAC,QAAM,OAAuB,IAAI,EAE7CC,EAAa,WAEbC,EAAwC,CAAC,QAAS,QAAS,OAAO,EAElEC,EAAgBC,GAAqB,CACrCb,IAAiBa,GACnBjB,EAAS,CACP,KAAM,qBACN,SAAUiB,CACZ,CAAC,CACL,EAEA,sBAAU,IAAM,CACd,GAAI,CAACT,EAAW,OAAQ,CACtB,IAAMU,EAA2BnB,EAC9B,IAAKoB,GACJC,GAAoBf,EAAOc,EAAML,EAAYC,CAAY,CAC3D,EACC,OAAQM,GAAiBA,EAAa,YAAY,OAAS,CAAC,EAC/DZ,EAAcS,CAAQ,CACxB,CACF,EAAG,CAAC,CAAC,KAEL,aAAU,IAAM,CACdV,EAAW,QAAQ,CAACW,EAAMG,IAAU,CAC9BH,GAAA,MAAAA,EAAM,QACJA,EAAK,OAAO,KAAOf,GAAcO,EAAeW,CAAK,CAC7D,CAAC,CACH,EAAG,CAAClB,CAAY,CAAC,KAEjB,aAAU,IAAM,CACd,IAAMmB,EAAU,SAAS,cACvB,iBAAiBb,KACnB,EAEA,GAAIa,aAAmB,aAAeX,EAAU,QAAS,CACvD,IAAMY,EACJD,EAAQ,WACRX,EAAU,QAAQ,YAAc,EAChCW,EAAQ,YAAc,EACxBX,EAAU,QAAQ,SAAS,CAAE,KAAMY,EAAS,SAAU,QAAS,CAAC,CAClE,CACF,EAAG,CAACd,CAAW,CAAC,EAUd,EAAAG,QAAA,gBAAAA,QAAA,cACE,EAAAA,QAAA,cAACY,GAAA,CACC,aAVgBC,GAAkBnB,EAAUmB,CAAK,EAWjD,mBATsBC,GAAiB,CAC3C,IAAMN,EAAeb,EAAWE,EAAciB,GAC1CN,GAAA,MAAAA,EAAc,QAAQL,EAAaK,EAAa,OAAO,EAAE,CAC/D,EAOM,YAAaX,EACb,aAAcF,EAAW,OAC3B,EACA,EAAAK,QAAA,cAACe,GAAA,CAAM,aAAW,cAAc,cAAY,QAAQ,IAAKhB,GACtDJ,EACE,OAAQW,GAAS,CA3F5B,IAAAU,EA4FY,IAAIA,EAAAV,EAAK,SAAL,MAAAU,EAAa,MAAO,CACtB,IAAMC,EAAQC,EAASZ,EAAK,OAAO,KAAK,EACxC,GAAI,MAAM,QAAQW,CAAK,EACrB,OAAOA,EAAM,GAAG,YAAY,EAAE,SAASxB,EAAO,YAAY,CAAC,CAC/D,CACF,CAAC,EACA,IAAI,CAACa,EAAMG,IAAO,CAlG7B,IAAAO,EAAAG,EAmGY,SAAAnB,QAAA,cAACoB,GAAA,CACC,OAAQd,EAAK,OACb,YAAaG,EACb,aAAcN,EACd,SAAUZ,MAAiByB,EAAAV,GAAA,YAAAA,EAAM,SAAN,YAAAU,EAAc,IACzC,KAAKG,EAAAb,GAAA,YAAAA,EAAM,SAAN,YAAAa,EAAc,GACnB,UAAWE,GAAa7B,EAAOc,EAAM,IAAK,GAAG,EAC7C,KAAMgB,GAAgBhB,EAAK,YAAY,EAAE,EAC3C,EACD,CACL,CACF,CAEJ,EAEOiB,GAAQtC,GSlHf,IAAAuC,EAA2C,oBCA3C,IAAAC,GAAsB,mCAGtB,IAAMC,GAAUC,EAAY,QAAM,CAChC,QAAS,OACT,cAAe,SACf,MAAO,OACP,OAAQ,OACR,SAAU,IACV,WAAY,IACZ,SAAU,WACV,OAAQ,IACR,UAAW,0BAEX,MAAO,CACL,UAAW,SACX,UAAW,MACb,EAEA,UAAW,CACT,SAAU,WACV,OAAQ,EACR,QAAS,GACT,MAAO,OACP,OAAQ,OACR,gBAAiB,oDACjB,OAAQ,EAER,MAAO,CACL,gBAAiB,MACnB,CACF,CACF,CAAC,EAEKC,GAAOD,EAAY,QAAM,CAC7B,QAAS,OACT,SAAU,IACV,OAAQ,aACR,aAAc,0BACd,gBAAiB,aAEjB,MAAO,CACL,OAAQ,QACV,CACF,CAAC,EAEKE,GAAUF,EAAY,WAAS,CACnC,QAAS,OACT,SAAU,WACV,QAAS,cACT,WAAY,OACZ,gBAAiB,cACjB,MAAO,gBACP,OAAQ,OACR,WAAY,UACZ,SAAU,OACV,YAAa,OACb,WAAY,OACZ,WAAY,SACZ,OAAQ,UACR,WAAY,IACZ,WAAY,OAEZ,WAAY,CACV,MAAO,IACP,OAAQ,MACR,QAAS,GACT,gBAAiB,gBACjB,SAAU,WACV,OAAQ,OACR,KAAM,IACN,WAAY,MACd,EAEA,UAAW,CACT,MAAO,UACT,EAEA,yBAA0B,CACxB,MAAO,UAEP,WAAY,CACV,MAAO,OACP,gBAAiB,SACnB,CACF,CACF,CAAC,EAEKG,GAAUH,EAAY,WAAS,CACnC,QAAS,OACT,SAAU,IACV,WAAY,IACZ,SAAU,WACV,IAAK,IACL,KAAM,IACN,yBAA0B,CACxB,MAAO,OACP,OAAQ,oBACR,QAAS,QACX,CACF,CAAC,EAEKI,GAASJ,EAAO,MAAO,CAC3B,SAAU,WACV,OAAQ,OACR,MAAO,OACP,UAAW,QACb,CAAC,EC3GD,IAAAK,GAAiC,oBCAjC,IAAAC,GAA4B,0CAG5B,IAAMC,GAAOC,GAAU,CACrB,KAAM,CAAE,UAAW,gBAAiB,EACpC,GAAI,CAAE,UAAW,cAAe,CAClC,CAAC,EAEYC,GAAQC,EAAkB,QAAM,CAC3C,QAAS,OACT,cAAe,SACf,MAAO,MACT,CAAC,EAEYC,GAAOD,EAAkB,QAAM,CAC1C,SAAU,WACV,OAAQ,UACR,QAAS,OACT,MAAO,OACP,eAAgB,gBAChB,UAAW,OACX,OAAQ,IACR,QAAS,kBACT,WAAY,UACZ,WAAY,SACZ,SAAU,OACV,MAAO,gBACP,OAAQ,OACR,WAAY,OAEZ,MAAO,CACL,QAAS,cACT,SAAU,WACZ,EAEA,YAAa,CACX,QAAS,GACT,MAAO,OACP,OAAQ,OACR,aAAc,OACd,SAAU,WACV,gBAAiB,gBACjB,QAAS,IACT,KAAM,MACN,UAAW,MACX,UAAW,cAEX,MAAO,CACL,QAAS,OACX,CACF,EAEA,WAAY,CACV,QAAS,GACT,MAAO,MACP,OAAQ,MACR,SAAU,WACV,gBAAiB,aACjB,QAAS,IACT,SAAU,iCACV,KAAM,OACN,UAAW,MACX,UAAW,cAEX,MAAO,CACL,QAAS,OACX,CACF,EAEA,OAAQ,CACN,WAAY,MACd,EAEA,UAAW,CACT,MAAO,UAEP,YAAa,CACX,gBAAiB,UACjB,QAAS,GACX,EAEA,WAAY,CACV,QAAS,GACT,MAAO,MACP,OAAQ,MACR,SAAU,WACV,gBAAiB,aACjB,SAAU,iCACV,QAAS,GACX,CACF,EAEA,yBAA0B,CACxB,MAAO,WACP,gBAAiB,kBACjB,WAAY,YAEZ,YAAa,CACX,QAAS,GACT,MAAO,MACP,OAAQ,MACR,SAAU,WACV,gBAAiB,cACjB,OAAQ,yBACR,aAAc,OACd,KAAM,MACN,UAAW,MACX,QAAS,IACT,UAAW,qBACX,cAAeH,GACf,UAAW,cAEX,MAAO,CACL,QAAS,OACX,CACF,EAEA,WAAY,CACV,QAAS,GACT,MAAO,MACP,OAAQ,MACR,SAAU,WACV,gBAAiB,cACjB,OAAQ,oBACR,SAAU,kCACV,aAAc,OACd,KAAM,MACN,UAAW,MACX,QAAS,IACT,UAAW,uBACX,cAAeA,GACf,UAAW,cAEX,MAAO,CACL,QAAS,OACX,CACF,CACF,CACF,CAAC,EC1ID,IAAAK,GAA6B,gBAavBC,GAAY,IAAM,CACtB,SAASC,EACPC,EACsB,CAKtB,OAJgBA,EAAK,IAAKC,GAAQ,CAChC,IAAMC,EAAaD,EAAI,eAAc,GAAAE,IAAO,EAC5C,MAAO,CAAE,GAAGF,EAAK,WAAAC,CAAW,CAC9B,CAAC,CAEH,CAEA,SAASE,EAAiBC,EAAkD,CAE1E,IAAMC,EAASP,EAA2BM,CAAI,EAE9C,SAASE,EACPC,EACAC,EACA,CACA,IAAMC,EAAkC,CAAC,EAEzC,OAAAF,EAAI,QAASG,GAAS,CAepB,IAAMC,EAbqBJ,EAAI,OAAQK,GAEnCF,EAAK,OAASE,EAAQ,OACtBF,EAAK,KAAOE,EAAQ,KACpBF,EAAK,aAAeE,EAAQ,UAE/B,EAO4C,KAAK,CAACC,EAAGC,IAAM,CAC1D,IAAMC,EAAYF,EAAE,IAAMA,EAAE,MACtBG,EAAYF,EAAE,IAAMA,EAAE,MAC5B,OAAIC,IAAcC,EAAkB,EAC7BD,EAAYC,EAAY,GAAK,CACtC,CAAC,EAAE,GAGH,GACG,CAACL,GAAqB,CAACH,IACxBG,GAAA,YAAAA,EAAmB,cAAeH,EAClC,CAEA,IAAMS,EAAWX,EAAkBC,EAAKG,EAAK,UAAU,EAEnDO,EAAS,SACXP,EAAK,SAAWO,GAGlBR,EAAI,KAAKC,CAAI,CACf,CACF,CAAC,EAEMD,CACT,CAGA,OADmBH,EAAkBD,EAAQ,IAAI,CAEnD,CAQA,SAASa,EACPlB,EACAD,EAA6B,CAAC,EACrB,CACT,OAAOA,EAAK,KACToB,GACCnB,EAAI,OAASmB,EAAW,OAASnB,EAAI,KAAOmB,EAAW,GAC3D,CACF,CAOA,SAASC,EACPrB,EAA6B,CAAC,EACR,CACtB,OAAOA,EAAK,KAAK,CAACsB,EAAMC,IAASD,EAAK,MAAQC,EAAK,KAAK,CAC1D,CAEA,MAAO,CACL,2BAAAxB,EACA,iBAAAK,EACA,QAAAe,EACA,gBAAAE,CACF,CACF,EAEOG,GAAQ1B,GClHf,IAAA2B,GAAkB,oBCAlB,IAAAC,GAAkB,oBCAlB,IAAAC,GAAkB,oBASZC,GAAwC,CAC5C,YAAa,EACb,UAAW,EACX,gBAAiB,IAAM,CAAC,EACxB,kBAAmB,IAAM,CAAC,CAC5B,EACaC,GAAqB,GAAAC,QAAM,cAAcF,EAAY,EAErDG,GAAsB,CAAC,CAClC,SAAAC,CACF,IAEM,CACJ,GAAM,CAACC,EAAaC,CAAc,EAAI,GAAAJ,QAAM,SAC1CF,GAAa,WACf,EACM,CAACO,EAAWC,CAAY,EAAI,GAAAN,QAAM,SAAS,CAAC,EAC5CO,EAAmBC,GAAcF,EAAaE,CAAC,EAC/CC,EAAqBD,GAAcJ,EAAeI,CAAC,EAEzD,OACE,GAAAR,QAAA,cAACD,GAAmB,SAAnB,CACC,MAAO,CAAE,YAAAI,EAAa,UAAAE,EAAW,gBAAAE,EAAiB,kBAAAE,CAAkB,GAEnEP,CACH,CAEJ,EDzBA,IAAMQ,GAAuB,CAAC,CAAE,MAAAC,EAAO,MAAAC,EAAO,IAAAC,CAAI,IAAM,CACtD,GAAM,CAAE,YAAAC,EAAa,gBAAAC,CAAgB,EAAI,GAAAC,QAAM,WAAWC,EAAkB,EACtEC,EAAoBN,GAASE,GAAeA,EAAcD,EAMhE,OACE,GAAAG,QAAA,cAACG,GAAA,CACC,eAAcD,EACd,cAAY,gBACZ,QARgB,IAAM,CACxBH,EAAgBH,CAAK,CACvB,EAOI,MAAOD,GAENA,EACD,GAAAK,QAAA,cAAC,cAAQI,GAAYR,CAAK,CAAE,CAC9B,CAEJ,EAEOS,GAAQX,GE7BR,IAAMY,GAAaC,EAAO,KAAM,CACrC,UAAW,OACX,YAAa,OACb,SAAU,WAEV,iBAAkB,CAChB,YAAa,GACf,EAEA,UAAW,CACT,CAAC,KAAKC,MAAS,CACb,gBAAiB,QAEjB,YAAa,CACX,QAAS,MACX,EACA,WAAY,CACV,QAAS,MACX,CACF,CACF,EAEA,gBAAiB,CACf,OAAQ,cACV,CACF,CAAC,EHnBD,IAAMC,GAA4B,CAAC,CAAE,MAAAC,CAAM,IAEvC,GAAAC,QAAA,cAACC,GAAA,KACEF,EAAM,IAAI,CAAC,CAAE,KAAAG,EAAM,MAAAC,EAAO,IAAAC,EAAK,SAAUC,EAAa,WAAAC,CAAW,IAE9D,GAAAN,QAAA,cAAC,MAAG,IAAKM,GACP,GAAAN,QAAA,cAACO,GAAA,CAAI,MAAOL,EAAM,MAAOC,EAAO,IAAKC,EAAK,EACzCC,GAAe,GAAAL,QAAA,cAACF,GAAA,CAAK,MAAOO,EAAa,CAC5C,CAEH,CACH,EAIGG,GAAQV,GHbf,IAAAW,GAAsB,uBAMhBC,GAA+B,CAAC,CAAE,SAAAC,CAAS,IAAM,CACrD,GAAM,CAACC,EAAMC,CAAO,EAAI,GAAAC,QAAM,SAAqC,CAAC,CAAC,EAC/D,CAAE,GAAAC,EAAI,MAAAC,CAAM,EAAIL,EAChB,CAAE,iBAAAM,EAAkB,gBAAAC,CAAgB,EAAIC,GAAU,EAExD,uBAAU,IAAM,CACd,MAAMJ,EAAI,CACR,QAAS,CACP,eAAgB,aAChB,OAAQ,kBACV,CACF,CAAC,EACE,KAAMK,GAAaA,EAAS,KAAK,CAAC,EAClC,KAAMC,GAAS,CACd,IAAMC,KAAW,UAAMD,CAAI,EAAE,KACvBE,EAAcL,EAAgBI,CAAQ,EACtCE,EAAaP,EAAiBM,CAAW,EAC/CV,EAAQW,CAAU,CACpB,CAAC,EACA,MAAOC,GAAU,QAAQ,MAAMV,EAAIU,EAAM,SAAS,CAAC,CAAC,CACzD,EAAG,CAACV,CAAE,CAAC,EAGL,GAAAD,QAAA,cAACY,GAAA,CACC,aAAY,YAAYC,EAASX,EAA8B,IAAI,KAEnE,GAAAF,QAAA,cAACc,GAAA,CAAK,MAAOhB,EAAM,CACrB,CAEJ,EAEOiB,GAAQnB,GFrCf,IAAAoB,GAAsB,gCSTtB,IAAMC,GAAeC,EAAO,MAAO,CACjC,QAAS,mBACT,QAAS,OACT,cAAe,SACf,SAAU,SACV,SAAU,WACV,MAAO,WACP,WAAY,QACZ,WAAY,MACZ,SAAU,OACV,OAAQ,IAER,IAAK,CACH,SAAU,QACV,UAAW,QACX,UAAW,UACX,MAAO,cACP,OAAQ,WACR,aAAc,MACd,gBAAiB,iBACnB,EAEA,MAAO,CACL,QAAS,MACX,EAEA,eAAgB,CACd,MAAO,SACT,EAEA,EAAG,CACD,SAAU,OACV,WAAY,SACZ,OAAQ,GACV,EAEA,GAAI,CACF,OAAQ,IAER,GAAI,CACF,WAAY,MACZ,OAAQ,gBACV,EAEA,GAAI,CACF,OAAQ,GACV,CACF,EAEA,2BAA4B,CAC1B,WAAY,MACZ,OAAQ,gBACV,EAEA,SAAU,CACR,QAAS,IACT,OAAQ,IAER,GAAI,CACF,SAAU,OACV,WAAY,SACZ,UAAW,OACX,OAAQ,mBACV,CACF,CACF,CAAC,EAEKC,GAAcD,EAAO,MAAO,CAChC,SAAU,WACV,MAAO,OACP,OAAQ,OACR,OAAQ,GACV,CAAC,EC1ED,IAAAE,GAAyB,gCAEzBC,GAAkB,oBAMZC,GAAwD,CAAC,CAC7D,SAAAC,CACF,KACMA,GAAA,YAAAA,EAAU,UAAW,EAAU,GAAAC,QAAA,iBAAAA,QAAA,aAAE,EAGnC,GAAAA,QAAA,iBAAAA,QAAA,cACE,GAAAA,QAAA,cAAC,QAAK,UAAU,2BAA0B,UAAQ,EAClD,GAAAA,QAAA,cAAC,aAAS,SAAUD,EAAU,CAChC,EAIGE,GAAQH,GCrBf,IAAAI,GAAkB,oBAQZC,GAA4C,CAAC,CACjD,GAAAC,EACA,UAAAC,EACA,OAAAC,EAAS,UACX,IAEI,GAAAC,QAAA,iBAAAA,QAAA,cACE,GAAAA,QAAA,cAAC,QAAK,UAAU,2BAA2BF,CAAU,EACrD,GAAAE,QAAA,cAAC,KAAE,KAAMH,EAAI,OAAO,SAAS,GAAI,QAAQE,QACtCF,CACH,CACF,EAIGI,GAAQL,GCtBf,IAAAM,GAAkB,oBAClBC,GAAyB,gCAOnBC,GAAwD,CAAC,CAC7D,SAAAC,EACA,OAAAC,EAAS,UACX,IACOD,EAGH,GAAAE,QAAA,iBAAAA,QAAA,cACE,GAAAA,QAAA,cAAC,aAAS,SAAUF,EAAU,GAAI,QAAQC,aAAmB,CAC/D,EALoB,GAAAC,QAAA,iBAAAA,QAAA,aAAE,EASnBC,GAAQJ,GCrBf,IAAAK,GAAkB,oBAClBC,GAAkC,gCAO5BC,GAAgE,CAAC,CACrE,kBAAAC,EACA,OAAAC,EAAS,UACX,IACOD,EAGH,GAAAE,QAAA,iBAAAA,QAAA,cACE,GAAAA,QAAA,cAAC,sBACC,kBAAmBF,EACnB,GAAI,QAAQC,uBACd,CACF,EAR6B,GAAAC,QAAA,iBAAAA,QAAA,aAAE,EAY5BC,GAAQJ,GCzBf,IAAAK,GAAkB,oBAMZC,GAAoD,CAAC,CAAE,OAAAC,CAAO,IAC7DA,EAGH,GAAAC,QAAA,iBAAAA,QAAA,cACE,GAAAA,QAAA,cAAC,QAAK,UAAU,2BAA0B,QAAM,EAChD,GAAAA,QAAA,cAAC,KAAE,KAAMD,EAAQ,OAAO,UACrBA,CACH,CACF,EARkB,GAAAC,QAAA,iBAAAA,QAAA,aAAE,EAYjBC,GAAQH,GClBf,IAAAI,GAAwB,gCACxBC,GAAkB,oBAMZC,GAAsD,CAAC,CAAE,QAAAC,CAAQ,KACjEA,GAAA,YAAAA,EAAS,UAAW,EAAU,GAAAC,QAAA,iBAAAA,QAAA,aAAE,EAGlC,GAAAA,QAAA,iBAAAA,QAAA,cACE,GAAAA,QAAA,cAAC,QAAK,UAAU,2BAA0B,UAAQ,EAClD,GAAAA,QAAA,cAAC,YAAQ,QAASD,EAAS,CAC7B,EAIGE,GAAQH,GClBf,IAAAI,GAAkB,oBAClBC,GAAwB,gCAOlBC,GAAsD,CAAC,CAC3D,QAAAC,EACA,OAAAC,EAAS,UACX,IACOD,EAGH,GAAAE,QAAA,iBAAAA,QAAA,cACE,GAAAA,QAAA,cAAC,YAAQ,QAASF,EAAS,GAAG,IAAI,GAAI,QAAQC,YAAkB,CAClE,EALmB,GAAAC,QAAA,iBAAAA,QAAA,aAAE,EASlBC,GAAQJ,GCjBf,IAAAK,GAAkB,oBAClBC,GAA0B,gCAOpBC,GAA0D,CAAC,CAC/D,MAAAC,EACA,UAAAC,CACF,KACMA,GAAA,YAAAA,EAAW,UAAW,EAAU,GAAAC,QAAA,iBAAAA,QAAA,aAAE,EAGpC,GAAAA,QAAA,iBAAAA,QAAA,cACE,GAAAA,QAAA,cAAC,cACC,WAAYF,GAAgB,CAAE,KAAM,CAAC,UAAU,CAAE,EACjD,UAAWC,EACb,CACF,EAIGE,GAAQJ,GCVf,IAAAK,EAA2C,oBAG3C,IAAMC,GAAkB,IAAM,CAC5B,IAAMC,EAAmBC,EAAe,EAClC,CAAE,eAAAC,EAAgB,MAAAC,CAAM,EAAIH,EAE5B,CAACI,EAAUC,CAAW,KAAI,YAA6B,EAEvD,CAACC,EAAUC,CAAW,KAAI,YAAoC,CAAC,CAAC,EAChE,CAACC,EAASC,CAAU,KAAI,YAAoC,CAAC,CAAC,EAC9D,CAACC,EAAWC,CAAY,KAAI,YAAoC,CAAC,CAAC,EAWxE,SATA,aAAU,IAAM,CAhClB,IAAAC,EAAAC,EAAAC,EAiCI,IAAMC,EAAOZ,EAAM,IAAID,CAAc,EACrCG,EAAYU,CAAI,IAEZH,EAAAG,EAAK,WAAL,YAAAH,EAAe,QAAS,GAAGL,EAAYJ,EAAM,IAAIY,EAAK,QAAQ,CAAC,IAC/DF,EAAAE,EAAK,UAAL,YAAAF,EAAc,QAAS,GAAGJ,EAAWN,EAAM,IAAIY,EAAK,OAAO,CAAC,IAC5DD,EAAAC,EAAK,YAAL,YAAAD,EAAgB,QAAS,GAAGH,EAAaR,EAAM,IAAIY,EAAK,SAAS,CAAC,CACxE,EAAG,CAACb,EAAgBC,CAAK,CAAC,EAErBC,EAGH,EAAAY,QAAA,cAACC,GAAA,KACC,EAAAD,QAAA,cAACE,GAAA,KACC,EAAAF,QAAA,cAACG,GAAA,CAAU,UAAWT,EAAW,MAAON,EAAS,MAAO,EACxD,EAAAY,QAAA,cAACI,GAAA,CAAQ,QAAShB,EAAS,QAAS,EACpC,EAAAY,QAAA,cAACK,GAAA,CAAS,SAAUjB,EAAS,SAAU,EACvC,EAAAY,QAAA,cAACM,GAAA,CAAkB,kBAAmBlB,EAAS,kBAAmB,EAClE,EAAAY,QAAA,cAACO,GAAA,CAAO,OAAQnB,EAAS,OAAQ,EACjC,EAAAY,QAAA,cAACQ,GAAA,CACC,SAAUlB,EACZ,EACA,EAAAU,QAAA,cAACS,GAAA,CAAQ,QAASjB,EAAmD,EACrE,EAAAQ,QAAA,cAACU,GAAA,CAAG,GAAItB,EAAS,GAAI,UAAU,gBAAgB,CACjD,CACF,EAhBoB,EAAAY,QAAA,gBAAAA,QAAA,aAAE,CAkB1B,EAEOW,GAAQ5B,GlBzCR,IAAM6B,GAAsC,CAAC,CAClD,aAAAC,EACA,UAAAC,CACF,IAAM,CACJ,IAAMC,EAAmBC,EAAe,EAClC,CAAE,cAAAC,CAAc,EAAIF,EACpB,CAAE,YAAAG,CAAY,EAAID,EAElB,CAACE,EAAgBC,CAAiB,KAAI,YAAiB,KAE7D,aAAU,IAAM,CACVF,EACFE,EAAkB,gBAAgB,EACzBN,IAAaA,GAAA,YAAAA,EAAW,QAAS,GAAK,CAACI,GAChDE,EAAkBN,EAAU,GAAG,EAAE,CAErC,EAAG,CAACD,EAAcC,CAAS,CAAC,EAE5B,IAAMO,EAAqBC,GAAkB,CAC3CF,EAAkBE,CAAK,CACzB,EAEA,OAAKR,EAGH,EAAAS,QAAA,cAACC,GAAA,CACC,cAAY,YACZ,aAAcL,EACd,cAAeE,EACf,YAAY,aACZ,MAAOF,GAEP,EAAAI,QAAA,cAACE,GAAA,CAAK,aAAW,iBAAiB,cAAY,kBAC3CP,GAAe,EAAAK,QAAA,cAACG,GAAA,CAAQ,MAAM,kBAAiB,OAAK,EACpDZ,GACCA,EAAU,IAAI,CAAC,CAAE,GAAAa,EAAI,MAAAC,CAAM,IACzB,EAAAL,QAAA,cAACG,GAAA,CAAQ,IAAKC,EAAI,MAAOA,GACvB,EAAAJ,QAAA,cAAC,UAAM,MAAOK,EAAO,CACvB,CACD,CACL,EACA,EAAAL,QAAA,cAACM,GAAA,KACEX,GACC,EAAAK,QAAA,cAACO,GAAA,CAAQ,MAAM,kBACb,EAAAP,QAAA,cAACQ,GAAA,IAAY,CACf,EAEDjB,GACCA,EAAU,IAAKkB,GAEX,EAAAT,QAAA,cAACO,GAAA,CAAQ,IAAKE,EAAS,GAAI,MAAOA,EAAS,IACzC,EAAAT,QAAA,cAACU,GAAA,CAAS,SAAUD,EAAU,CAChC,CAEH,CACL,CACF,EAlCqB,EAAAT,QAAA,gBAAAA,QAAA,aAAE,CAoC3B,EAEOW,GAAQtB,GmBhFf,IAAAuB,EAAkB,oBAClBC,GAAgB,qBCCT,IAAMC,GAAgBC,EAAO,MAAO,CACzC,SAAU,WACV,gBAAiB,cACjB,QAAS,OACT,SAAU,IACV,WAAY,IACZ,UAAW,QACX,OAAQ,IAER,MAAO,CACL,gBAAiB,cACjB,QAAS,OACT,SAAU,WACV,UAAW,UACX,MAAO,OACP,OAAQ,OACR,OAAQ,GACV,CACF,CAAC,ECpBD,IAAAC,GAAkB,oBCEX,IAAMC,GAAyBC,EAAO,SAAU,CACrD,SAAU,WACV,MAAO,OACP,OAAQ,MACV,CAAC,EDHD,IAAMC,GAAkB,GAAAC,QAAM,WAAW,CAACC,EAAQC,IAAa,CAC7D,IAAMC,EAAY,GAAAH,QAAM,OAA0B,IAAI,EAEtD,GAAAA,QAAM,UAAU,IAAM,CAChB,CAACE,IAELA,EAAI,QAAQ,OAASE,EACvB,EAAG,CAACF,CAAG,CAAC,EAER,SAASE,GAAkB,CACzB,IAAMC,EAAQH,EAAI,QACZI,EAAU,IAAI,aACdC,EAAMD,EAAQ,yBAAyBD,CAAK,EAC9CG,EAAWF,EAAQ,eAAe,EAEhCG,EAASN,EAAU,QACzB,GAAI,CAACM,EAAQ,OACbA,EAAO,MAAQJ,EAAM,YACrBI,EAAO,OAASJ,EAAM,aACtB,IAAMK,EAAMD,EAAO,WAAW,IAAI,EAElCF,EAAI,QAAQC,CAAQ,EACpBA,EAAS,QAAQF,EAAQ,WAAW,EAEpCE,EAAS,QAAU,IAEnB,IAAMG,EAAeH,EAAS,kBACxBI,EAAY,IAAI,WAAWD,CAAY,EAE7C,YAAY,UAAY,CACtBE,EACEL,EACAE,EACAC,EACAC,EACAH,EAAO,MACPA,EAAO,MACT,CACF,EAAG,EAAE,CACP,CAEA,SAASI,EACPL,EACAE,EACAC,EACAC,EACAE,EACAC,EACA,CACA,IAAIC,EAAYF,EAAQH,EAAgB,IACpCM,EACAC,EAAI,EAERV,EAAS,qBAAqBI,CAAS,EAEvCF,EAAI,UAAY,UAChBA,EAAI,SAAS,EAAG,EAAGI,EAAOC,CAAM,EAEhC,QAASI,EAAI,EAAGA,EAAIR,EAAcQ,IAChCF,EAAYL,EAAUO,GAAK,EAC3BT,EAAI,UAAY,QAAQ,kBACxBA,EAAI,SAASQ,EAAGH,EAASE,EAAWD,EAAUC,CAAS,EAEvDC,GAAKF,EAAW,CAEpB,CAEA,OAAO,GAAAhB,QAAA,cAACoB,GAAA,CAAuB,IAAKjB,EAAW,CACjD,CAAC,EAEMkB,GAAQtB,GEzEf,IAAAuB,GAAkB,oBAUlB,IAAMC,GAA8B,CAAC,CAAE,SAAAC,EAAU,oBAAAC,CAAoB,IAAM,CACzE,IAAMC,EAAQC,EAASH,EAAS,MAA8B,IAAI,EAMlE,OAJkBE,EAAM,KAAME,GAC5BH,EAAoB,SAASG,CAAK,CACpC,EAEsB,KAGpB,GAAAC,QAAA,cAAC,SACC,IAAKL,EAAS,GACd,IAAKA,EAAS,GACd,MAAOE,EACP,QAAQ,KACR,cAAY,eACd,CAEJ,EAEOI,GAAQP,GJTf,IAAMQ,GAAgC,CAAC,CAAE,SAAAC,EAAU,UAAAC,CAAU,IAAM,CArBnE,IAAAC,EAsBE,IAAMC,EAAY,EAAAC,QAAM,OAAO,IAAI,EAC7BC,GAAUH,EAAAF,GAAA,YAAAA,EAAU,SAAV,YAAAE,EAAkB,SAAS,UAErC,CAAE,UAAAI,EAAW,kBAAAC,CAAkB,EAAI,EAAAH,QAAM,WAAWI,EAAkB,EAEtEC,EAAmBC,EAAe,EAClC,CAAE,aAAAC,EAAc,cAAAC,EAAe,MAAAC,CAAM,EAAIJ,EAKzCK,EAAqBC,GACzBF,EACA,CAAE,GAAIF,EAAc,KAAM,QAAS,EACnC,WACA,CAAC,OAAO,CACV,EAEMK,EAAcC,GAClBH,EAAmB,kBACrB,EAMA,EAAAV,QAAM,UAAU,IAAM,CAWpB,GANI,CAACJ,EAAS,IAAM,CAACG,EAAU,SAM3BH,EAAS,GAAG,MAAM,GAAG,EAAE,IAAI,IAAM,OAAQ,OAG7C,IAAMkB,EAAM,IAAI,GAAAC,QAChB,OAAAD,EAAI,YAAYf,EAAU,OAAO,EACjCe,EAAI,GAAG,GAAAC,QAAI,OAAO,eAAgB,UAAY,CAC5CD,EAAI,WAAWlB,EAAS,EAAY,CACtC,CAAC,EAGDkB,EAAI,GAAG,GAAAC,QAAI,OAAO,MAAO,SAAUC,EAAOC,EAAM,CAC9C,GAAIA,EAAK,MACP,OAAQA,EAAK,WACN,GAAAF,QAAI,WAAW,cAElB,QAAQ,MACN,SAASC,6CACX,EACAF,EAAI,UAAU,EACd,WACG,GAAAC,QAAI,WAAW,YAClB,QAAQ,MACN,SAASC,2CACX,EACAF,EAAI,kBAAkB,EACtB,cAGAA,EAAI,QAAQ,EACZ,MAGR,CAAC,EAEM,IAAM,CACPA,IACFA,EAAI,YAAY,EAChBA,EAAI,QAAQ,EACZX,EAAkB,CAAC,EAEvB,CACF,EAAG,CAACP,EAAS,EAAE,CAAC,EAEhB,EAAAI,QAAM,UAAU,IAAM,CACpB,IAAIkB,EAAanB,EAAU,QACvBmB,IAAOA,EAAM,YAAchB,GAE3BA,IAAc,GAAGgB,EAAM,KAAK,CAClC,EAAG,CAAChB,CAAS,CAAC,EAEd,IAAMiB,EAAa,IAAM,CACvB,IAAID,EAAanB,EAAU,QACvBmB,IACFA,EAAM,aAAgBF,GAAe,CACnCb,EAAkBa,EAAM,OAAO,WAAW,CAC5C,EAEJ,EAEA,OACE,EAAAhB,QAAA,cAACoB,GAAA,CACC,IAAK,CACH,gBAAiBZ,EAAc,sBAC/B,UAAWA,EAAc,YAC3B,GAEA,EAAAR,QAAA,cAAC,SACC,GAAG,oBACH,IAAKJ,EAAS,GACd,IAAKG,EACL,SAAQ,GACR,OAAQH,EAAS,OACjB,MAAOA,EAAS,MAChB,OAAQuB,EACR,YAAY,YACZ,OAAQP,GAER,EAAAZ,QAAA,cAAC,UAAO,IAAKJ,EAAS,GAAI,KAAMA,EAAS,OAAQ,EAChDC,EAAU,OAAS,GAClBA,EAAU,IAAKwB,GACb,EAAArB,QAAA,cAACsB,GAAA,CACC,SAAUD,EACV,oBAAqBb,EAAc,oBACnC,IAAKa,EAAS,GAChB,CACD,EAAE,sDAEP,EAECpB,GAAW,EAAAD,QAAA,cAACuB,GAAA,CAAgB,IAAKxB,EAAW,CAC/C,CAEJ,EAEOyB,GAAQ7B,GKzJf,IAAA8B,GAA2C,oBCA3C,IAAAC,EAA2C,oBAC3CC,GAA0B,4BCC1B,IAAMC,GAAYC,EAAO,MAAO,CAC9B,SAAU,sBACV,OAAQ,IACR,IAAK,OACL,KAAM,OACN,MAAO,UACP,OAAQ,QACR,gBAAiB,QACjB,UAAW,oBACX,aAAc,MAEd,iBAAkB,CAChB,OAAQ,gCACR,UAAW,eACb,EAEA,MAAO,CACL,MAAO,QACP,OAAQ,MACV,CACF,CAAC,EAEKC,GAAWD,EAAO,MAAO,CAC7B,SAAU,WACV,MAAO,OACP,OAAQ,OACR,OAAQ,GACV,CAAC,EAEKE,GAAUF,EAAO,MAAO,CAC5B,MAAO,OACP,OAAQ,SACR,UAAW,QACX,WAAY,QACZ,eAAgB,UAChB,MAAO,QACP,SAAU,WACV,OAAQ,IACR,SAAU,QACZ,CAAC,ECzCD,IAAAG,EAAkB,oBCAlB,IAAAC,GAAkB,oBCElB,IAAMC,GAAOC,EAAO,SAAU,CAC5B,QAAS,OACT,OAAQ,OACR,MAAO,OACP,aAAc,OACd,QAAS,IACT,OAAQ,IACR,WAAY,UACZ,WAAY,OACZ,OAAQ,OACR,MAAO,QACP,OAAQ,UACR,WAAY,WACZ,gBAAiB,QACjB,OAAQ,iCACR,WAAY,OACZ,UAAW,yBAEX,IAAK,CACH,OAAQ,MACR,MAAO,MACP,QAAS,MACT,KAAM,aACN,OAAQ,aACR,OAAQ,iCACR,WAAY,OACZ,UAAW,SACb,EAEA,mBAAoB,CAClB,gBAAiB,SACnB,EAEA,cAAe,CACb,mBAAoB,CAClB,IAAK,CACH,OAAQ,OACV,CACF,CACF,CACF,CAAC,EDjCD,IAAMC,GAAgC,CAAC,CAAE,GAAAC,EAAI,MAAAC,EAAO,SAAAC,CAAS,IAEzD,GAAAC,QAAA,cAACC,GAAA,CAAK,GAAIJ,EAAI,cAAY,wBACxB,GAAAG,QAAA,cAAC,OACC,MAAM,6BACN,kBAAiB,GAAGH,cACpB,cAAY,2BACZ,UAAU,QACV,QAAQ,cACR,KAAK,OAEL,GAAAG,QAAA,cAAC,SAAM,GAAI,GAAGH,eAAiBC,CAAM,EACpCC,CACH,CACF,EAIGG,GAAQN,GEzBf,IAAMO,GAAUC,EAAO,MAAO,CAC5B,SAAU,WACV,OAAQ,IACR,IAAK,OACL,MAAO,MACT,CAAC,EHHD,IAAMC,GAAqB,IAuCvB,EAAAC,QAAA,cAACC,GAAA,CAAQ,cAAY,yBAAyB,GAAG,0BAC/C,EAAAD,QAAA,cAACE,GAAA,CAAO,GAAG,SAAS,MAAM,WACxB,EAAAF,QAAA,cAxCS,IAEX,EAAAA,QAAA,cAAC,QACC,cAAc,QACd,iBAAiB,KACjB,YAAY,KACZ,EAAE,2BACJ,EAiCG,IAAO,CACV,EACA,EAAAA,QAAA,cAACE,GAAA,CAAO,GAAG,UAAU,MAAM,WACzB,EAAAF,QAAA,cAhCU,IAEZ,EAAAA,QAAA,cAAC,QACC,cAAc,QACd,iBAAiB,KACjB,YAAY,KACZ,EAAE,eACJ,EAyBG,IAAQ,CACX,EACA,EAAAA,QAAA,cAACE,GAAA,CAAO,GAAG,YAAY,MAAM,cAC3B,EAAAF,QAAA,cAxBY,IAEd,EAAAA,QAAA,gBAAAA,QAAA,cACE,EAAAA,QAAA,cAAC,QACC,KAAK,OACL,cAAc,QACd,iBAAiB,KACjB,YAAY,KACZ,EAAE,kHACJ,EACA,EAAAA,QAAA,cAAC,QAAK,EAAE,oHAAoH,CAC9H,EAaG,IAAU,CACb,CACF,EAIGG,GAAQJ,GIvDR,IAAMK,GAAmBC,GAC9B,MAAM,GAAGA,EAAG,QAAQ,MAAO,EAAE,aAAa,EACvC,KAAMC,GAAaA,EAAS,KAAK,CAAC,EAClC,KAAMC,GAASA,CAAI,EACnB,MAAOC,GAAe,CACrB,QAAQ,MACN,uBAAuBH,EAAG,QACxB,MACA,EACF,+BAA+BG,GACjC,CACF,CAAC,EAEQC,GAAsBC,GAAmC,CACpE,IAAIC,EACAC,EAEJ,GAAI,MAAM,QAAQF,CAAO,IACvBC,EAAeD,EAAQ,GACnBC,GAAc,CAChB,IAAIN,EACJ,QAASM,EACJN,EAAKM,EAAa,OAClBN,EAAKM,EAAa,GAEvBC,EAAkBP,CACpB,CAGF,OAAOO,CACT,ENvBA,IAAAC,GAA6B,gBAU7B,IAAMC,GAA0B,CAAC,CAAE,IAAAC,EAAK,UAAAC,CAAU,IAAM,CACtD,GAAM,CAACC,EAAQC,CAAS,KAAI,YAAiB,EACvCC,EAAmBC,EAAe,EAClC,CAAE,cAAAC,CAAc,EAAIF,EAEpBG,KAAW,GAAAC,IAAO,EAElBC,EAAS,CACb,GAAI,0BAA0BF,IAC9B,kBAAmB,GACnB,WAAY,YACZ,oBAAqB,GACrB,aAAc,SACd,cAAe,UACf,cAAe,GACf,qBAAsB,cACtB,YAAa,2BAA2BA,IACxC,qBAAsB,CACpB,YAAa,GACb,eAAgB,GAChB,YAAa,GACb,aAAc,EAChB,CACF,EAEA,sBAAU,IAAM,CACVP,IAAQE,GAAQC,EAAUH,CAAG,CACnC,EAAG,CAAC,CAAC,KAEL,aAAU,IAAM,CACd,GAAIE,EACF,OAAQD,OACD,iBACH,GAAAS,SAAcD,CAAM,EAAE,eAAe,CACnC,IAAKP,CACP,CAAC,EACD,UACG,aACHS,GAAgBT,CAAM,EAAE,KAAMU,MAC5B,GAAAF,SAAcD,CAAM,EAAE,cAAc,CAClC,WAAYG,CACd,CAAC,CACH,EACA,cAEA,QAAQ,KACN,oBAAoBV,gCAAqCD,IAC3D,EACA,MAGR,EAAG,CAACC,CAAM,CAAC,EAGT,EAAAW,QAAA,cAACC,GAAA,CACC,IAAK,CACH,gBAAiBR,EAAc,sBAC/B,OAAQA,EAAc,YACxB,GAEA,EAAAO,QAAA,cAACE,GAAA,IAAS,EACV,EAAAF,QAAA,cAACG,GAAA,CAAU,GAAI,2BAA2BT,IAAY,EACtD,EAAAM,QAAA,cAACI,GAAA,CAAS,GAAI,0BAA0BV,IAAY,CACtD,CAEJ,EAEOW,GAAQnB,GD7Ef,IAAMoB,GAA0C,CAAC,CAAE,KAAAC,CAAK,IAAM,CAC5D,GAAM,CAACC,EAAWC,CAAY,KAAI,aAAwB,EACpD,CAACC,EAAKC,CAAM,KAAI,aAA6B,EAEnD,uBAAU,IAAM,CACV,MAAM,QAAQJ,EAAK,OAAO,GAAKA,EAAK,QAAQ,OAAS,GACvDE,EAAa,YAAY,EACzBE,EAAOC,GAAmBL,EAAK,OAAO,CAAC,IAEvCE,EAAa,aAAa,EAC1BE,EAAOJ,EAAK,EAAE,EAElB,EAAG,CAACA,CAAI,CAAC,EAEF,GAAAM,QAAA,cAACC,GAAA,CAAI,IAAKJ,EAAK,IAAKA,EAAK,UAAWF,EAAW,CACxD,EAEOO,GAAQT,GlCrBf,IAAAU,GAAuB,gCAyBvB,IAAMC,GAAiC,CAAC,CACtC,aAAAC,EACA,SAAAC,EACA,UAAAC,EACA,MAAAC,EACA,QAAAC,EACA,cAAAC,EACA,YAAAC,EACA,gBAAAC,EACA,QAAAC,CACF,IAEI,EAAAC,QAAA,cAACC,GAAA,CAAQ,UAAU,kBACjB,EAAAD,QAAA,cAACE,GAAA,KACC,EAAAF,QAAA,cAACG,GAAA,KACEJ,EACC,EAAAC,QAAA,cAACI,GAAA,CACC,SAAUZ,EACV,UAAWC,EACb,EAEAD,GAAY,EAAAQ,QAAA,cAACK,GAAA,CAAY,KAAMb,EAAU,IAAKD,EAAc,EAE9D,EAAAS,QAAA,cAACM,GAAA,KACC,EAAAN,QAAA,cAAC,WAAO,GAAG,QACRF,EAAkB,aAAe,kBACpC,CACF,EACCJ,EAAM,OAAS,GACd,EAAAM,QAAA,cAACO,GAAA,CAAa,UAAU,mBACtB,EAAAP,QAAA,cAACQ,GAAA,CAAM,MAAOd,EAAO,WAAY,EAAG,CACtC,CAEJ,EACCE,IAAkBD,GAAWE,IAC5B,EAAAG,QAAA,cAACS,GAAA,KACC,EAAAT,QAAA,cAACU,GAAA,KACC,EAAAV,QAAA,cAACW,GAAA,CAAU,aAAcpB,EAAc,UAAWE,EAAW,CAC/D,CACF,CAEJ,CACF,EAIGmB,GAAQtB,G0C5Ef,IAAAuB,GAAkB,oBCElB,IAAMC,GAAsBC,EAAO,MAAO,CACxC,QAAS,OACT,cAAe,SACf,WAAY,QACd,CAAC,EAEKC,GAAWD,EAAO,IAAK,CAC3B,WAAY,WACZ,WAAY,OACZ,SAAU,SACZ,CAAC,EAEKE,GAAYF,EAAO,OAAQ,CAC/B,SAAU,QACZ,CAAC,EDLD,IAAMG,GAA8C,CAAC,CAAE,MAAAC,CAAM,IAAM,CACjE,GAAM,CAAE,QAAAC,CAAQ,EAAID,EAEpB,OACE,GAAAE,QAAA,cAACC,GAAA,CAAoB,KAAK,SACxB,GAAAD,QAAA,cAACE,GAAA,CAAS,cAAY,YAAW,sBAAoB,EACpDH,GAAW,GAAAC,QAAA,cAACG,GAAA,KAAW,kBAAkBJ,IAAU,GAAC,CACvD,CAEJ,EAEOK,GAAQP,G/DDf,IAAAQ,GAA8B,gCAOxBC,GAAgC,CAAC,CAAE,SAAAC,EAAU,MAAAC,CAAM,IAAM,CAI7D,IAAMC,EAAmBC,EAAe,EAClC,CAAE,aAAAC,EAAc,oBAAAC,EAAqB,MAAAC,EAAO,cAAAC,CAAc,EAC9DL,EAKI,CAACM,EAASC,CAAU,KAAI,YAAS,EAAK,EACtC,CAACC,EAAaC,CAAc,KAAI,YAAkB,EAAK,EACvD,CAACC,EAAiBC,CAAkB,KAAI,YAAkB,EAAI,EAC9D,CAACC,EAAUC,CAAW,KAAI,YAC9B,MACF,EACM,CAACC,EAAWC,CAAY,KAAI,YAA4B,CAAC,CAAC,EAK1D,CAACC,EAAcC,CAAe,EAAIC,GAAc,EAAK,EACrDC,EAAkBC,GAAcC,GAAM,EAAE,EAE9C,sBAAU,IAAM,CACd,GAAI,CAACF,EAAiB,CACpBR,EAAmB,EAAI,EACvB,MACF,CACAA,EAAmB,EAAK,CAC1B,EAAG,CAACQ,CAAe,CAAC,KAEpB,aAAU,IAAM,CACd,GAAI,CAACA,EAAiB,CACpBF,EAAgB,EAAK,EACrB,MACF,CACAA,EAAgBP,CAAe,CACjC,EAAG,CAACA,CAAe,CAAC,KAEpB,aAAU,IAAM,CACd,IAAME,EAAWU,GAAoBlB,EAAOF,CAAY,EAClDY,EAAYS,GAChBnB,EACAF,EACA,UACF,EACIU,IACFL,EACE,CAAC,QAAS,OAAO,EAAE,QAAQK,EAAS,IAA6B,EAAI,EAGvE,EACAC,EAAY,CAAE,GAAGD,CAAS,CAAC,GAE7BG,EAAaD,CAAS,EACtBL,EAAeK,EAAU,SAAW,CAAC,CACvC,EAAG,CAACZ,CAAY,CAAC,EAGf,EAAAsB,QAAA,cAAC,kBAAc,kBAAmBC,IAChC,EAAAD,QAAA,cAACE,GAAA,CACC,UAAW,GAAG3B,gBACd,mBAAkBiB,EAClB,iBAAgBR,EAChB,sBAAqBE,GAErB,EAAAc,QAAA,cAAa,QAAZ,CACC,KAAMd,EACN,aAAcC,GAEd,EAAAa,QAAA,cAACG,GAAA,CACC,cAAe7B,EAAS,MACxB,WAAYA,EAAS,GACvB,EACA,EAAA0B,QAAA,cAACI,GAAA,CACC,aAAc1B,EACd,SAAUU,EACV,UAAWE,EACX,MAAOhB,EAAS,MAChB,QAASO,EAAc,YACvB,QAASC,EACT,cAAeH,EACf,YAAaK,EACb,gBAAiBE,EACnB,CACF,CACF,CACF,CAEJ,EAEOmB,GAAQhC,GPhHf,IAAAiC,GAA4B,2BAUtBC,GAAuB,CAAC,CAC5B,iBAAAC,EAAmB,IAAM,CAAC,EAC1B,YAAAC,EACA,GAAAC,EACA,WAAAC,EACA,QAAAC,CACF,IAEI,EAAAC,QAAA,cAACC,GAAA,KACC,EAAAD,QAAA,cAACE,GAAA,CACC,GAAIL,EACJ,WAAYC,EACZ,iBAAkBH,EAClB,YAAaC,EACb,QAASG,EACX,CACF,EAIEG,GAAgC,CAAC,CACrC,iBAAAP,EACA,YAAAC,EACA,GAAAC,EACA,WAAAC,EACA,QAAAC,CACF,IAAM,CACJ,IAAMI,EAAgBC,GAAkB,EAMlCC,EAAQC,EAAe,EACvB,CAAE,aAAAC,EAAc,eAAAC,EAAgB,SAAAC,EAAU,MAAAC,CAAM,EAAIL,EACpD,CAACM,EAAcC,CAAe,KAAI,YAEtC,EACI,CAACC,EAAUC,CAAW,KAAI,YAA6B,EAKzDC,EAAQ,CAAC,EAwFb,OAvFInB,IAAamB,KAAQ,gBAAY,SAAUnB,CAAW,MAM1D,aAAU,IAAM,CACVD,GAAkBA,EAAiBY,CAAY,CACrD,EAAG,CAACA,CAAY,CAAC,KAEjB,aAAU,IAAM,CACVC,GACFE,EACG,aAAaF,CAAc,EAC3B,KAAMQ,GAAc,CACnBF,EAAYE,CAAI,EAChBb,EAAS,CACP,KAAM,qBACN,SAAUa,EAAK,MAAM,IAAMA,EAAK,MAAM,GAAG,EAC3C,CAAC,CACH,CAAC,EACA,MAAOC,GAAe,CACrB,QAAQ,MAAM,4BAA4BA,GAAO,CACnD,CAAC,EACA,QAAQ,IAAM,CACbd,EAAS,CACP,KAAM,iBACN,SAAU,EACZ,CAAC,CACH,CAAC,CACP,EAAG,CAACK,CAAc,CAAC,KAEnB,aAAU,IAAM,CACd,IAAIU,EAAWrB,EAKXC,IAAYoB,EAAWpB,GAE3BK,EAAS,CACP,KAAM,sBACN,cAAeJ,CACjB,CAAC,EAEDW,EACG,KAAKQ,CAAQ,EACb,KAAMF,GAAc,CACnBJ,EAAgBI,CAAI,CACtB,CAAC,EACA,MAAOC,GAAe,CACrB,QAAQ,MAAM,qBAAqBC,qBAA4BD,GAAO,CACxE,CAAC,CACL,EAAG,CAACpB,EAAIE,CAAO,CAAC,KAEhB,aAAU,IAAM,CACd,IAAIoB,EAAsB,CAAC,GAEvBR,GAAA,YAAAA,EAAc,QAAS,cACzBR,EAAS,CACP,KAAM,mBACN,WAAYQ,CACd,CAAC,EAEDQ,EAAYR,EAAa,MACtB,OAAQS,GAASA,EAAK,OAAS,UAAU,EACzC,IAAKP,GAAaA,EAAS,EAAE,EAE5BM,EAAU,OAAS,GACrBhB,EAAS,CACP,KAAM,uBACN,WAAYgB,EAAU,EACxB,CAAC,IAEMR,GAAA,YAAAA,EAAc,QAAS,YAChCR,EAAS,CACP,KAAM,uBACN,WAAYQ,EAAa,EAC3B,CAAC,CAEL,EAAG,CAACA,CAAY,CAAC,EAOZF,EAUD,CAACI,GAAY,CAACA,EAAS,OACzB,QAAQ,IAAI,qBAAqBf,mBAA4B,EACtD,EAAAE,QAAA,gBAAAA,QAAA,aAAE,GASPa,EAAS,MAAS,SAAW,GAC/B,QAAQ,IAAI,qBAAqBf,8BAAuC,EACjE,EAAAE,QAAA,gBAAAA,QAAA,aAAE,GASJ,EAAAA,QAAA,cAACqB,GAAA,CAAO,SAAUR,EAAU,MAAOE,EAAO,IAAKF,EAAS,GAAI,EAhC7C,EAAAb,QAAA,gBAAAA,QAAA,cAAE,SAAO,CAiCjC,EAEOsB,GAAQ5B",
  "names": ["checkIsEmpty", "arg", "throwIsEmpty", "argPosition", "Error", "checkValidActionCreator", "throwInvalidActionCreator", "checkInvalidActionCreatorInArray", "idx", "getType", "checkValidActionType", "checkInvalidActionType", "throwInvalidActionType", "checkInvalidActionTypeInArray", "action", "type", "payload", "meta", "error", "createCustomAction", "createHandler", "Object", "assign", "customProps", "undefined", "toString", "createAction", "payloadCreator", "metaCreator", "actionCreator", "bind", "createStandardAction", "_type", "map", "fn", "requestArg", "successArg", "failureArg", "cancelArg", "results", "index", "Array", "isArray", "request", "success", "failure", "cancel", "createReducer", "initialState", "initialHandlers", "handlers", "reducerHandler", "singleOrMultipleCreatorsAndTypes", "reducer", "creatorsAndTypes", "newHandlers", "acOrType", "forEach", "state", "hasOwnProperty", "handleAction", "handleType", "actionCreatorOrCreators", "actionCreators", "assertFn", "_action", "some", "actionTypeOrTypes", "actionTypes", "includes", "src_exports", "__export", "src_default", "__toCommonJS", "import_react", "import_react", "r", "$", "r", "G", "q", "V", "U", "W", "S", "x", "z", "T", "i", "__publicField", "a", "s", "B", "we", "O", "Re", "H", "Y", "Ee", "K", "Q", "Le", "X", "Z", "Te", "J", "ee", "Me", "Se", "te", "ie", "ne", "re", "xe", "Oe", "ae", "se", "oe", "le", "Pe", "ve", "pe", "Fe", "fe", "he", "De", "ke", "P", "m", "ce", "Ne", "je", "$e", "Ge", "F", "qe", "Ve", "Ue", "l", "v", "We", "ze", "Be", "p", "ue", "de", "f", "h", "He", "c", "Ye", "Ke", "Qe", "Xe", "Ze", "Je", "et", "tt", "it", "nt", "rt", "at", "st", "me", "ge", "lt", "i", "a", "s", "vt", "D", "r", "pt", "ft", "k", "b", "w", "ht", "ct", "st", "v", "T", "q", "V", "G", "$", "U", "W", "u", "N", "ut", "ye", "dt", "l", "R", "L", "M", "j", "_e", "g", "Ae", "d", "mt", "y", "A", "E", "gt", "C", "_a", "o", "Ce", "Ie", "I", "_", "yt", "n", "import_typesafe_actions", "_defineProperty", "obj", "key", "value", "ownKeys", "object", "enumerableOnly", "keys", "symbols", "sym", "_objectSpread2", "target", "i", "source", "key", "_defineProperty", "formatProdErrorMessage", "code", "$$observable", "randomString", "ActionTypes", "isPlainObject", "obj", "proto", "createStore", "reducer", "preloadedState", "enhancer", "_ref2", "formatProdErrorMessage", "currentReducer", "currentState", "currentListeners", "nextListeners", "isDispatching", "ensureCanMutateNextListeners", "getState", "subscribe", "listener", "isSubscribed", "index", "dispatch", "action", "isPlainObject", "listeners", "i", "replaceReducer", "nextReducer", "ActionTypes", "observable", "_ref", "outerSubscribe", "observer", "observeState", "unsubscribe", "$$observable", "assertReducerShape", "reducers", "key", "reducer", "initialState", "ActionTypes", "formatProdErrorMessage", "combineReducers", "reducerKeys", "finalReducers", "i", "finalReducerKeys", "unexpectedKeyCache", "shapeAssertionError", "e", "state", "action", "warningMessage", "hasChanged", "nextState", "_i", "_key", "previousStateForKey", "nextStateForKey", "actionType", "compose", "_len", "funcs", "_key", "arg", "a", "b", "applyMiddleware", "middlewares", "createStore", "store", "_dispatch", "formatProdErrorMessage", "middlewareAPI", "chain", "middleware", "_objectSpread2", "IMPORT_ENTITIES", "MODIFY_ENTITY_FIELD", "REORDER_ENTITY_FIELD", "ADD_REFERENCE", "REMOVE_REFERENCE", "importEntities", "modifyEntityField", "reorderEntityField", "addReference", "removeReference", "entityActions", "ADD_MAPPING", "ADD_MAPPINGS", "addMapping", "addMappings", "SET_META_VALUE", "SET_META_VALUE_DYNAMIC", "UNSET_META_VALUE", "setMetaValue", "setMetaValueDynamic", "unsetMetaValue", "metaActions", "RESOURCE_ERROR", "RESOURCE_LOADING", "RESOURCE_READY", "REQUEST_RESOURCE", "REQUEST_ERROR", "REQUEST_MISMATCH", "REQUEST_COMPLETE", "REQUEST_OFFLINE_RESOURCE", "requestResource", "requestError", "requestMismatch", "requestComplete", "BATCH_ACTIONS", "BATCH_IMPORT", "batchActions", "actionListFromResource", "id", "response", "entities", "resource", "mapping", "ct", "actions", "safeIsNaN", "value", "isEqual", "first", "second", "areInputsEqual", "newInputs", "lastInputs", "i", "resolveIfExists", "state", "url", "request", "resourceType", "createFetchHelper", "store", "fetcher", "waitTimeout", "options", "cleanupSubscription", "didContinue", "resolvedEntity", "resolve", "reject", "latestState", "maybeResolvedEntity", "toDispatch", "err", "getDefaultEntities", "mappingReducer", "action", "isReferenceList", "type", "key", "entitiesReducer", "_a", "entity", "result", "removed", "keys", "toReturn", "indexToRemove", "e", "requestReducer", "metaReducer", "updateValue", "meta", "createBatchReducer", "rootReducer", "reducers", "combineReducers", "composeEnhancers", "compose", "createStore", "enableDevtools", "iiifStoreName", "defaultState", "extraMiddleware", "customReducers", "applyMiddleware", "mitt", "n", "t", "Vault", "__publicField", "next", "realAction", "state2", "json", "cb", "config", "dt", "gt", "yt", "reference", "skipSelfReturn", "_type2", "_type", "_id", "selector", "subscription", "skipInitial", "a", "lastState", "selectedState", "metaKey", "resourceMeta", "newValueOrUpdate", "defaultConfigOptions", "defaultState", "Vault", "ViewerStateContext", "React", "ViewerDispatchContext", "viewerReducer", "state", "action", "ViewerProvider", "initialState", "children", "dispatch", "useViewerState", "context", "useViewerDispatch", "import_react", "getUrl", "obj", "getAccompanyingCanvasImage", "accompanyingCanvas", "thumbnail", "getCanvasByCriteria", "vault", "item", "motivation", "paintingType", "_a", "_b", "entity", "filterAnnotations", "annotation", "annotationBody", "resource", "getLabel", "label", "language", "codes", "getPaintingResource", "vault", "id", "canvasEntity", "getCanvasByCriteria", "getSupplementingResources", "vault", "activeCanvas", "format", "canvas", "annotationPage", "annotations", "annotation", "_a", "annotationBody", "resource", "filtered", "getThumbnail", "vault", "entity", "width", "height", "candidates", "canvasThumbnail", "annotationThumbnail", "annotationBody", "import_react", "theme", "media", "styled", "css", "keyframes", "createTheme", "Collapsible", "MediaWrapper", "styled", "Content", "Main", "CollapsibleTrigger", "CollapsibleContent", "Aside", "Wrapper", "import_react", "useMediaQuery", "mediaQuery", "match", "isMatch", "setIsMatch", "handler", "import_react", "useBodyLocked", "initialLocked", "locked", "setLocked", "originalOverflow", "Collapsible", "import_react", "import_design_system", "Select", "CollectionIcon", "styled", "CollectionButton", "CollectionContent", "CollectionItem", "CollectionLabel", "CollectionStyled", "IIIFBadgeButton", "styled", "IIIFBadgeContent", "ManifestLabel", "Header", "CollectionStyled", "import_design_system", "import_react", "IIIFBadge", "red", "blue", "React", "IIIFBadge_default", "import_react", "import_react", "useCopyToClipboard", "text", "notifyTimeout", "copyStatus", "setCopyStatus", "copy", "timeoutId", "Status", "styled", "CopyTextStatus", "status", "React", "CopyText", "textPrompt", "textToCopy", "copyStatus", "copyText", "useCopyToClipboard", "CopyText_default", "Select", "import_nectar_iiif", "import_react", "import_react", "SelectIcon", "direction", "title", "React", "CollectionIcon", "Icon_default", "Collection", "dispatch", "useViewerDispatch", "viewerState", "useViewerState", "activeManifest", "collection", "configOptions", "vault", "maxHeight", "React", "CollectionStyled", "manifestId", "CollectionButton", "Icon_default", "CollectionContent", "CollectionLabel", "item", "CollectionItem", "Collection_default", "import_nectar_iiif", "import_react", "Switch", "StyledSwitch", "styled", "StyledThumb", "Wrapper", "Label", "StyledToggle", "Toggle", "dispatch", "useViewerDispatch", "checked", "setChecked", "React", "StyledToggle", "Wrapper", "Label", "StyledSwitch", "StyledThumb", "Toggle_default", "ViewerHeader", "manifestId", "manifestLabel", "viewerState", "useViewerState", "collection", "configOptions", "showTitle", "showIIIFBadge", "showInformationToggle", "React", "Header", "Collection_default", "ManifestLabel", "IIIFBadgeButton", "IIIFBadge_default", "IIIFBadgeContent", "e", "CopyText_default", "Toggle_default", "Header_default", "import_react", "import_react", "RadioGroup", "Group", "styled", "import_react", "cleanTime", "standardNotation", "array", "hours", "minutes", "seconds", "zeroPad", "time", "convertTime", "duration", "zeroPad", "num", "places", "import_design_system", "RadioGroup", "import_design_system", "Type", "styled", "Spacer", "Duration", "Item", "import_nectar_iiif", "IconPath", "type", "React", "Thumbnail", "canvas", "canvasIndex", "isActive", "thumbnail", "handleChange", "Item", "getLabel", "Type", "Spacer", "Duration", "convertTime", "Thumbnail_default", "getResourceType", "annotation", "import_react", "Form", "styled", "Input", "Button", "Direction", "Wrapper", "import_react", "useKeyPress", "key", "action", "onKeyup", "e", "useKeyPress_default", "PreviousIcon", "React", "NextIcon", "CloseIcon", "SearchIcon", "Controls", "handleCanvasToggle", "handleFilter", "activeIndex", "canvasLength", "toggleFilter", "setToggleFilter", "isNextDisabled", "setIsNextDisabled", "isPreviousDisabled", "setIsPreviousDisabled", "useKeyPress_default", "handleFilterToggle", "prevToggleFilter", "Wrapper", "Form", "Input", "event", "Direction", "Button", "Controls_default", "Media", "items", "dispatch", "useViewerDispatch", "state", "useViewerState", "activeCanvas", "vault", "filter", "setFilter", "mediaItems", "setMediaItems", "activeIndex", "setActiveIndex", "scrollRef", "React", "motivation", "paintingType", "handleChange", "canvasId", "entities", "item", "getCanvasByCriteria", "canvasEntity", "index", "element", "leftPos", "Controls_default", "value", "step", "Group", "_a", "label", "getLabel", "_b", "Thumbnail_default", "getThumbnail", "getResourceType", "Media_default", "import_react", "Tabs", "Wrapper", "styled", "List", "Trigger", "Content", "Scroll", "import_react", "RadioGroup", "spin", "keyframes", "Group", "styled", "Item", "import_uuid", "useWebVtt", "addIdentifiersToParsedCues", "cues", "cue", "identifier", "uuidv4", "createNestedCues", "flat", "idCues", "getNestedChildren", "arr", "parent", "out", "item", "currentItemParent", "arrItem", "a", "b", "aDuration", "bDuration", "children", "isChild", "currentCue", "orderCuesByTime", "cue1", "cue2", "use_webvtt_default", "import_react", "import_react", "import_react", "defaultValue", "CurrentTimeContext", "React", "CurrentTimeProvider", "children", "currentTime", "setCurrentTime", "startTime", "setStartTime", "updateStartTime", "t", "updateCurrentTime", "Cue", "label", "start", "end", "currentTime", "updateStartTime", "React", "CurrentTimeContext", "isActive", "Item", "convertTime", "Cue_default", "MenuStyled", "styled", "Item", "Menu", "items", "React", "MenuStyled", "text", "start", "end", "cueChildren", "identifier", "Cue_default", "Menu_default", "import_node_webvtt", "Resource", "resource", "cues", "setCues", "React", "id", "label", "createNestedCues", "orderCuesByTime", "use_webvtt_default", "response", "data", "flatCues", "orderedCues", "nestedCues", "error", "Group", "getLabel", "Menu_default", "Resource_default", "import_nectar_iiif", "AboutContent", "styled", "AboutStyled", "import_nectar_iiif", "import_react", "PropertiesHomepage", "homepage", "React", "Homepage_default", "import_react", "PropertiesId", "id", "htmlLabel", "parent", "React", "Id_default", "import_react", "import_nectar_iiif", "PropertiesMetadata", "metadata", "parent", "React", "Metadata_default", "import_react", "import_nectar_iiif", "PropertiesRequiredStatement", "requiredStatement", "parent", "React", "RequiredStatement_default", "import_react", "PropertiesRights", "rights", "React", "Rights_default", "import_nectar_iiif", "import_react", "PropertiesSeeAlso", "seeAlso", "React", "SeeAlso_default", "import_react", "import_nectar_iiif", "PropertiesSummary", "summary", "parent", "React", "Summary_default", "import_react", "import_nectar_iiif", "PropertiesThumbnail", "label", "thumbnail", "React", "Thumbnail_default", "import_react", "About", "viewerState", "useViewerState", "activeManifest", "vault", "manifest", "setManifest", "homepage", "setHomepage", "seeAlso", "setSeeAlso", "thumbnail", "setThumbnail", "_a", "_b", "_c", "data", "React", "AboutStyled", "AboutContent", "Thumbnail_default", "Summary_default", "Metadata_default", "RequiredStatement_default", "Rights_default", "Homepage_default", "SeeAlso_default", "Id_default", "About_default", "Navigator", "activeCanvas", "resources", "viewerState", "useViewerState", "configOptions", "renderAbout", "activeResource", "setActiveResource", "handleValueChange", "value", "React", "Wrapper", "List", "Trigger", "id", "label", "Scroll", "Content", "About_default", "resource", "Resource_default", "Navigator_default", "import_react", "import_hls", "PlayerWrapper", "styled", "import_react", "AudioVisualizerWrapper", "styled", "AudioVisualizer", "React", "_props", "ref", "canvasRef", "audioVisualizer", "video", "context", "src", "analyser", "canvas", "ctx", "bufferLength", "dataArray", "renderFrame", "width", "height", "barWidth", "barHeight", "x", "i", "AudioVisualizerWrapper", "AudioVisualizer_default", "import_react", "Track", "resource", "ignoreCaptionLabels", "label", "getLabel", "value", "React", "Track_default", "Player", "painting", "resources", "_a", "playerRef", "React", "isAudio", "startTime", "updateCurrentTime", "CurrentTimeContext", "viewerState", "useViewerState", "activeCanvas", "configOptions", "vault", "activeCanvasObject", "getCanvasByCriteria", "posterImage", "getAccompanyingCanvasImage", "hls", "Hls", "event", "data", "video", "handlePlay", "PlayerWrapper", "resource", "Track_default", "AudioVisualizer_default", "Player_default", "import_react", "import_react", "import_openseadragon", "Navigator", "styled", "Viewport", "Wrapper", "import_react", "import_react", "Item", "styled", "Button", "id", "label", "children", "React", "Item", "Button_default", "Wrapper", "styled", "Controls", "React", "Wrapper", "Button_default", "Controls_default", "getInfoResponse", "id", "response", "json", "error", "getImageServiceURI", "service", "imageService", "imageServiceURI", "import_uuid", "OSD", "uri", "imageType", "osdUri", "setOsdUri", "viewerState", "useViewerState", "configOptions", "instance", "uuidv4", "config", "OpenSeadragon", "getInfoResponse", "tileSource", "React", "Wrapper", "Controls_default", "Navigator", "Viewport", "OSD_default", "ImageViewer", "body", "imageType", "setImageType", "uri", "setUri", "getImageServiceURI", "React", "OSD_default", "ImageViewer_default", "import_design_system", "ViewerContent", "activeCanvas", "painting", "resources", "items", "isAbout", "isInformation", "isNavigator", "isNavigatorOpen", "isMedia", "React", "Content", "CurrentTimeProvider", "Main", "Player_default", "ImageViewer_default", "CollapsibleTrigger", "MediaWrapper", "Media_default", "Aside", "CollapsibleContent", "Navigator_default", "Content_default", "import_react", "ErrorFallbackStyled", "styled", "Headline", "ErrorBody", "ErrorFallback", "error", "message", "React", "ErrorFallbackStyled", "Headline", "ErrorBody", "ErrorFallback_default", "import_react_error_boundary", "Viewer", "manifest", "theme", "viewerState", "useViewerState", "activeCanvas", "informationExpanded", "vault", "configOptions", "isMedia", "setIsMedia", "isNavigator", "setIsNavigator", "isNavigatorOpen", "setIsNavigatorOpen", "painting", "setPainting", "resources", "setResources", "isBodyLocked", "setIsBodyLocked", "useBodyLocked", "isSmallViewport", "useMediaQuery", "media", "getPaintingResource", "getSupplementingResources", "React", "ErrorFallback_default", "Wrapper", "Header_default", "Content_default", "Viewer_default", "import_react", "App", "canvasIdCallback", "customTheme", "id", "manifestId", "options", "React", "ViewerProvider", "RenderViewer", "dispatch", "useViewerDispatch", "store", "useViewerState", "activeCanvas", "activeManifest", "isLoaded", "vault", "iiifResource", "setIiifResource", "manifest", "setManifest", "theme", "data", "error", "resource", "manifests", "item", "Viewer_default", "src_default"]
}
